(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"d",(function(){return rootStyle})),__webpack_require__.d(__webpack_exports__,"e",(function(){return topUIStyle})),__webpack_require__.d(__webpack_exports__,"b",(function(){return countStyle})),__webpack_require__.d(__webpack_exports__,"a",(function(){return actionsStyle})),__webpack_require__.d(__webpack_exports__,"c",(function(){return getStackItemStyle}));var templateObject_1,templateObject_2,templateObject_3,templateObject_4,templateObject_5,tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(9),emotion__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(98),rootStyle=Object(emotion__WEBPACK_IMPORTED_MODULE_1__.a)(templateObject_1||(templateObject_1=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)(["\n  font-family: Verdana, sans-serif;\n  font-size: 14px;\n  margin-top: 20px;\n"],["\n  font-family: Verdana, sans-serif;\n  font-size: 14px;\n  margin-top: 20px;\n"]))),topUIStyle=Object(emotion__WEBPACK_IMPORTED_MODULE_1__.a)(templateObject_2||(templateObject_2=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)(["\n  padding: 20px 0 0;\n  border-top: 1px solid #ddd;\n  z-index: 1;\n  background: white;\n  position: sticky;\n  top: 0;\n  border-bottom: 1px solid #ddd;\n  margin: 20px 0;\n  select {\n    font-size: 14px;\n    font-family: Verdana, sans-serif;\n    padding: 4px 8px;\n    margin-right: 10px;\n    width: 200px;\n  }\n  button,\n  input[type='number'] {\n    font-size: 14px;\n    margin-right: 10px;\n    padding: 4px 8px;\n    border-radius: 2px;\n    font-family: Verdana, sans-serif;\n    &:focus {\n      outline: 1px solid #48a7f6;\n    }\n    display: inline-block;\n  }\n  label {\n    font-size: 18px;\n    font-family: monospace;\n  }\n  input[type='number'] {\n    width: 84px;\n    border: 1px solid gray;\n    font-size: 18px;\n    font-family: monospace;\n    height: 17px;\n    padding-left: 10px;\n  }\n  button {\n    border: 1px solid lightgray;\n    &:hover:not(:disabled) {\n      background: #f7f8fa;\n    }\n    cursor: pointer;\n    :disabled {\n      border-color: #ddd;\n      cursor: inherit;\n    }\n    min-width: 95px;\n  }\n"],["\n  padding: 20px 0 0;\n  border-top: 1px solid #ddd;\n  z-index: 1;\n  background: white;\n  position: sticky;\n  top: 0;\n  border-bottom: 1px solid #ddd;\n  margin: 20px 0;\n  select {\n    font-size: 14px;\n    font-family: Verdana, sans-serif;\n    padding: 4px 8px;\n    margin-right: 10px;\n    width: 200px;\n  }\n  button,\n  input[type='number'] {\n    font-size: 14px;\n    margin-right: 10px;\n    padding: 4px 8px;\n    border-radius: 2px;\n    font-family: Verdana, sans-serif;\n    &:focus {\n      outline: 1px solid #48a7f6;\n    }\n    display: inline-block;\n  }\n  label {\n    font-size: 18px;\n    font-family: monospace;\n  }\n  input[type='number'] {\n    width: 84px;\n    border: 1px solid gray;\n    font-size: 18px;\n    font-family: monospace;\n    height: 17px;\n    padding-left: 10px;\n  }\n  button {\n    border: 1px solid lightgray;\n    &:hover:not(:disabled) {\n      background: #f7f8fa;\n    }\n    cursor: pointer;\n    :disabled {\n      border-color: #ddd;\n      cursor: inherit;\n    }\n    min-width: 95px;\n  }\n"]))),countStyle=Object(emotion__WEBPACK_IMPORTED_MODULE_1__.a)(templateObject_3||(templateObject_3=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)(["\n  font-size: 18px;\n  margin-bottom: 20px;\n  font-family: monospace;\n"],["\n  font-size: 18px;\n  margin-bottom: 20px;\n  font-family: monospace;\n"]))),actionsStyle=Object(emotion__WEBPACK_IMPORTED_MODULE_1__.a)(templateObject_4||(templateObject_4=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 20px;\n  white-space: nowrap;\n"],["\n  display: flex;\n  align-items: center;\n  margin-bottom: 20px;\n  white-space: nowrap;\n"]))),getStackItemStyle=function(props){return Object(emotion__WEBPACK_IMPORTED_MODULE_1__.a)(templateObject_5||(templateObject_5=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)(["\n  padding: 6px 0;\n  cursor: default;\n  ","\n"],["\n  padding: 6px 0;\n  cursor: default;\n  ","\n"])),props.active?"color: #48a7f6;":"\n    cursor: pointer;\n    &:hover {\n      background: #f7f8fa;\n    } \n  ")}},2:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return bindActionCreators})),__webpack_require__.d(__webpack_exports__,"b",(function(){return bindSeparateActionCreators})),__webpack_require__.d(__webpack_exports__,"c",(function(){return bindUndoableActionCreators})),__webpack_require__.d(__webpack_exports__,"d",(function(){return combineHandlers})),__webpack_require__.d(__webpack_exports__,"e",(function(){return invertFTHandler})),__webpack_require__.d(__webpack_exports__,"f",(function(){return invertHandlers})),__webpack_require__.d(__webpack_exports__,"g",(function(){return makeFTHandler})),__webpack_require__.d(__webpack_exports__,"h",(function(){return makeHandler})),__webpack_require__.d(__webpack_exports__,"i",(function(){return makeReducer})),__webpack_require__.d(__webpack_exports__,"j",(function(){return makeUndoableFTHandler})),__webpack_require__.d(__webpack_exports__,"k",(function(){return makeUndoableHandler})),__webpack_require__.d(__webpack_exports__,"l",(function(){return makeUndoableReducer})),__webpack_require__.d(__webpack_exports__,"m",(function(){return makeUndoableSetter})),__webpack_require__.d(__webpack_exports__,"n",(function(){return makeUndoableUpdater})),__webpack_require__.d(__webpack_exports__,"o",(function(){return makeUnducer})),__webpack_require__.d(__webpack_exports__,"p",(function(){return makeUpdater})),__webpack_require__.d(__webpack_exports__,"q",(function(){return useBindActionCreators})),__webpack_require__.d(__webpack_exports__,"r",(function(){return useBindSeparateActionCreators})),__webpack_require__.d(__webpack_exports__,"s",(function(){return useBindUndoableActionCreators})),__webpack_require__.d(__webpack_exports__,"t",(function(){return useUndoableEffects})),__webpack_require__.d(__webpack_exports__,"u",(function(){return useUndoableReducer})),__webpack_require__.d(__webpack_exports__,"v",(function(){return wrapFTHandler}));__webpack_require__(34),__webpack_require__(850),__webpack_require__(36),__webpack_require__(37),__webpack_require__(92),__webpack_require__(131),__webpack_require__(851),__webpack_require__(197),__webpack_require__(60),__webpack_require__(61),__webpack_require__(110),__webpack_require__(852),__webpack_require__(133),__webpack_require__(38);var ramda__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(154),react__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(0),uuid__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(74);function _extends(){return(_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}var makeActionCreator=function(type){return function(payload){return{type:type,payload:payload}}},makeUActionCreator=function(type,isUndo){return function(payload){return{type:type,payload:payload,meta:{isUndo:isUndo}}}},mergeDeep=function(deepPartial,state){return Object(ramda__WEBPACK_IMPORTED_MODULE_14__.a)(deepPartial,state)},mapObject=function(obj){return function(mapFn){return fromEntries(toEntries(obj).map(mapFn))}},toEntries=function(obj){return Object.entries(obj)},fromEntries=function(entries){return Object.fromEntries(entries)},mapFilterObj=function(selector,updater,obj){return function(updater){return function(objMap){return Object.fromEntries(Object.entries(objMap).map((function(_ref){var k=_ref[0],v=_ref[1];return[k,updater(v)]})))}}((function(v){return selector(v)?updater(v):v}))(obj)},combineHandlers=function(drdo,undo){return{drdo:drdo,undo:undo}},invertHandlers=function(_ref){var drdo=_ref.drdo,undo=_ref.undo;return combineHandlers(undo,drdo)},invertFTHandler=function(handler){return function(payload){return handler((from=(_ref2=payload).from,{from:_ref2.to,to:from}));var _ref2,from}},makeHandler=function(stateSetter){return function(updaterMaker){return function(payload){return stateSetter(updaterMaker(payload))}}},makeUndoableHandler=function(stateSetter){return function(updaterForDrdoMaker,updaterForUndoMaker){return combineHandlers((function(payload){return stateSetter(updaterForDrdoMaker(payload))}),(function(payload){return stateSetter(updaterForUndoMaker(payload))}))}},makeFTHandler=function(stateSetter){return function(_ref3){var to=_ref3.to;return stateSetter(to)}},makeUndoableFTHandler=function(stateSetter){return combineHandlers((function(_ref4){var to=_ref4.to;return stateSetter(to)}),(function(_ref5){var from=_ref5.from;return stateSetter(from)}))},shouldUpdate=function(payload,prev,condition){return!condition||condition(payload)(prev)},makeUndoableSetter=function(stateSetter){return function(getter,setter){return function(selector,condition){return function(updaterForDrdoMaker,updaterForUndoMaker){return combineHandlers((function(payload){return stateSetter((function(prev){return shouldUpdate(payload,prev,condition)?setter(updaterForDrdoMaker(selector(payload)(prev))(getter(prev)))(prev):prev}))}),(function(payload){return stateSetter((function(prev){return shouldUpdate(payload,prev,condition)?setter(updaterForUndoMaker(selector(payload)(prev))(getter(prev)))(prev):prev}))}))}}}},makeUpdater=function(getter,setter){return function(selector,condition){return function(updaterMaker){return function(payload){return function(prev){return shouldUpdate(payload,prev,condition)?setter(updaterMaker(selector(payload)(prev))(getter(prev)))(prev):prev}}}}},makeUndoableUpdater=function(getter,setter){return function(selector,condition){return function(updaterForDrdoMaker,updaterForUndoMaker){return combineHandlers((function(payload){return function(prev){return shouldUpdate(payload,prev,condition)?setter(updaterForDrdoMaker(selector(payload)(prev))(getter(prev)))(prev):prev}}),(function(payload){return function(prev){return shouldUpdate(payload,prev,condition)?setter(updaterForUndoMaker(selector(payload)(prev))(getter(prev)))(prev):prev}}))}}},wrapFTHandler=function(handler,state){return function(updater){return function(payload){return handler({from:state,to:updater(payload)(state)})}}},makeUnducer=function(stateUpdaters){return{unducer:function(state,_ref6){var payload=_ref6.payload,type=_ref6.type,meta=_ref6.meta,updater=stateUpdaters[type];return updater?meta&&meta.isUndo?updater.undo(payload)(state):updater.drdo(payload)(state):state},actionCreators:mapObject(stateUpdaters)((function(_ref7){var type=_ref7[0];return[type,{drdo:makeUActionCreator(type),undo:makeUActionCreator(type,!0)}]}))}},makeReducer=function(stateUpdaters){return{reducer:function(state,_ref8){var payload=_ref8.payload,type=_ref8.type,updater=stateUpdaters[type];return updater?updater(payload)(state):state},actionCreators:mapObject(stateUpdaters)((function(_ref9){var type=_ref9[0];return[type,makeActionCreator(type)]}))}},bindActionCreators=function(dispatch,actionCreators){return mapObject(actionCreators)((function(_ref10){var type=_ref10[0],creator=_ref10[1];return[type,function(payload){return dispatch(creator(payload))}]}))},bindUndoableActionCreators=function(dispatch,actionCreators){return mapObject(actionCreators)((function(_ref11){var type=_ref11[0],creator=_ref11[1];return[type,{drdo:function(payload){return dispatch(creator.drdo(payload))},undo:function(payload){return dispatch(creator.undo(payload))}}]}))},bindSeparateActionCreators=function(dispatch,drdoActionCreators,undoActionCreators){return mapObject(drdoActionCreators)((function(_ref12){var type=_ref12[0],creator=_ref12[1];return[type,{drdo:function(payload){return dispatch(creator(payload))},undo:function(payload){return dispatch(undoActionCreators[type](payload))}}]}))},createInitialHistory=function(){var _branches,initialAction={id:Object(uuid__WEBPACK_IMPORTED_MODULE_16__.a)(),created:new Date,type:"start",payload:void 0},initialBranchId=Object(uuid__WEBPACK_IMPORTED_MODULE_16__.a)();return{currentPosition:{actionId:initialAction.id,globalIndex:0},branches:(_branches={},_branches[initialBranchId]={id:initialBranchId,created:new Date,stack:[initialAction],number:1},_branches),currentBranchId:initialBranchId}},getCurrentBranch=function(prev){return prev.branches[prev.currentBranchId]},getCurrentIndex=function(prev){return prev.currentPosition.globalIndex},addHistoryItem=function(action,clearFutureOnDo){return function(prev){return isAtHead(prev)?addActionToCurrentBranch(action)(prev):clearFutureOnDo?addActionToCurrentBranch(action)(clearFuture(prev)):addActionToNewBranch(action)(prev)}},addActionToCurrentBranch=function(action){return function(prev){var _branches2,currentIndex=getCurrentIndex(prev),currentBranch=getCurrentBranch(prev);return mergeDeep({currentPosition:{actionId:action.id,globalIndex:currentIndex+1},branches:(_branches2={},_branches2[currentBranch.id]={stack:currentBranch.stack.concat(action)},_branches2)},prev)}},clearFuture=function(prev){var _branches3,currentIndex=getCurrentIndex(prev),currentBranch=getCurrentBranch(prev);return mergeDeep({branches:(_branches3={},_branches3[currentBranch.id]={stack:currentBranch.stack.slice(0,currentIndex+1)},_branches3)},prev)},getReparentedBranches=function(newBranchId,branchId,index){return function(prev){return mapFilterObj((function(b){var _b$parent;return(null===(_b$parent=b.parent)||void 0===_b$parent?void 0:_b$parent.branchId)===branchId&&b.parent.position.globalIndex<=index}),(deepPartial={parent:{branchId:newBranchId}},Object(ramda__WEBPACK_IMPORTED_MODULE_14__.a)(deepPartial)),prev.branches);var deepPartial}},addActionToNewBranch=function(action){return function(prev){var _extends2,currentIndex=getCurrentIndex(prev),currentBranch=getCurrentBranch(prev),currentStack=currentBranch.stack,currentPosition=prev.currentPosition,newBranchId=Object(uuid__WEBPACK_IMPORTED_MODULE_16__.a)(),reparentedBranches=getReparentedBranches(newBranchId,currentBranch.id,currentIndex)(prev),newBranch={created:new Date,id:newBranchId,number:Math.max.apply(Math,Object.values(prev.branches).map((function(b){return b.number})))+1,stack:currentStack.slice(0,currentIndex+1).concat(action),parentOriginal:{branchId:currentBranch.id,position:currentPosition}};return mergeDeep({currentPosition:{actionId:action.id,globalIndex:currentIndex+1},currentBranchId:newBranchId,branches:_extends({},reparentedBranches,(_extends2={},_extends2[currentBranch.id]={lastPosition:prev.currentPosition,stack:currentStack.slice(currentIndex+1),parent:{branchId:newBranchId,position:currentPosition}},_extends2[newBranchId]=newBranch,_extends2))},prev)}},getNewPosition=function(newIndex){return function(stack){return{actionId:stack[newIndex].id,globalIndex:newIndex}}},undoUpdater=function(prev){var newIndex=getCurrentIndex(prev)-1,stack=getCurrentBranch(prev).stack;return _extends({},prev,{currentPosition:getNewPosition(newIndex)(stack)})},getSideEffectForUndoAction=function(handlers){return function(action){var type=action.type,payload=action.payload;return function(){return handlers[type].undo(payload)}}},redoUpdater=function(prev){return _extends({},prev,{currentPosition:{actionId:getActionForRedo(prev).id,globalIndex:getNewIndexForRedo(prev)}})},getNewIndexForRedo=function(history){return getCurrentIndex(history)+1},getActionForRedo=function(history){return getCurrentBranch(history).stack[getNewIndexForRedo(history)]},getSideEffectForRedoAction=function(handlers){return function(action){var type=action.type,payload=action.payload;return function(){return handlers[type].drdo(payload)}}},updatePath=function(path){return function(prevHistory){return path.reduce((function(newHist,pathBranchId){var _extends3,branch=newHist.branches[newHist.currentBranchId],stack=branch.stack,pathBranch=newHist.branches[pathBranchId],parent=pathBranch.parent,newBranchId=pathBranch.id,index=parent.position.globalIndex,reparentedBranches=getReparentedBranches(newBranchId,parent.branchId,index)(newHist);return mergeDeep({currentBranchId:newBranchId,branches:_extends({},reparentedBranches,(_extends3={},_extends3[branch.id]={stack:stack.slice(index+1),parent:{branchId:newBranchId,position:_extends({},parent.position)},lastPosition:branch.id===prevHistory.currentBranchId?_extends({},prevHistory.currentPosition):branch.lastPosition},_extends3[newBranchId]={stack:stack.slice(0,index+1).concat(pathBranch.stack),parent:void 0},_extends3))},newHist)}),prevHistory)}},createHistoryItem=function(type,payload){return{type:type,payload:payload,created:new Date,id:Object(uuid__WEBPACK_IMPORTED_MODULE_16__.a)()}},isUndoPossible=function(history){return 0<getCurrentIndex(history)},isRedoPossible=function(history){return getCurrentIndex(history)<getCurrentBranch(history).stack.length-1},isAtHead=function(history){return getCurrentIndex(history)===getCurrentBranch(history).stack.length-1},getBranchSwitchProps=function(history,branchId){var path=function getPathFromCommonAncestor(history,branchId,path){void 0===path&&(path=[]);var branch=history.branches[branchId];if(branch.parent){var newPath=[branch].concat(path);return branch.parent.branchId===history.currentBranchId?newPath:getPathFromCommonAncestor(history,branch.parent.branchId,newPath)}throw new Error("you cannot travel to the branch that you are on")}(history,branchId);return{path:path,parentIndex:path[path.length-1].parent.position.globalIndex,caIndex:path[0].parent.position.globalIndex}},getTTActions=function(newIndex){return function(prev){var currentIndex=getCurrentIndex(prev),currentStack=getCurrentBranch(prev).stack;if(newIndex===currentIndex)return{direction:"none",actions:[]};if(newIndex>currentStack.length-1||-1>newIndex)throw new Error("Invalid index "+newIndex);return newIndex<currentIndex?{direction:"undo",actions:currentStack.slice(newIndex+1,currentIndex+1).reverse()}:{direction:"redo",actions:currentStack.slice(currentIndex+1,newIndex+1)}}},defaultOptions={clearFutureOnDo:!1},useUndoableEffects=function(props){var options=props.options,_props$initialHistory=props.initialHistory,initialHistory=void 0===_props$initialHistory?createInitialHistory():_props$initialHistory,_useState=Object(react__WEBPACK_IMPORTED_MODULE_15__.useState)(initialHistory),history=_useState[0],setHistory=_useState[1],clearFutureOnDo=_extends({},defaultOptions,options).clearFutureOnDo,convertedHandlers=Object(react__WEBPACK_IMPORTED_MODULE_15__.useMemo)((function(){return props.handlers?props.handlers:(drdoHandlers=props.drdoHandlers,undoHandlers=props.undoHandlers,mapObject(drdoHandlers)((function(_ref13){var type=_ref13[0],handler=_ref13[1];return[type,combineHandlers(handler,undoHandlers[type])]})));var drdoHandlers,undoHandlers}),[props.handlers,props.drdoHandlers,props.undoHandlers]),undoables=Object(react__WEBPACK_IMPORTED_MODULE_15__.useMemo)((function(){return mapObject(convertedHandlers)((function(_ref){var type=_ref[0],handler=_ref[1];return[type,function(payload){var action=createHistoryItem(type,payload);handler.drdo(payload),setHistory(addHistoryItem(action,clearFutureOnDo))}]}))}),[clearFutureOnDo,convertedHandlers]),canUndo=Object(react__WEBPACK_IMPORTED_MODULE_15__.useMemo)((function(){return isUndoPossible(history)}),[history]),canRedo=Object(react__WEBPACK_IMPORTED_MODULE_15__.useMemo)((function(){return isRedoPossible(history)}),[history]),queuedSideEffectsRef=Object(react__WEBPACK_IMPORTED_MODULE_15__.useRef)([]);Object(react__WEBPACK_IMPORTED_MODULE_15__.useLayoutEffect)((function(){queuedSideEffectsRef.current.forEach((function(se){return se()})),queuedSideEffectsRef.current=[]}));var handleUndoRedo=Object(react__WEBPACK_IMPORTED_MODULE_15__.useCallback)((function(isPossible,getSideEffect,updater){var isSideEffectQueued=!1;setHistory((function(prev){return isPossible(prev)?(isSideEffectQueued||(isSideEffectQueued=!0,queuedSideEffectsRef.current.push(getSideEffect(prev))),updater(prev)):prev}))}),[]),undo=Object(react__WEBPACK_IMPORTED_MODULE_15__.useCallback)((function(){var handlers;handleUndoRedo(isUndoPossible,(handlers=convertedHandlers,function(history){var action=getCurrentBranch(history).stack[getCurrentIndex(history)];return getSideEffectForUndoAction(handlers)(action)}),undoUpdater)}),[handleUndoRedo,convertedHandlers]),redo=Object(react__WEBPACK_IMPORTED_MODULE_15__.useCallback)((function(){var handlers;handleUndoRedo(isRedoPossible,(handlers=convertedHandlers,function(history){var action=getActionForRedo(history);return getSideEffectForRedoAction(handlers)(action)}),redoUpdater)}),[handleUndoRedo,convertedHandlers]),timeTravelCurrentBranch=Object(react__WEBPACK_IMPORTED_MODULE_15__.useCallback)((function(newIndex){var areSideEffectsQueued=!1;setHistory((function(prev){var _getTTActions=getTTActions(newIndex)(prev),direction=_getTTActions.direction,actions=_getTTActions.actions;return"none"===direction?prev:(areSideEffectsQueued||(areSideEffectsQueued=!0,"undo"===direction?actions.forEach((function(action){queuedSideEffectsRef.current.push(getSideEffectForUndoAction(convertedHandlers)(action))})):actions.forEach((function(action){queuedSideEffectsRef.current.push(getSideEffectForRedoAction(convertedHandlers)(action))}))),_extends({},prev,{currentPosition:getNewPosition(newIndex)(getCurrentBranch(prev).stack)}))}))}),[convertedHandlers]),timeTravel=Object(react__WEBPACK_IMPORTED_MODULE_15__.useCallback)((function(indexOnBranch,branchId){if(void 0===branchId&&(branchId=history.currentBranchId),branchId===history.currentBranchId)timeTravelCurrentBranch(indexOnBranch);else{var _getBranchSwitchProps=getBranchSwitchProps(history,branchId),caIndex=_getBranchSwitchProps.caIndex,path=_getBranchSwitchProps.path,parentIndex=_getBranchSwitchProps.parentIndex;caIndex<history.currentPosition.globalIndex&&timeTravelCurrentBranch(caIndex),setHistory(updatePath(path.map((function(b){return b.id})))),timeTravelCurrentBranch(parentIndex+1+indexOnBranch)}}),[history,timeTravelCurrentBranch]),timeTravelById=Object(react__WEBPACK_IMPORTED_MODULE_15__.useCallback)((function(actionId,branchId){void 0===branchId&&(branchId=history.currentBranchId);var index=history.branches[branchId].stack.findIndex((function(action){return action.id===actionId}));if(!(0<=index))throw new Error("action with id "+actionId+" not found on branch with id "+branchId+(branchId===history.currentBranchId?"(current branch)":""));timeTravel(index,branchId)}),[history,timeTravel]),switchToBranch=Object(react__WEBPACK_IMPORTED_MODULE_15__.useCallback)((function(branchId,travelTo){if(void 0===travelTo&&(travelTo="LAST_COMMON_ACTION_IF_PAST"),branchId===history.currentBranchId)throw new Error("You cannot switch to the current branch.");var targetBranch=history.branches[branchId],_getBranchSwitchProps2=getBranchSwitchProps(history,branchId),caIndex=_getBranchSwitchProps2.caIndex,path=_getBranchSwitchProps2.path,parentIndex=_getBranchSwitchProps2.parentIndex;(caIndex<history.currentPosition.globalIndex||"LAST_COMMON_ACTION"===travelTo)&&timeTravelCurrentBranch(caIndex),setHistory(updatePath(path.map((function(b){return b.id})))),"LAST_KNOWN_POSITION_ON_BRANCH"===travelTo?timeTravelCurrentBranch(targetBranch.lastPosition.globalIndex):"HEAD_OF_BRANCH"===travelTo&&timeTravelCurrentBranch(parentIndex+targetBranch.stack.length)}),[history,timeTravelCurrentBranch]);return{undoables:undoables,canUndo:canUndo,canRedo:canRedo,undo:undo,redo:redo,timeTravel:timeTravel,timeTravelById:timeTravelById,switchToBranch:switchToBranch,history:history,setHistory:setHistory}},useBindUndoableActionCreators=function(_ref){var unducer=_ref.unducer,initialState=_ref.initialState,actionCreators=_ref.actionCreators,_useReducer=Object(react__WEBPACK_IMPORTED_MODULE_15__.useReducer)(unducer,initialState),state=_useReducer[0],dispatch=_useReducer[1];return[state,Object(react__WEBPACK_IMPORTED_MODULE_15__.useMemo)((function(){return bindUndoableActionCreators(dispatch,actionCreators)}),[actionCreators])]},useBindSeparateActionCreators=function(_ref){var reducer=_ref.reducer,initialState=_ref.initialState,drdoActionCreators=_ref.drdoActionCreators,undoActionCreators=_ref.undoActionCreators,_useReducer=Object(react__WEBPACK_IMPORTED_MODULE_15__.useReducer)(reducer,initialState),state=_useReducer[0],dispatch=_useReducer[1];return[state,Object(react__WEBPACK_IMPORTED_MODULE_15__.useMemo)((function(){return bindSeparateActionCreators(dispatch,drdoActionCreators,undoActionCreators)}),[drdoActionCreators,undoActionCreators])]},useBindActionCreators=function(_ref){var reducer=_ref.reducer,initialState=_ref.initialState,actionCreators=_ref.actionCreators,_useReducer=Object(react__WEBPACK_IMPORTED_MODULE_15__.useReducer)(reducer,initialState),state=_useReducer[0],dispatch=_useReducer[1];return[state,Object(react__WEBPACK_IMPORTED_MODULE_15__.useMemo)((function(){return bindActionCreators(dispatch,actionCreators)}),[actionCreators])]},reduce=function(reducer,isUndo,_ref,state,undoMap){var type=_ref.type,payload=_ref.payload;return reducer(state,undoMap?isUndo?undoMap[type](payload):{type:type,payload:payload}:{type:type,payload:payload,meta:{isUndo:isUndo}})},timeTravelCurrentBranch=function(prevState,newIndex,reducer,undoMap){var state=prevState.state,history=prevState.history,_getTTActions=getTTActions(newIndex)(history),direction=_getTTActions.direction,actions=_getTTActions.actions;return"none"===direction?prevState:{history:_extends({},history,{currentPosition:getNewPosition(newIndex)(getCurrentBranch(history).stack)}),state:actions.reduce((function(acc,action){return reduce(reducer,"undo"===direction,action,acc,undoMap)}),state)}},timeTravel=function(prevState,reducer,indexOnBranch,branchId,undoMap){var history=prevState.history,newState=prevState;if(branchId===history.currentBranchId)newState=timeTravelCurrentBranch(prevState,indexOnBranch,reducer,undoMap);else{var _getBranchSwitchProps=getBranchSwitchProps(history,branchId),caIndex=_getBranchSwitchProps.caIndex,path=_getBranchSwitchProps.path,parentIndex=_getBranchSwitchProps.parentIndex;caIndex<history.currentPosition.globalIndex&&(newState=timeTravelCurrentBranch(newState,caIndex,reducer,undoMap)),newState=_extends({},newState,{history:updatePath(path.map((function(b){return b.id})))(newState.history)}),newState=timeTravelCurrentBranch(newState,parentIndex+1+indexOnBranch,reducer,undoMap)}return newState},makeUndoableReducer=function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return function(prevState,reducerAction){var _reducerAction$meta,reducer=args[0],undoMap=args[1];if(null===(_reducerAction$meta=reducerAction.meta)||void 0===_reducerAction$meta?void 0:_reducerAction$meta.isUndoable){var history=prevState.history,state=prevState.state,clearFutureOnDo=reducerAction.meta.clearFutureOnDo||!1,type=reducerAction.type,payload=reducerAction.payload,historyItem=createHistoryItem(type,payload);return{history:addHistoryItem(historyItem,clearFutureOnDo)(history),state:reduce(reducer,!1,reducerAction,state,undoMap)}}var ra=reducerAction;switch(ra.type){case"undo":var _history=prevState.history,_state=prevState.state,action=getCurrentBranch(_history).stack[getCurrentIndex(_history)];return{history:undoUpdater(_history),state:reduce(reducer,!0,action,_state,undoMap)};case"redo":var _history2=prevState.history,_state2=prevState.state,_action=getActionForRedo(_history2);return{history:redoUpdater(_history2),state:reduce(reducer,!1,_action,_state2,undoMap)};case"timeTravel":var _history3=prevState.history,_ra$payload=ra.payload,_ra$payload$branchId=_ra$payload.branchId,branchId=void 0===_ra$payload$branchId?_history3.currentBranchId:_ra$payload$branchId,indexOnBranch=_ra$payload.indexOnBranch;return timeTravel(prevState,reducer,indexOnBranch,branchId,undoMap);case"timeTravelById":var _history4=prevState.history,_ra$payload2=ra.payload,_ra$payload2$branchId=_ra$payload2.branchId,_branchId=void 0===_ra$payload2$branchId?_history4.currentBranchId:_ra$payload2$branchId,actionId=_ra$payload2.actionId,index=_history4.branches[_branchId].stack.findIndex((function(action){return action.id===actionId}));if(0<=index)return timeTravel(prevState,reducer,index,_branchId,undoMap);throw new Error("action with id "+actionId+" not found on branch with id "+_branchId+(_branchId===_history4.currentBranchId?"(current branch)":""));case"switchToBranch":var travelTo=ra.payload.travelTo||"LAST_COMMON_ACTION_IF_PAST",_branchId2=ra.payload.branchId,_history5=prevState.history,newState=prevState;if(_branchId2===_history5.currentBranchId)throw new Error("You cannot switch to the current branch.");var targetBranch=_history5.branches[_branchId2],_getBranchSwitchProps2=getBranchSwitchProps(_history5,_branchId2),caIndex=_getBranchSwitchProps2.caIndex,path=_getBranchSwitchProps2.path,parentIndex=_getBranchSwitchProps2.parentIndex;return(caIndex<_history5.currentPosition.globalIndex||"LAST_COMMON_ACTION"===travelTo)&&(newState=timeTravelCurrentBranch(newState,caIndex,reducer,undoMap)),newState=_extends({},newState,{history:updatePath(path.map((function(b){return b.id})))(newState.history)}),"LAST_KNOWN_POSITION_ON_BRANCH"===travelTo?newState=timeTravelCurrentBranch(newState,targetBranch.lastPosition.globalIndex,reducer,undoMap):"HEAD_OF_BRANCH"===travelTo&&(newState=timeTravelCurrentBranch(newState,parentIndex+targetBranch.stack.length,reducer,undoMap)),newState;default:return prevState}}},useUndoableReducer=function(_ref){var _ref$initialHistory=_ref.initialHistory,initialHistory=void 0===_ref$initialHistory?createInitialHistory():_ref$initialHistory,undoableReducer=_ref.undoableReducer,initialState=_ref.initialState,actionCreators=_ref.actionCreators,options=_ref.options,clearFutureOnDo=_extends({},defaultOptions,options).clearFutureOnDo,_useReducer=Object(react__WEBPACK_IMPORTED_MODULE_15__.useReducer)(undoableReducer,{state:initialState,history:initialHistory}),_useReducer$=_useReducer[0],state=_useReducer$.state,history=_useReducer$.history,dispatch=_useReducer[1],undoables=Object(react__WEBPACK_IMPORTED_MODULE_15__.useMemo)((function(){var acs=function(dispatch,actionCreators){return mapObject(actionCreators)((function(_ref14){var type=_ref14[0];return[type,function(payload,clearFutureOnDo){dispatch({type:type,payload:payload,meta:{isUndoable:!0,clearFutureOnDo:clearFutureOnDo}})}]}))}(dispatch,actionCreators);return mapObject(acs)((function(_ref2){var type=_ref2[0],ac=_ref2[1];return[type,function(payload){return ac(payload,clearFutureOnDo)}]}))}),[actionCreators,clearFutureOnDo]),canUndo=Object(react__WEBPACK_IMPORTED_MODULE_15__.useMemo)((function(){return isUndoPossible(history)}),[history]),canRedo=Object(react__WEBPACK_IMPORTED_MODULE_15__.useMemo)((function(){return isRedoPossible(history)}),[history]),undo=Object(react__WEBPACK_IMPORTED_MODULE_15__.useCallback)((function(){return dispatch({type:"undo"})}),[]),redo=Object(react__WEBPACK_IMPORTED_MODULE_15__.useCallback)((function(){return dispatch({type:"redo"})}),[]),timeTravel=Object(react__WEBPACK_IMPORTED_MODULE_15__.useCallback)((function(indexOnBranch,branchId){return dispatch({type:"timeTravel",payload:{indexOnBranch:indexOnBranch,branchId:branchId}})}),[]),timeTravelById=Object(react__WEBPACK_IMPORTED_MODULE_15__.useCallback)((function(actionId,branchId){return dispatch({type:"timeTravelById",payload:{actionId:actionId,branchId:branchId}})}),[]),switchToBranch=Object(react__WEBPACK_IMPORTED_MODULE_15__.useCallback)((function(branchId,travelTo){return dispatch({type:"switchToBranch",payload:{branchId:branchId,travelTo:travelTo}})}),[]);return{undoables:undoables,canUndo:canUndo,canRedo:canRedo,undo:undo,redo:redo,state:state,history:history,timeTravel:timeTravel,timeTravelById:timeTravelById,switchToBranch:switchToBranch}}},3:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return addUpdater})),__webpack_require__.d(__webpack_exports__,"e",(function(){return subtractUpdater})),__webpack_require__.d(__webpack_exports__,"d",(function(){return multiplyUpdater})),__webpack_require__.d(__webpack_exports__,"b",(function(){return divideUpdater}));var _src_util_internal__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(46);__webpack_require__.d(__webpack_exports__,"c",(function(){return _src_util_internal__WEBPACK_IMPORTED_MODULE_0__.b}));var addUpdater=function(amount){return function(prev){return prev+amount}},subtractUpdater=function(amount){return function(prev){return prev-amount}},multiplyUpdater=function(amount){return function(prev){return prev*amount}},divideUpdater=function(amount){return function(prev){return prev/amount}}},331:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return IntroExample}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),_styles__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1),IntroExample=function(){var _a=Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(0),count=_a[0],setCount=_a[1],_b=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.t)({handlers:{add:{drdo:function(amount){return setCount((function(prev){return prev+amount}))},undo:function(amount){return setCount((function(prev){return prev-amount}))}},subtract:{drdo:function(amount){return setCount((function(prev){return prev-amount}))},undo:function(amount){return setCount((function(prev){return prev+amount}))}}}}),undoables=_b.undoables,canUndo=_b.canUndo,undo=_b.undo,canRedo=_b.canRedo,redo=_b.redo,add=undoables.add,subtract=undoables.subtract;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_2__.d},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_2__.e},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_2__.b},"count = ",count),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_2__.a},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{onClick:function(){return add(2)}},"add 2"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{onClick:function(){return subtract(1)}},"subtract 1"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{disabled:!canUndo,onClick:undo},"undo"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{disabled:!canRedo,onClick:redo},"redo"))))}},332:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a='### Intro - Example\n\nThe React hook **useUndoableEffects** keeps track of undoable actions, as opposed to snapshots of state. How you manage your application state is up to you and independent of the undo history state that is managed by the hook internally.\n\nIn this example there is a basic "count" state and two undoable functions "add" and "subtract" which are called with fixed payloads (2 and 1). The undo and redo buttons are disabled based on the **canUndo** and **canRedo** booleans returned by the hook.\n\nSee the readme 👉 of each example for code samples and more info, and see the other examples 👈 for different ways of making undoable functions and managing state.\n'},333:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a='### Intro - Readme & Code\n\nThe **useUndoableEffects** hook takes a **handlers** object with pairs of do/redo ("drdo") and undo handlers by action type, and returns an **undoables** object with undoable functions by action type. Additionally the hook returns **canUndo** and **canRedo** booleans, and of course ... the **undo** and **redo** functions.\n\nIf you use TypeScript then you can type **useUndoableEffects** with a record of payload by action type ("PBT"). Alternatively you could type the payloads within the handlers and let PBT be inferred.\n\nFinally note that we can also omit the "subtract" function and instead simply call the "add" function with a negated payload. This however has the downside that the user cannot differentiate between the actions in the undo history (they would all have type "add"). It\'s up to you if you care about that or not. In the next example you can see what the history looks like.\n\n```typescript\nimport React, { FC, useState } from \'react\';\nimport { useUndoableEffects } from \'use-flexible-undo\';\nimport { rootStyle, topUIStyle, countStyle, actionsStyle } from \'../styles\';\n\n// action Payload By action Type\ninterface PBT {\n  add: number;\n  subtract: number;\n}\n\nexport const IntroExample: FC = () => {\n  const [count, setCount] = useState(0);\n\n  const { undoables, canUndo, undo, canRedo, redo } = useUndoableEffects<PBT>({\n    handlers: {\n      add: {\n        drdo: amount => setCount(prev => prev + amount),\n        undo: amount => setCount(prev => prev - amount),\n      },\n      subtract: {\n        drdo: amount => setCount(prev => prev - amount),\n        undo: amount => setCount(prev => prev + amount),\n      },\n    },\n  });\n\n  const { add, subtract } = undoables;\n\n  return (\n    <div className={rootStyle}>\n      <div className={topUIStyle}>\n        <div className={countStyle}>count = {count}</div>\n        <div className={actionsStyle}>\n          <button onClick={() => add(2)}>add 2</button>\n          <button onClick={() => subtract(1)}>subtract 1</button>\n          <button disabled={!canUndo} onClick={undo}>\n            undo\n          </button>\n          <button disabled={!canRedo} onClick={redo}>\n            redo\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n```\n'},334:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DeltaPayloadExample}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),_styles__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1),_components_branch_nav__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(5),_components_action_list__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6),DeltaPayloadExample=function(){var _a=Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(0),count=_a[0],setCount=_a[1],_b=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.t)({handlers:{add:{drdo:function(amount){return setCount((function(prev){return prev+amount}))},undo:function(amount){return setCount((function(prev){return prev-amount}))}},subtract:{drdo:function(amount){return setCount((function(prev){return prev-amount}))},undo:function(amount){return setCount((function(prev){return prev+amount}))}}}}),undoables=_b.undoables,undo=_b.undo,redo=_b.redo,history=_b.history,timeTravel=_b.timeTravel,switchToBranch=_b.switchToBranch,add=undoables.add,subtract=undoables.subtract;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_2__.d},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_2__.e},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_2__.b},"count = ",count),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_2__.a},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{onClick:function(){return add(2)}},"add 2"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{onClick:function(){return subtract(1)}},"subtract 1")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_branch_nav__WEBPACK_IMPORTED_MODULE_3__.a,{history:history,switchToBranch:switchToBranch,undo:undo,redo:redo})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_action_list__WEBPACK_IMPORTED_MODULE_4__.a,{history:history,timeTravel:timeTravel,switchToBranch:switchToBranch}))}},336:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a='### State delta as payload - Example\n\nJust as in the previous example, we here manually create the do/redo and undo handlers for the undoable "add" and "subtract" functions. Each handler takes a payload ("amount") of type number that represents the change for the "count" state. Each time we call an undoable function ("add" or "subtract") the do/redo handler will be called once immediately, and an action with the corresponding type ("add" or "subtract") and payload will be added to the history as you can see below. Note that the action types are equal to the function names.\n'},337:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="### State delta as payload - Readme & Code\n\nIn the previous example there were only basic undo and redo buttons. Here we use the **history** state and the **switchToBranch** and **timeTravel** functions returned by **useUndoableEffects** to create an interactive, branching undo history. The UI for this is not part of the library, but we will address the functionality in more detail in \"time travel\" chapter. Finally note that we do not necessarily need to use the **canUndo** and **canRedo** booleans. They are returned by the hook for convenience, but you can derive them yourself from the **history** state as well. Here this is hidden within the \"BranchNav\" component.\n\n```typescript\nimport React, { FC, useState } from 'react';\nimport { useUndoableEffects } from 'use-flexible-undo';\nimport { rootStyle, topUIStyle, countStyle, actionsStyle } from '../styles';\nimport { BranchNav } from '../components/branch-nav';\nimport { ActionList } from '../components/action-list';\n\n// action Payload By action Type\ninterface PBT {\n  add: number;\n  subtract: number;\n}\n\nexport const DeltaPayloadExample: FC = () => {\n  const [count, setCount] = useState(0);\n\n  const {\n    undoables,\n    undo,\n    redo,\n    history,\n    timeTravel,\n    switchToBranch,\n  } = useUndoableEffects<PBT>({\n    handlers: {\n      add: {\n        drdo: amount => setCount(prev => prev + amount),\n        undo: amount => setCount(prev => prev - amount),\n      },\n      subtract: {\n        drdo: amount => setCount(prev => prev - amount),\n        undo: amount => setCount(prev => prev + amount),\n      },\n    },\n  });\n\n  const { add, subtract } = undoables;\n\n  return (\n    <div className={rootStyle}>\n      <div className={topUIStyle}>\n        <div className={countStyle}>count = {count}</div>\n        <div className={actionsStyle}>\n          <button onClick={() => add(2)}>add 2</button>\n          <button onClick={() => subtract(1)}>subtract 1</button>\n        </div>\n        <BranchNav\n          history={history}\n          switchToBranch={switchToBranch}\n          undo={undo}\n          redo={redo}\n        />\n      </div>\n      <ActionList\n        history={history}\n        timeTravel={timeTravel}\n        switchToBranch={switchToBranch}\n      />\n    </div>\n  );\n};\n```\n"},338:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return MakeHandlerExample}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),_styles__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1),_components_branch_nav__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(5),_components_action_list__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6),MakeHandlerExample=function(){var _a=Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(0),count=_a[0],setCount=_a[1],countHandler=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.h)(setCount),addHandler=countHandler((function(amount){return function(prev){return prev+amount}})),subHandler=countHandler((function(amount){return function(prev){return prev-amount}})),_b=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.t)({handlers:{add:Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.d)(addHandler,subHandler),subtract:Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.d)(subHandler,addHandler)}}),undoables=_b.undoables,undo=_b.undo,redo=_b.redo,history=_b.history,timeTravel=_b.timeTravel,switchToBranch=_b.switchToBranch,add=undoables.add,subtract=undoables.subtract;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_2__.d},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_2__.e},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_2__.b},"count = ",count),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_2__.a},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{onClick:function(){return add(2)}},"add 2"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{onClick:function(){return subtract(1)}},"subtract 1")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_branch_nav__WEBPACK_IMPORTED_MODULE_3__.a,{history:history,switchToBranch:switchToBranch,undo:undo,redo:redo})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_action_list__WEBPACK_IMPORTED_MODULE_4__.a,{history:history,timeTravel:timeTravel,switchToBranch:switchToBranch}))}},339:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a='### makeHandler & combineHandlers - Example\n\nThis example is equivalent to the previous example, except that we do not write the handlers from scratch. Here we use the utility **makeHandler** to convert "setCount" to handlers for adding and subtracting. We use these handlers as the do/redo and undo handlers for the "add" function, and we re-use them inversely as the undo and do/redo handlers for the "subtract" function. Additionally we use **combineHandlers** to pair up the handlers into undoable handler objects, instead of writing these out in full.\n'},340:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="### makeHandler & combineHandlers - Readme & Code\n\nThe utility **makeHandler** takes a state setter function (e.g. the one returned from React.useState) as single argument and returns a function that takes a curried function for updating the state based on the payload and the previous state. The final return value is a function that can be used as a do/redo or undo handler.\n\nNote that the curried updater functions (e.g. \"amount => prev => prev + amount\") that are written inline in this example, are pure and can be extracted and re-used. We will do this in all the following examples.\n\nThe simple utility **combineHandlers** takes the do/redo handler as first argument and the undo handler as second argument, and returns an object with 'drdo' and 'undo' as keys and the handlers as values. Use at your own risk: It may save you some lines of code, but you are responsible for passing the arguments in the right order ;)\n\nAnd for TypeScript users: Note that we do not need to type anything anymore. The payload type is inferred from \"setCount\" which in turn infers it from the initial state passed to useState. The action types are inferred from the names of the handlers. You can however still type the hook with a record of payload by type (see previous examples) if you want, for some extra guidance and safety.\n\n```typescript\nimport React, { FC, useState } from 'react';\nimport {\n  useUndoableEffects,\n  makeHandler,\n  combineHandlers,\n} from 'use-flexible-undo';\nimport { rootStyle, topUIStyle, actionsStyle, countStyle } from '../styles';\nimport { BranchNav } from '../components/branch-nav';\nimport { ActionList } from '../components/action-list';\n\nexport const MakeHandlerExample: FC = () => {\n  const [count, setCount] = useState(0);\n\n  const countHandler = makeHandler(setCount);\n  const addHandler = countHandler(amount => prev => prev + amount);\n  const subHandler = countHandler(amount => prev => prev - amount);\n\n  const {\n    undoables,\n    undo,\n    redo,\n    history,\n    timeTravel,\n    switchToBranch,\n  } = useUndoableEffects({\n    handlers: {\n      add: combineHandlers(addHandler, subHandler),\n      subtract: combineHandlers(subHandler, addHandler),\n    },\n  });\n\n  const { add, subtract } = undoables;\n\n  return (\n    <div className={rootStyle}>\n      <div className={topUIStyle}>\n        <div className={countStyle}>count = {count}</div>\n        <div className={actionsStyle}>\n          <button onClick={() => add(2)}>add 2</button>\n          <button onClick={() => subtract(1)}>subtract 1</button>\n        </div>\n        <BranchNav\n          history={history}\n          switchToBranch={switchToBranch}\n          undo={undo}\n          redo={redo}\n        />\n      </div>\n      <ActionList\n        history={history}\n        timeTravel={timeTravel}\n        switchToBranch={switchToBranch}\n      />\n    </div>\n  );\n};\n```\n"},341:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return MakeUndoableHandlerExample}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),_examples_util__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),_styles__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1),_components_branch_nav__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(5),_components_action_list__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(6),MakeUndoableHandlerExample=function(){var _a=Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(0),count=_a[0],setCount=_a[1],undoableAddHandler=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.k)(setCount)(_examples_util__WEBPACK_IMPORTED_MODULE_2__.a,_examples_util__WEBPACK_IMPORTED_MODULE_2__.e),_b=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.t)({handlers:{add:undoableAddHandler,subtract:Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.f)(undoableAddHandler)}}),undoables=_b.undoables,undo=_b.undo,redo=_b.redo,history=_b.history,timeTravel=_b.timeTravel,switchToBranch=_b.switchToBranch,add=undoables.add,subtract=undoables.subtract;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.d},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.e},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.b},"count = ",count),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.a},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{onClick:function(){return add(1)}},"add 1"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{onClick:function(){return subtract(2)}},"subtract 2")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_branch_nav__WEBPACK_IMPORTED_MODULE_4__.a,{history:history,switchToBranch:switchToBranch,undo:undo,redo:redo})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_action_list__WEBPACK_IMPORTED_MODULE_5__.a,{history:history,timeTravel:timeTravel,switchToBranch:switchToBranch}))}},342:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a='### makeUndoableHandler & invertHandlers - Example\n\nThis example is equivalent to the previous examples, except that we we use the utility **makeUndoableHandler** to convert "setCount" to the do/redo and undo handlers for "add". We then use **invertHandlers** to convert these to the handlers for "subtract".\n'},343:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="### makeUndoableHandler & invertHandlers - Readme & Code\n\nThe utility **makeUndoableHandler** takes a state setter function (e.g. the one returned from React.useState) as single argument and returns a function that takes two (do/redo and undo) curried functions for updating the state based on the payload and the previous state. The final return value is an object with do/redo and undo handlers.\n\nNote that the curried updater functions (\"addUpdater\" and \"substractUpdater\") are extracted and imported from a util file. We will do this in all the following examples. Look at the previous example to see how they are written inline.\n\nThe utility **invertHandlers** takes an object with 'drdo' and 'undo' as keys and the handlers as values, and returns and object in wich the values are switched.\n\n```typescript\nimport React, { FC, useState } from 'react';\nimport {\n  useUndoableEffects,\n  makeUndoableHandler,\n  invertHandlers,\n} from 'use-flexible-undo';\nimport { addUpdater, subtractUpdater } from '../examples-util';\nimport { rootStyle, topUIStyle, countStyle, actionsStyle } from '../styles';\nimport { BranchNav } from '../components/branch-nav';\nimport { ActionList } from '../components/action-list';\n\nexport const MakeUndoableHandlerExample: FC = () => {\n  const [count, setCount] = useState(0);\n\n  const undoableAddHandler = makeUndoableHandler(setCount)(\n    addUpdater,\n    subtractUpdater\n  );\n\n  const {\n    undoables,\n    undo,\n    redo,\n    history,\n    timeTravel,\n    switchToBranch,\n  } = useUndoableEffects({\n    handlers: {\n      add: undoableAddHandler,\n      subtract: invertHandlers(undoableAddHandler),\n    },\n  });\n\n  const { add, subtract } = undoables;\n\n  return (\n    <div className={rootStyle}>\n      <div className={topUIStyle}>\n        <div className={countStyle}>count = {count}</div>\n        <div className={actionsStyle}>\n          <button onClick={() => add(1)}>add 1</button>\n          <button onClick={() => subtract(2)}>subtract 2</button>\n        </div>\n        <BranchNav\n          history={history}\n          switchToBranch={switchToBranch}\n          undo={undo}\n          redo={redo}\n        />\n      </div>\n      <ActionList\n        history={history}\n        timeTravel={timeTravel}\n        switchToBranch={switchToBranch}\n      />\n    </div>\n  );\n};\n```\n"},344:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return SeparateDrdoAndUndoHandlersExample}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),_styles__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1),_components_branch_nav__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(5),_components_action_list__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6),_examples_util__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3),SeparateDrdoAndUndoHandlersExample=function(){var _a=Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(0),count=_a[0],setCount=_a[1],countHandler=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.h)(setCount),addHandler=countHandler(_examples_util__WEBPACK_IMPORTED_MODULE_5__.a),subHandler=countHandler(_examples_util__WEBPACK_IMPORTED_MODULE_5__.e),_b=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.t)({drdoHandlers:{add:addHandler,subtract:subHandler},undoHandlers:{add:subHandler,subtract:addHandler}}),undoables=_b.undoables,undo=_b.undo,redo=_b.redo,history=_b.history,timeTravel=_b.timeTravel,switchToBranch=_b.switchToBranch,add=undoables.add,subtract=undoables.subtract;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_2__.d},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_2__.e},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_2__.b},"count = ",count),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_2__.a},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{onClick:function(){return add(2)}},"add 2"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{onClick:function(){return subtract(1)}},"subtract 1")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_branch_nav__WEBPACK_IMPORTED_MODULE_3__.a,{history:history,switchToBranch:switchToBranch,undo:undo,redo:redo})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_action_list__WEBPACK_IMPORTED_MODULE_4__.a,{history:history,timeTravel:timeTravel,switchToBranch:switchToBranch}))}},345:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a='### Separate drdoHandlers and undoHandlers - Example\n\nIn this example we do not create a single handlers object in which the do/redo and undo handlers are joined per action type. Instead we pass the do/redo handlers for "add" and "subtract" and the undo handlers for "add" and "subtract" as separate objects to **useUndoableEffects**.\n'},346:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="### Separate drdoHandlers and undoHandlers - Readme & Code\n\nIf for some reason you prefer to keep your do/redo and undo handlers separate, you can omit the \"handlers\" prop and directly pass them to the \"drdoHandlers\" and \"undoHandlers\" props. Both take an object with the action types as keys and the corresponding handler functions (do/redo or undo) as values.\n\n```typescript\nimport React, { FC, useState } from 'react';\nimport { useUndoableEffects, makeHandler } from 'use-flexible-undo';\nimport { rootStyle, topUIStyle, actionsStyle, countStyle } from '../styles';\nimport { BranchNav } from '../components/branch-nav';\nimport { ActionList } from '../components/action-list';\nimport { addUpdater, subtractUpdater } from '../examples-util';\n\nexport const SeparateDrdoAndUndoHandlersExample: FC = () => {\n  const [count, setCount] = useState(0);\n\n  const countHandler = makeHandler(setCount);\n  const addHandler = countHandler(addUpdater);\n  const subHandler = countHandler(subtractUpdater);\n\n  const {\n    undoables,\n    undo,\n    redo,\n    history,\n    timeTravel,\n    switchToBranch,\n  } = useUndoableEffects({\n    drdoHandlers: {\n      add: addHandler,\n      subtract: subHandler,\n    },\n    undoHandlers: {\n      add: subHandler,\n      subtract: addHandler,\n    },\n  });\n\n  const { add, subtract } = undoables;\n\n  return (\n    <div className={rootStyle}>\n      <div className={topUIStyle}>\n        <div className={countStyle}>count = {count}</div>\n        <div className={actionsStyle}>\n          <button onClick={() => add(2)}>add 2</button>\n          <button onClick={() => subtract(1)}>subtract 1</button>\n        </div>\n        <BranchNav\n          history={history}\n          switchToBranch={switchToBranch}\n          undo={undo}\n          redo={redo}\n        />\n      </div>\n      <ActionList\n        history={history}\n        timeTravel={timeTravel}\n        switchToBranch={switchToBranch}\n      />\n    </div>\n  );\n};\n```\n"},347:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return FromToPayloadExample}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),_styles__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1),_components_branch_nav__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(5),_components_action_list__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6),FromToPayloadExample=function(){var _a=Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(0),count=_a[0],setCount=_a[1],_b=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.t)({handlers:{updateCount:{drdo:function(_a){var to=_a.to;return setCount(to)},undo:function(_a){var from=_a.from;return setCount(from)}}}}),undoables=_b.undoables,undo=_b.undo,redo=_b.redo,history=_b.history,timeTravel=_b.timeTravel,switchToBranch=_b.switchToBranch,updateCount=undoables.updateCount;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_2__.d},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_2__.e},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_2__.b},"count = ",count),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_2__.a},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{onClick:function(){return amount=Math.PI,updateCount({from:count,to:count+amount});var amount}},"add PI"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{onClick:function(){return amount=Math.PI,updateCount({from:count,to:count-amount});var amount}},"subtract PI"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{onClick:function(){return amount=Math.PI,updateCount({from:count,to:count*amount});var amount}},"multiPI"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{onClick:function(){return amount=Math.PI,updateCount({from:count,to:count/amount});var amount}},"diPIde")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_branch_nav__WEBPACK_IMPORTED_MODULE_3__.a,{history:history,switchToBranch:switchToBranch,undo:undo,redo:redo})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_action_list__WEBPACK_IMPORTED_MODULE_4__.a,{history:history,timeTravel:timeTravel,switchToBranch:switchToBranch}))}},348:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a='### From-To state as payload - Example\n\nIn this example we have one undoable function "updateCount" that takes a payload with the current "from" state and the new "to" state. We then use "updateCount" as part of other functions for the more specialized operations add, subtract, multiply and divide which are all called with the fixed payload &pi;.\n'},349:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="### From-To state as payload - Readme & Code\n\nIf the payload is a decimal number that represents the delta (i.e. the state change), then the resulting state after undo/redo may differ slightly from the original state due to (cumulative) floating point precision-related rounding errors.\n\nInstead you can choose to store the current state and the new state in the payload. This makes the payload a bit bigger, but it does give you the guarantee that you can restore the exact same state after undo/redo. Here the payload is shaped as an object with \"from\" and \"to\" keys, but you are free to choose your own payload shape, such as a tuple. Also, you could opt to store the current state and the delta, or the new state and the delta.\n\nFinally note that the actions in the history now all have the same type \"updateCount\", which makes sense because they are technically equivalent. If you still want to be able to distinguish the different operations within the history than you can either add an additional description to the payload, or you will need to create separate undoable functions (separate action types) that all re-use the same do/redo & undo handlers.\n\n```typescript\nimport React, { useState } from 'react';\nimport { useUndoableEffects, PayloadFromTo } from 'use-flexible-undo';\nimport { rootStyle, topUIStyle, countStyle, actionsStyle } from '../styles';\nimport { BranchNav } from '../components/branch-nav';\nimport { ActionList } from '../components/action-list';\n\n// action Payload By action Type\ninterface PBT {\n  // an object with 'from' and 'to' fields of type number:\n  updateCount: PayloadFromTo<number>;\n}\n\nexport const FromToPayloadExample: React.FC = () => {\n  const [count, setCount] = useState(0);\n\n  const {\n    undoables,\n    undo,\n    redo,\n    history,\n    timeTravel,\n    switchToBranch,\n  } = useUndoableEffects<PBT>({\n    handlers: {\n      updateCount: {\n        drdo: ({ to }) => setCount(to),\n        undo: ({ from }) => setCount(from),\n      },\n    },\n  });\n\n  const { updateCount } = undoables;\n\n  const add = (amount: number) =>\n    updateCount({ from: count, to: count + amount });\n  const subtract = (amount: number) =>\n    updateCount({ from: count, to: count - amount });\n  const multiply = (amount: number) =>\n    updateCount({ from: count, to: count * amount });\n  const divide = (amount: number) =>\n    updateCount({ from: count, to: count / amount });\n\n  return (\n    <div className={rootStyle}>\n      <div className={topUIStyle}>\n        <div className={countStyle}>count = {count}</div>\n        <div className={actionsStyle}>\n          <button onClick={() => add(Math.PI)}>add PI</button>\n          <button onClick={() => subtract(Math.PI)}>subtract PI</button>\n          <button onClick={() => multiply(Math.PI)}>multiPI</button>\n          <button onClick={() => divide(Math.PI)}>diPIde</button>\n        </div>\n        <BranchNav\n          history={history}\n          switchToBranch={switchToBranch}\n          undo={undo}\n          redo={redo}\n        />\n      </div>\n      <ActionList\n        history={history}\n        timeTravel={timeTravel}\n        switchToBranch={switchToBranch}\n      />\n    </div>\n  );\n};\n```\n"},350:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return MakeUndoableFTHandlerExample}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),_examples_util__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),_styles__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1),_components_branch_nav__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(5),_components_action_list__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(6),MakeUndoableFTHandlerExample=function(){var _a=Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(0),count=_a[0],setCount=_a[1],_b=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.t)({handlers:{updateCount:Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.j)(setCount)}}),undoables=_b.undoables,undo=_b.undo,redo=_b.redo,history=_b.history,timeTravel=_b.timeTravel,switchToBranch=_b.switchToBranch,updateCount=undoables.updateCount,countHandler=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.v)(updateCount,count),add=countHandler(_examples_util__WEBPACK_IMPORTED_MODULE_2__.a),subtract=countHandler(_examples_util__WEBPACK_IMPORTED_MODULE_2__.e),multiply=countHandler(_examples_util__WEBPACK_IMPORTED_MODULE_2__.d),divide=countHandler(_examples_util__WEBPACK_IMPORTED_MODULE_2__.b);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.d},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.e},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.b},"count = ",count),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.a},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{onClick:function(){return add(Math.PI)}},"add PI"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{onClick:function(){return subtract(Math.PI)}},"subtract PI"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{onClick:function(){return multiply(Math.PI)}},"multiPI"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{onClick:function(){return divide(Math.PI)}},"diPIde")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_branch_nav__WEBPACK_IMPORTED_MODULE_4__.a,{history:history,switchToBranch:switchToBranch,undo:undo,redo:redo})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_action_list__WEBPACK_IMPORTED_MODULE_5__.a,{history:history,timeTravel:timeTravel,switchToBranch:switchToBranch}))}},351:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a='### makeUndoableFTHandler & wrapFTHandler - Example\n\nThis example is equivalent to the previous example, except that we we use the utility **makeUndoableFTHandler** to convert "setCount" to the do/redo and undo handlers for "updateCount". We then use **wrapFTHandler** to convert "updateCount" to the more specialized functions add, subtract, multiply and divide.\n'},352:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="### makeUndoableFTHandler & wrapFTHandler - Readme & Code\n\nThe utility **makeUndoableFTHandler** takes a state setter function (e.g. the one returned from React.useState) as single argument. It returns an object with do/redo and undo handlers that take an object with the current \"from\" state and the new \"to\" state as payload.\n\nThe utility **wrapFTHandler** takes as first argument a function that expects as payload an object with \"from\" and \"to\" state, and as second argument the current state. It returns a function that takes a curried function for updating the state based on the payload and the previous state.\n\nAnd again for TypeScript users: Note that we do not need to type anything anymore. The payload type for add, subtract, multiply and divide is inferred from \"updateCount\" which in turn infers it from \"setCount\" which in turn infers it from the initial state passed to useState. You can however still type the hook with a record of payload by type (see previous example) if you want, for some extra guidance and safety.\n\n```typescript\nimport React, { useState } from 'react';\nimport {\n  useUndoableEffects,\n  makeUndoableFTHandler,\n  wrapFTHandler,\n} from 'use-flexible-undo';\nimport {\n  addUpdater,\n  subtractUpdater,\n  multiplyUpdater,\n  divideUpdater,\n} from '../examples-util';\nimport { rootStyle, topUIStyle, countStyle, actionsStyle } from '../styles';\nimport { BranchNav } from '../components/branch-nav';\nimport { ActionList } from '../components/action-list';\n\nexport const MakeUndoableFTHandlerExample: React.FC = () => {\n  const [count, setCount] = useState(0);\n\n  const {\n    undoables,\n    undo,\n    redo,\n    history,\n    timeTravel,\n    switchToBranch,\n  } = useUndoableEffects({\n    handlers: {\n      updateCount: makeUndoableFTHandler(setCount),\n    },\n  });\n\n  const { updateCount } = undoables;\n\n  const countHandler = wrapFTHandler(updateCount, count);\n\n  const add = countHandler(addUpdater);\n  const subtract = countHandler(subtractUpdater);\n  const multiply = countHandler(multiplyUpdater);\n  const divide = countHandler(divideUpdater);\n\n  return (\n    <div className={rootStyle}>\n      <div className={topUIStyle}>\n        <div className={countStyle}>count = {count}</div>\n        <div className={actionsStyle}>\n          <button onClick={() => add(Math.PI)}>add PI</button>\n          <button onClick={() => subtract(Math.PI)}>subtract PI</button>\n          <button onClick={() => multiply(Math.PI)}>multiPI</button>\n          <button onClick={() => divide(Math.PI)}>diPIde</button>\n        </div>\n        <BranchNav\n          history={history}\n          switchToBranch={switchToBranch}\n          undo={undo}\n          redo={redo}\n        />\n      </div>\n      <ActionList\n        history={history}\n        timeTravel={timeTravel}\n        switchToBranch={switchToBranch}\n      />\n    </div>\n  );\n};\n```\n"},353:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return InvertFTHandlerExample}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),_examples_util__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),_styles__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1),_components_branch_nav__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(5),_components_action_list__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(6),InvertFTHandlerExample=function(){var _a=Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(0),count=_a[0],setCount=_a[1],updateCountHandler=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.g)(setCount),_b=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.t)({drdoHandlers:{updateCount:updateCountHandler},undoHandlers:{updateCount:Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.e)(updateCountHandler)}}),undoables=_b.undoables,undo=_b.undo,redo=_b.redo,history=_b.history,timeTravel=_b.timeTravel,switchToBranch=_b.switchToBranch,updateCount=undoables.updateCount,countHandler=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.v)(updateCount,count),add=countHandler(_examples_util__WEBPACK_IMPORTED_MODULE_2__.a),subtract=countHandler(_examples_util__WEBPACK_IMPORTED_MODULE_2__.e),multiply=countHandler(_examples_util__WEBPACK_IMPORTED_MODULE_2__.d),divide=countHandler(_examples_util__WEBPACK_IMPORTED_MODULE_2__.b);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.d},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.e},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.b},"count = ",count),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.a},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{onClick:function(){return add(Math.PI)}},"add PI"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{onClick:function(){return subtract(Math.PI)}},"subtract PI"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{onClick:function(){return multiply(Math.PI)}},"multiPI"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{onClick:function(){return divide(Math.PI)}},"diPIde")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_branch_nav__WEBPACK_IMPORTED_MODULE_4__.a,{history:history,switchToBranch:switchToBranch,undo:undo,redo:redo})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_action_list__WEBPACK_IMPORTED_MODULE_5__.a,{history:history,timeTravel:timeTravel,switchToBranch:switchToBranch}))}},354:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a='### makeFTHandler & invertFTHandler - Example\n\nIn this example we do not create a single handlers object in which the do/redo and undo handlers are joined per action type. Instead we pass the do/redo handler for "updateCount" and the undo handler for "updateCount" separately to **useUndoableEffects**. We create the do/redo handler using the util **makeFTHandler** and we convert it to the undo handler using the util **invertFTHandler**.\n'},355:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a='### makeFTHandler & invertFTHandler - Readme & Code\n\nIf for some reason you prefer to keep your do/redo and undo handlers separate, you can omit the "handlers" prop and directly pass them to the "drdoHandlers" and "undoHandlers" props. As an alternative to using **makeUndoableFTHandler** and then separating the handlers, you can use the following utils:\n\nThe utility **makeFTHandler** takes a state setter function (e.g. the one returned from React.useState) as single argument. It returns a function that takes an object with the current "from" state and the new "to" state as payload.\n\nThe utility **invertFTHandler** takes a function that takes an object with the current "from" state and the new "to" state as payload, and wraps it in a function that switches the "from" and "to" fields of the payload.\n\n```typescript\nimport React, { useState } from \'react\';\nimport {\n  useUndoableEffects,\n  wrapFTHandler,\n  makeFTHandler,\n  invertFTHandler,\n} from \'use-flexible-undo\';\nimport {\n  addUpdater,\n  subtractUpdater,\n  multiplyUpdater,\n  divideUpdater,\n} from \'../examples-util\';\nimport { rootStyle, topUIStyle, countStyle, actionsStyle } from \'../styles\';\nimport { BranchNav } from \'../components/branch-nav\';\nimport { ActionList } from \'../components/action-list\';\n\nexport const MakeUndoableFTHandlerExample: React.FC = () => {\n  const [count, setCount] = useState(0);\n\n  const updateCountHandler = makeFTHandler(setCount);\n\n  const {\n    undoables,\n    undo,\n    redo,\n    history,\n    timeTravel,\n    switchToBranch,\n  } = useUndoableEffects({\n    drdoHandlers: {\n      updateCount: updateCountHandler,\n    },\n    undoHandlers: {\n      updateCount: invertFTHandler(updateCountHandler),\n    },\n  });\n\n  const { updateCount } = undoables;\n\n  const countHandler = wrapFTHandler(updateCount, count);\n\n  const add = countHandler(addUpdater);\n  const subtract = countHandler(subtractUpdater);\n  const multiply = countHandler(multiplyUpdater);\n  const divide = countHandler(divideUpdater);\n\n  return (\n    <div className={rootStyle}>\n      <div className={topUIStyle}>\n        <div className={countStyle}>count = {count}</div>\n        <div className={actionsStyle}>\n          <button onClick={() => add(Math.PI)}>add PI</button>\n          <button onClick={() => subtract(Math.PI)}>subtract PI</button>\n          <button onClick={() => multiply(Math.PI)}>multiPI</button>\n          <button onClick={() => divide(Math.PI)}>diPIde</button>\n        </div>\n        <BranchNav\n          history={history}\n          switchToBranch={switchToBranch}\n          undo={undo}\n          redo={redo}\n        />\n      </div>\n      <ActionList\n        history={history}\n        timeTravel={timeTravel}\n        switchToBranch={switchToBranch}\n      />\n    </div>\n  );\n};\n```\n'},356:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return WrongHandlerExample}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),_styles__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1),_components_action_list__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6),_components_number_input__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(7),_components_branch_nav__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(5),WrongHandlerExample=function(){var _a=Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(0),count=_a[0],setCount=_a[1],_b=Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(1),amount=_b[0],setAmount=_b[1],undoableAddHandler={drdo:function(){return amount&&setCount((function(prev){return prev+amount}))},undo:function(){return amount&&setCount((function(prev){return prev-amount}))}},_c=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.t)({handlers:{add:undoableAddHandler,subtract:Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.f)(undoableAddHandler),updateAmount:Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.j)(setAmount)}}),undoables=_c.undoables,undo=_c.undo,redo=_c.redo,history=_c.history,timeTravel=_c.timeTravel,switchToBranch=_c.switchToBranch,add=undoables.add,subtract=undoables.subtract,updateAmount=undoables.updateAmount;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_2__.d},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_2__.e},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_2__.b},"count  =  ",count),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_2__.a},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label",null,"amount = ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_number_input__WEBPACK_IMPORTED_MODULE_4__.a,{value:amount,onChange:function(value){return updateAmount({from:amount,to:value})}})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{disabled:!amount,onClick:function(){return add()}},"add"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{disabled:!amount,onClick:function(){return subtract()}},"subtract")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_branch_nav__WEBPACK_IMPORTED_MODULE_5__.a,{history:history,switchToBranch:switchToBranch,undo:undo,redo:redo})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_action_list__WEBPACK_IMPORTED_MODULE_3__.a,{history:history,timeTravel:timeTravel,switchToBranch:switchToBranch}))}},357:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a='### Don\'t do this - Example\n\nThis example is broken on purpose to illustrate that you should not directly refer to state dependencies from within your do/redo & undo handlers. The problem is that if the handlers are called multiple times within a single React update, then they will not use the updated state but the stale version of it. You will _not_ run into this issue when rapidly clicking undo/redo because each click triggers a separate update. You however _do_ run into trouble when using time-travel. To see the problem:\n\n- Click "add" one or more times.\n- Change the amount.\n- Again click "add" one or more times.\n- Time-travel to the bottom of the stack (the action list) and back to the top one or more times to see the "count" state getting \'out-of-sync\'.\n'},358:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="### Don't do this - Readme & Code\n\nYou **_should not_** directly refer to state dependencies from within your do/redo and undo handlers. If you have a direct dependency on state you can fix it by refactoring your actions so that you can get the dependency from the action payload or by refactoring your state so that you can get it from the previous state.\n\n```typescript\nimport React, { FC, useState } from 'react';\nimport {\n  useUndoableEffects,\n  makeUndoableFTHandler,\n  UndoableHandler,\n  invertHandlers,\n} from 'use-flexible-undo';\nimport { rootStyle, topUIStyle, countStyle, actionsStyle } from '../styles';\nimport { ActionList } from '../components/action-list';\nimport { NumberInput } from '../components/number-input';\nimport { BranchNav } from '../components/branch-nav';\n\nexport const WrongHandlerExample: FC = () => {\n  const [count, setCount] = useState(0);\n  const [amount, setAmount] = useState<number | null>(1);\n\n  //Do NOT do this! Move 'amount' to the action payload or combine it\n  //with the 'count' state so that you can get it from the prev state.\n  const undoableAddHandler: UndoableHandler<void> = {\n    drdo: () => amount && setCount(prev => prev + amount),\n    undo: () => amount && setCount(prev => prev - amount),\n  };\n\n  const {\n    undoables,\n    undo,\n    redo,\n    history,\n    timeTravel,\n    switchToBranch,\n  } = useUndoableEffects({\n    handlers: {\n      add: undoableAddHandler,\n      subtract: invertHandlers(undoableAddHandler),\n      updateAmount: makeUndoableFTHandler(setAmount),\n    },\n  });\n\n  const { add, subtract, updateAmount } = undoables;\n\n  return (\n    <div className={rootStyle}>\n      <div className={topUIStyle}>\n        <div className={countStyle}>count &nbsp;= &nbsp;{count}</div>\n        <div className={actionsStyle}>\n          <label>\n            amount =&nbsp;\n            <NumberInput\n              value={amount}\n              onChange={value =>\n                updateAmount({\n                  from: amount,\n                  to: value,\n                })\n              }\n            />\n          </label>\n          <button disabled={!amount} onClick={() => add()}>\n            add\n          </button>\n          <button disabled={!amount} onClick={() => subtract()}>\n            subtract\n          </button>\n        </div>\n        <BranchNav\n          history={history}\n          switchToBranch={switchToBranch}\n          undo={undo}\n          redo={redo}\n        />\n      </div>\n      <ActionList\n        history={history}\n        timeTravel={timeTravel}\n        switchToBranch={switchToBranch}\n      />\n    </div>\n  );\n};\n```\n"},359:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DependencyInPayloadExample}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),_examples_util__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),_styles__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1),_components_action_list__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6),_components_number_input__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(7),_components_branch_nav__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(5),DependencyInPayloadExample=function(){var _a=Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(0),count=_a[0],setCount=_a[1],_b=Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(1),amount=_b[0],setAmount=_b[1],undoableAddHandler=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.k)(setCount)(_examples_util__WEBPACK_IMPORTED_MODULE_2__.a,_examples_util__WEBPACK_IMPORTED_MODULE_2__.e),_c=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.t)({handlers:{add:undoableAddHandler,subtract:Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.f)(undoableAddHandler),updateAmount:Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.j)(setAmount)}}),undoables=_c.undoables,undo=_c.undo,redo=_c.redo,history=_c.history,timeTravel=_c.timeTravel,switchToBranch=_c.switchToBranch,add=undoables.add,subtract=undoables.subtract,updateAmount=undoables.updateAmount;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.d},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.e},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.b},"count  =  ",count),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.a},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label",null,"amount = ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_number_input__WEBPACK_IMPORTED_MODULE_5__.a,{value:amount,onChange:function(value){return updateAmount({from:amount,to:value})}})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{disabled:!amount,onClick:function(){return amount&&add(amount)}},"add"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{disabled:!amount,onClick:function(){return amount&&subtract(amount)}},"subtract")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_branch_nav__WEBPACK_IMPORTED_MODULE_6__.a,{history:history,switchToBranch:switchToBranch,undo:undo,redo:redo})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_action_list__WEBPACK_IMPORTED_MODULE_4__.a,{history:history,timeTravel:timeTravel,switchToBranch:switchToBranch}))}},360:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a='### Dependency in payload - Example\n\nIn this example the "amount" state is passed as payload to the do/redo & undo handlers for updating the "count" state.\n'},361:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="### Dependency in payload - Readme & Code\n\nPassing a dependency as (part of) the action payload is one way of correctly updating dependent state. See the next example for an alternative.\n\n```typescript\nimport React, { FC, useState } from 'react';\nimport {\n  useUndoableEffects,\n  makeUndoableFTHandler,\n  makeUndoableHandler,\n  invertHandlers,\n} from 'use-flexible-undo';\nimport { addUpdater, subtractUpdater } from '../examples-util';\nimport { rootStyle, topUIStyle, countStyle, actionsStyle } from '../styles';\nimport { ActionList } from '../components/action-list';\nimport { NumberInput } from '../components/number-input';\nimport { BranchNav } from '../components/branch-nav';\n\nexport const DependencyInPayloadExample: FC = () => {\n  const [count, setCount] = useState(0);\n  const [amount, setAmount] = useState<number | null>(1);\n\n  const undoableAddHandler = makeUndoableHandler(setCount)(\n    addUpdater,\n    subtractUpdater\n  );\n\n  const {\n    undoables,\n    undo,\n    redo,\n    history,\n    timeTravel,\n    switchToBranch,\n  } = useUndoableEffects({\n    handlers: {\n      add: undoableAddHandler,\n      subtract: invertHandlers(undoableAddHandler),\n      updateAmount: makeUndoableFTHandler(setAmount),\n    },\n  });\n\n  const { add, subtract, updateAmount } = undoables;\n\n  return (\n    <div className={rootStyle}>\n      <div className={topUIStyle}>\n        <div className={countStyle}>count &nbsp;= &nbsp;{count}</div>\n        <div className={actionsStyle}>\n          <label>\n            amount =&nbsp;\n            <NumberInput\n              value={amount}\n              onChange={value =>\n                updateAmount({\n                  from: amount,\n                  to: value,\n                })\n              }\n            />\n          </label>\n          <button disabled={!amount} onClick={() => amount && add(amount)}>\n            add\n          </button>\n          <button disabled={!amount} onClick={() => amount && subtract(amount)}>\n            subtract\n          </button>\n        </div>\n        <BranchNav\n          history={history}\n          switchToBranch={switchToBranch}\n          undo={undo}\n          redo={redo}\n        />\n      </div>\n      <ActionList\n        history={history}\n        timeTravel={timeTravel}\n        switchToBranch={switchToBranch}\n      />\n    </div>\n  );\n};\n```\n"},362:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DependencyInPreviousStateExample}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(9),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),use_flexible_undo__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2),_examples_util__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(3),_styles__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1),_components_action_list__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(6),_components_number_input__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(7),_components_branch_nav__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(5),DependencyInPreviousStateExample=function(){var _a=Object(react__WEBPACK_IMPORTED_MODULE_1__.useState)({count:0,amount:1}),_b=_a[0],count=_b.count,amount=_b.amount,setState=_a[1],undoableAddHandler=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_2__.k)(setState)((function(){return function(prev){return prev.amount?Object(tslib__WEBPACK_IMPORTED_MODULE_0__.a)(Object(tslib__WEBPACK_IMPORTED_MODULE_0__.a)({},prev),{count:prev.count+prev.amount}):prev}}),(function(){return function(prev){return prev.amount?Object(tslib__WEBPACK_IMPORTED_MODULE_0__.a)(Object(tslib__WEBPACK_IMPORTED_MODULE_0__.a)({},prev),{count:prev.count-prev.amount}):prev}})),_c=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_2__.t)({handlers:{add:undoableAddHandler,subtract:Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_2__.f)(undoableAddHandler),updateAmount:Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_2__.j)((function(amount){return setState(Object(_examples_util__WEBPACK_IMPORTED_MODULE_3__.c)({amount:amount}))}))}}),undoables=_c.undoables,undo=_c.undo,redo=_c.redo,history=_c.history,timeTravel=_c.timeTravel,switchToBranch=_c.switchToBranch,add=undoables.add,subtract=undoables.subtract,updateAmount=undoables.updateAmount;return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_4__.d},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_4__.e},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_4__.b},"count  =  ",count),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_4__.a},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("label",null,"amount = ",react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_number_input__WEBPACK_IMPORTED_MODULE_6__.a,{value:amount,onChange:function(value){return updateAmount({from:amount,to:value})}})),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("button",{disabled:!amount,onClick:function(){return add()}},"add"),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("button",{disabled:!amount,onClick:function(){return subtract()}},"subtract")),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_branch_nav__WEBPACK_IMPORTED_MODULE_7__.a,{history:history,switchToBranch:switchToBranch,undo:undo,redo:redo})),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_action_list__WEBPACK_IMPORTED_MODULE_5__.a,{history:history,timeTravel:timeTravel,switchToBranch:switchToBranch}))}},363:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a='### Dependency in previous state - Example\n\nIn this example "count" and "amount" are combined in a single state object defined with useState, and "amount" is retrieved from the previous state while updating "count" in the do/redo & undo handlers.\n'},364:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="### Dependency in previous state - Readme & Code\n\nAs an alternative to passing a state dependency as (part of) the action payload, you can store all dependent state together and get the dependencies from the previous state in your do/redo & undo handlers. This however does have a possible downside: You will not have direct access to the previous state for each action in the undo history UI, so the user will only see the action types.\n\nIn this example and the following two examples we use useState to define our combined state. In the next chapter we take a look at useReducer.\n\nThe utility function **makeUndoableFTHandler** is explained in the previous chapter. The only difference is that we use it here to update a slice of the combined state object. We use a simple utility **merge** to merge the slice into the combined state, in stead of writing \"prev => ({ ...prev, amount })\".\n\nThe utility function **makeUndoableHandler** is also explained in the previous chapter. Again the difference is that we use it here to update a slice of the combined state object. Note that there is quite some repetition between the two (do/redo & undo) updater functions that are passed to it. In the next example we use a utility function for removing this repetition.\n\n```typescript\nimport React, { FC, useState } from 'react';\nimport {\n  useUndoableEffects,\n  makeUndoableFTHandler,\n  makeUndoableHandler,\n  invertHandlers,\n} from 'use-flexible-undo';\nimport { merge } from '../examples-util';\nimport { rootStyle, topUIStyle, countStyle, actionsStyle } from '../styles';\nimport { ActionList } from '../components/action-list';\nimport { NumberInput } from '../components/number-input';\nimport { BranchNav } from '../components/branch-nav';\n\ntype Nullber = number | null;\n\ninterface State {\n  count: number;\n  amount: Nullber;\n}\n\nexport const DependencyInPreviousStateExample: FC = () => {\n  const [{ count, amount }, setState] = useState<State>({\n    count: 0,\n    amount: 1,\n  });\n\n  const undoableAddHandler = makeUndoableHandler(setState)<void>(\n    () => prev =>\n      prev.amount ? { ...prev, count: prev.count + prev.amount } : prev,\n    () => prev =>\n      prev.amount ? { ...prev, count: prev.count - prev.amount } : prev\n  );\n\n  const {\n    undoables,\n    undo,\n    redo,\n    history,\n    timeTravel,\n    switchToBranch,\n  } = useUndoableEffects({\n    handlers: {\n      add: undoableAddHandler,\n      subtract: invertHandlers(undoableAddHandler),\n      updateAmount: makeUndoableFTHandler((amount: Nullber) =>\n        setState(merge({ amount }))\n      ),\n    },\n  });\n\n  const { add, subtract, updateAmount } = undoables;\n\n  return (\n    <div className={rootStyle}>\n      <div className={topUIStyle}>\n        <div className={countStyle}>count &nbsp;= &nbsp;{count}</div>\n        <div className={actionsStyle}>\n          <label>\n            amount =&nbsp;\n            <NumberInput\n              value={amount}\n              onChange={value =>\n                updateAmount({\n                  from: amount,\n                  to: value,\n                })\n              }\n            />\n          </label>\n          <button disabled={!amount} onClick={() => add()}>\n            add\n          </button>\n          <button disabled={!amount} onClick={() => subtract()}>\n            subtract\n          </button>\n        </div>\n        <BranchNav\n          history={history}\n          switchToBranch={switchToBranch}\n          undo={undo}\n          redo={redo}\n        />\n      </div>\n      <ActionList\n        history={history}\n        timeTravel={timeTravel}\n        switchToBranch={switchToBranch}\n      />\n    </div>\n  );\n};\n```\n"},365:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return MakeUndoableSetterExample}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),_examples_util__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),_styles__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1),_components_action_list__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6),_components_number_input__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(7),_components_branch_nav__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(5),MakeUndoableSetterExample=function(){var _a=Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)({count:0,amount:1}),_b=_a[0],count=_b.count,amount=_b.amount,setState=_a[1],undoableAddHandler=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.m)(setState)((function(state){return state.count}),(function(count){return Object(_examples_util__WEBPACK_IMPORTED_MODULE_2__.c)({count:count})}))((function(_){return function(state){return state.amount||0}}))(_examples_util__WEBPACK_IMPORTED_MODULE_2__.a,_examples_util__WEBPACK_IMPORTED_MODULE_2__.e),_c=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.t)({handlers:{add:undoableAddHandler,subtract:Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.f)(undoableAddHandler),updateAmount:Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.j)((function(amount){return setState(Object(_examples_util__WEBPACK_IMPORTED_MODULE_2__.c)({amount:amount}))}))}}),undoables=_c.undoables,undo=_c.undo,redo=_c.redo,history=_c.history,timeTravel=_c.timeTravel,switchToBranch=_c.switchToBranch,add=undoables.add,subtract=undoables.subtract,updateAmount=undoables.updateAmount;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.d},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.e},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.b},"count  =  ",count),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.a},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label",null,"amount = ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_number_input__WEBPACK_IMPORTED_MODULE_5__.a,{value:amount,onChange:function(value){return updateAmount({from:amount,to:value})}})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{disabled:!amount,onClick:function(){return add()}},"add"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{disabled:!amount,onClick:function(){return subtract()}},"subtract")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_branch_nav__WEBPACK_IMPORTED_MODULE_6__.a,{history:history,switchToBranch:switchToBranch,undo:undo,redo:redo})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_action_list__WEBPACK_IMPORTED_MODULE_4__.a,{history:history,timeTravel:timeTravel,switchToBranch:switchToBranch}))}},366:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a='### makeUndoableSetter - example\n\nThis example is equivalent to the previous example, except that we use the utility **makeUndoableSetter** to create the do/redo & undo handlers for "add" and "subtract".\n'},367:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="### makeUndoableSetter - Readme & Code\n\nThe curried utility function **makeUndoableSetter** takes:\n\n- a function for setting combined state A (e.g. the setter returned from React.useState)  \n  ->\n- a function for selecting slice B from A.\n- a function for updating slice B in A.  \n  ->\n- a function P -> A -> C for deriving a state change value C based on the action payload and/or the previous state A\n- an optional predicate function P -> A -> boolean, for conditionally applying the entire update  \n  ->\n- a curried updater function C -> B -> B for the do/redo handler\n- a curried updater function C -> B -> B for the undo handler\n\nThis may not be a one-size-fits-all solution. Feel free to write your own solution, for example using lenses and other functional utilities.\n\n```typescript\nimport React, { FC, useState } from 'react';\nimport {\n  useUndoableEffects,\n  invertHandlers,\n  makeUndoableFTHandler,\n  makeUndoableSetter,\n} from 'use-flexible-undo';\nimport { merge, addUpdater, subtractUpdater } from '../examples-util';\nimport { rootStyle, topUIStyle, countStyle, actionsStyle } from '../styles';\nimport { ActionList } from '../components/action-list';\nimport { NumberInput } from '../components/number-input';\nimport { BranchNav } from '../components/branch-nav';\n\ntype Nullber = number | null;\n\ninterface State {\n  count: number;\n  amount: Nullber;\n}\n\nexport const MakeUndoableSetterExample: FC = () => {\n  const [{ count, amount }, setState] = useState<State>({\n    count: 0,\n    amount: 1,\n  });\n\n  const selectAmount = (_: void) => (state: State) => state.amount || 0;\n\n  const undoableAddHandler = makeUndoableSetter(setState)(\n    state => state.count,\n    count => merge({ count })\n  )(selectAmount)(addUpdater, subtractUpdater);\n\n  const {\n    undoables,\n    undo,\n    redo,\n    history,\n    timeTravel,\n    switchToBranch,\n  } = useUndoableEffects({\n    handlers: {\n      add: undoableAddHandler,\n      subtract: invertHandlers(undoableAddHandler),\n      updateAmount: makeUndoableFTHandler((amount: Nullber) =>\n        setState(merge({ amount }))\n      ),\n    },\n  });\n\n  const { add, subtract, updateAmount } = undoables;\n\n  return (\n    <div className={rootStyle}>\n      <div className={topUIStyle}>\n        <div className={countStyle}>count &nbsp;= &nbsp;{count}</div>\n        <div className={actionsStyle}>\n          <label>\n            amount =&nbsp;\n            <NumberInput\n              value={amount}\n              onChange={value =>\n                updateAmount({\n                  from: amount,\n                  to: value,\n                })\n              }\n            />\n          </label>\n          <button disabled={!amount} onClick={() => add()}>\n            add\n          </button>\n          <button disabled={!amount} onClick={() => subtract()}>\n            subtract\n          </button>\n        </div>\n        <BranchNav\n          history={history}\n          switchToBranch={switchToBranch}\n          undo={undo}\n          redo={redo}\n        />\n      </div>\n      <ActionList\n        history={history}\n        timeTravel={timeTravel}\n        switchToBranch={switchToBranch}\n      />\n    </div>\n  );\n};\n```\n"},368:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return PreviousStateAndPayloadExample}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),_examples_util__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),_styles__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1),_components_action_list__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6),_components_number_input__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(7),_components_branch_nav__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(5),PreviousStateAndPayloadExample=function(){var _a=Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)({count:0,amount:1}),_b=_a[0],count=_b.count,amount=_b.amount,setState=_a[1],undoableAddHandler=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.m)(setState)((function(state){return state.count}),(function(count){return Object(_examples_util__WEBPACK_IMPORTED_MODULE_2__.c)({count:count})}))((function(shouldDouble){return function(_a){var amount=_a.amount;return amount?shouldDouble?2*amount:amount:0}}))(_examples_util__WEBPACK_IMPORTED_MODULE_2__.a,_examples_util__WEBPACK_IMPORTED_MODULE_2__.e),_c=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.t)({handlers:{add:undoableAddHandler,subtract:Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.f)(undoableAddHandler),updateAmount:Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.j)((function(amount){return setState(Object(_examples_util__WEBPACK_IMPORTED_MODULE_2__.c)({amount:amount}))}))}}),undoables=_c.undoables,undo=_c.undo,redo=_c.redo,history=_c.history,timeTravel=_c.timeTravel,switchToBranch=_c.switchToBranch,add=undoables.add,subtract=undoables.subtract,updateAmount=undoables.updateAmount;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.d},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.e},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.b},"count  =  ",count),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.a},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label",null,"amount = ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_number_input__WEBPACK_IMPORTED_MODULE_5__.a,{value:amount,onChange:function(value){return updateAmount({from:amount,to:value})}})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{disabled:!amount,onClick:function(){return add(!1)}},"add"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{disabled:!amount,onClick:function(){return add(!0)}},"add x 2"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{disabled:!amount,onClick:function(){return subtract(!1)}},"subtract")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_branch_nav__WEBPACK_IMPORTED_MODULE_6__.a,{history:history,switchToBranch:switchToBranch,undo:undo,redo:redo})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_action_list__WEBPACK_IMPORTED_MODULE_4__.a,{history:history,timeTravel:timeTravel,switchToBranch:switchToBranch}))}},369:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a='### Previous state and payload - Example\n\nHere we use a combination of the previous "amount" state and a (static) boolean action payload for updating the "count" state.\n'},370:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="### Previous state and payload - Readme & Code\n\nYou are free to obtain your state dependencies from the previous state, or from the action payload, or from a combination of the two. In this somewhat contrived :) example \"shouldDouble\" is not part of state (there is a dedicated button for \"add x 2\"), hence we simply pass a static boolean value as the action payload.\n\n```typescript\nimport React, { FC, useState } from 'react';\nimport {\n  useUndoableEffects,\n  makeUndoableFTHandler,\n  invertHandlers,\n  makeUndoableSetter,\n} from 'use-flexible-undo';\nimport { merge, addUpdater, subtractUpdater } from '../examples-util';\nimport { rootStyle, topUIStyle, countStyle, actionsStyle } from '../styles';\nimport { ActionList } from '../components/action-list';\nimport { NumberInput } from '../components/number-input';\nimport { BranchNav } from '../components/branch-nav';\n\ntype Nullber = number | null;\n\ninterface State {\n  count: number;\n  amount: Nullber;\n}\n\nexport const PreviousStateAndPayloadExample: FC = () => {\n  const [{ count, amount }, setState] = useState<State>({\n    count: 0,\n    amount: 1,\n  });\n\n  const selectAmount = (shouldDouble: boolean) => ({ amount }: State) =>\n    amount ? (shouldDouble ? amount * 2 : amount) : 0;\n\n  const undoableAddHandler = makeUndoableSetter(setState)(\n    state => state.count,\n    count => merge({ count })\n  )(selectAmount)(addUpdater, subtractUpdater);\n\n  const {\n    undoables,\n    undo,\n    redo,\n    history,\n    timeTravel,\n    switchToBranch,\n  } = useUndoableEffects({\n    handlers: {\n      add: undoableAddHandler,\n      subtract: invertHandlers(undoableAddHandler),\n      updateAmount: makeUndoableFTHandler((amount: Nullber) =>\n        setState(merge({ amount }))\n      ),\n    },\n  });\n\n  const { add, subtract, updateAmount } = undoables;\n\n  return (\n    <div className={rootStyle}>\n      <div className={topUIStyle}>\n        <div className={countStyle}>count &nbsp;= &nbsp;{count}</div>\n        <div className={actionsStyle}>\n          <label>\n            amount =&nbsp;\n            <NumberInput\n              value={amount}\n              onChange={value =>\n                updateAmount({\n                  from: amount,\n                  to: value,\n                })\n              }\n            />\n          </label>\n          <button disabled={!amount} onClick={() => add(false)}>\n            add\n          </button>\n          <button disabled={!amount} onClick={() => add(true)}>\n            add x 2\n          </button>\n          <button disabled={!amount} onClick={() => subtract(false)}>\n            subtract\n          </button>\n        </div>\n        <BranchNav\n          history={history}\n          switchToBranch={switchToBranch}\n          undo={undo}\n          redo={redo}\n        />\n      </div>\n      <ActionList\n        history={history}\n        timeTravel={timeTravel}\n        switchToBranch={switchToBranch}\n      />\n    </div>\n  );\n};\n```\n"},371:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ReducerAndMakeUpdaterExample}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(9),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),use_flexible_undo__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2),_examples_util__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(3),_components_action_list__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6),_styles__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(1),_components_number_input__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(7),_components_branch_nav__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(5),countUpdater=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_2__.p)((function(state){return state.count}),(function(count){return Object(_examples_util__WEBPACK_IMPORTED_MODULE_3__.c)({count:count})}))((function(_){return function(state){return state.amount||0}})),reducer=function(prevState,action){switch(action.type){case"add":return countUpdater(_examples_util__WEBPACK_IMPORTED_MODULE_3__.a)()(prevState);case"subtract":return countUpdater(_examples_util__WEBPACK_IMPORTED_MODULE_3__.e)()(prevState);case"updateAmount":return Object(tslib__WEBPACK_IMPORTED_MODULE_0__.a)(Object(tslib__WEBPACK_IMPORTED_MODULE_0__.a)({},prevState),{amount:action.payload.to});default:return prevState}},ReducerAndMakeUpdaterExample=function(){var _a=Object(react__WEBPACK_IMPORTED_MODULE_1__.useReducer)(reducer,{count:0,amount:1}),_b=_a[0],count=_b.count,amount=_b.amount,dispatch=_a[1],addHandlers={drdo:function(){return dispatch({type:"add"})},undo:function(){return dispatch({type:"subtract"})}},updateAmountHandler=function(payload){return dispatch({type:"updateAmount",payload:payload})},_c=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_2__.t)({handlers:{add:addHandlers,subtract:Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_2__.f)(addHandlers),updateAmount:{drdo:updateAmountHandler,undo:Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_2__.e)(updateAmountHandler)}}}),undoables=_c.undoables,undo=_c.undo,redo=_c.redo,history=_c.history,timeTravel=_c.timeTravel,switchToBranch=_c.switchToBranch,add=undoables.add,subtract=undoables.subtract,updateAmount=undoables.updateAmount;return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_5__.d},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_5__.e},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_5__.b},"count  =  ",count),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_5__.a},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("label",null,"amount = ",react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_number_input__WEBPACK_IMPORTED_MODULE_6__.a,{value:amount,onChange:function(value){return updateAmount({from:amount,to:value})}})),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("button",{disabled:!amount,onClick:function(){return add()}},"add"),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("button",{disabled:!amount,onClick:function(){return subtract()}},"subtract")),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_branch_nav__WEBPACK_IMPORTED_MODULE_7__.a,{history:history,switchToBranch:switchToBranch,undo:undo,redo:redo})),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_action_list__WEBPACK_IMPORTED_MODULE_4__.a,{history:history,timeTravel:timeTravel,switchToBranch:switchToBranch}))}},372:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="```typescript\nimport React, { FC, useReducer } from 'react';\nimport {\n  useUndoableEffects,\n  PayloadFromTo,\n  Reducer,\n  invertHandlers,\n  invertFTHandler,\n  makeUpdater,\n} from 'use-flexible-undo';\nimport { merge, addUpdater, subtractUpdater } from '../examples-util';\nimport { ActionList } from '../components/action-list';\nimport { rootStyle, topUIStyle, countStyle, actionsStyle } from '../styles';\nimport { NumberInput } from '../components/number-input';\nimport { BranchNav } from '../components/branch-nav';\n\ntype Nullber = number | null;\n\ninterface State {\n  count: number;\n  amount: Nullber;\n}\n\ninterface PayloadByType {\n  add: void;\n  subtract: void;\n  updateAmount: PayloadFromTo<Nullber>;\n}\n\nconst selectAmount = (_: void) => (state: State) => state.amount || 0;\n\nconst countUpdater = makeUpdater(\n  (state: State) => state.count,\n  count => merge({ count })\n)(selectAmount);\n\nconst reducer: Reducer<State, PayloadByType> = (prevState, action) => {\n  switch (action.type) {\n    case 'add':\n      return countUpdater(addUpdater)()(prevState);\n    case 'subtract':\n      return countUpdater(subtractUpdater)()(prevState);\n    case 'updateAmount':\n      return { ...prevState, amount: action.payload.to };\n    default:\n      return prevState;\n  }\n};\n\nexport const ReducerAndMakeUpdaterExample: FC = () => {\n  const [{ count, amount }, dispatch] = useReducer(reducer, {\n    count: 0,\n    amount: 1,\n  });\n\n  const addHandlers = {\n    drdo: () => dispatch({ type: 'add' }),\n    undo: () => dispatch({ type: 'subtract' }),\n  };\n\n  const updateAmountHandler = (payload: PayloadFromTo<Nullber>) =>\n    dispatch({ type: 'updateAmount', payload });\n\n  const {\n    undoables,\n    undo,\n    redo,\n    history,\n    timeTravel,\n    switchToBranch,\n  } = useUndoableEffects<PayloadByType>({\n    handlers: {\n      add: addHandlers,\n      subtract: invertHandlers(addHandlers),\n      updateAmount: {\n        drdo: updateAmountHandler,\n        undo: invertFTHandler(updateAmountHandler),\n      },\n    },\n  });\n\n  const { add, subtract, updateAmount } = undoables;\n\n  return (\n    <div className={rootStyle}>\n      <div className={topUIStyle}>\n        <div className={countStyle}>count &nbsp;= &nbsp;{count}</div>\n        <div className={actionsStyle}>\n          <label>\n            amount =&nbsp;\n            <NumberInput\n              value={amount}\n              onChange={value =>\n                updateAmount({\n                  from: amount,\n                  to: value,\n                })\n              }\n            />\n          </label>\n          <button disabled={!amount} onClick={() => add()}>\n            add\n          </button>\n          <button disabled={!amount} onClick={() => subtract()}>\n            subtract\n          </button>\n        </div>\n        <BranchNav\n          history={history}\n          switchToBranch={switchToBranch}\n          undo={undo}\n          redo={redo}\n        />\n      </div>\n      <ActionList\n        history={history}\n        timeTravel={timeTravel}\n        switchToBranch={switchToBranch}\n      />\n    </div>\n  );\n};\n```\n"},373:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return BindActionCreatorsExample}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),_examples_util__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),_styles__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1),_components_action_list__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6),_components_number_input__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(7),_components_branch_nav__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(5),countUpdater=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.p)((function(state){return state.count}),(function(count){return Object(_examples_util__WEBPACK_IMPORTED_MODULE_2__.c)({count:count})}))((function(){return function(state){return state.amount||0}})),_a=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.i)({add:countUpdater(_examples_util__WEBPACK_IMPORTED_MODULE_2__.a),subtract:countUpdater(_examples_util__WEBPACK_IMPORTED_MODULE_2__.e),updateAmount:Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.g)((function(amount){return Object(_examples_util__WEBPACK_IMPORTED_MODULE_2__.c)({amount:amount})}))}),reducer=_a.reducer,actionCreators=_a.actionCreators,BindActionCreatorsExample=function(){var _a=Object(react__WEBPACK_IMPORTED_MODULE_0__.useReducer)(reducer,{count:0,amount:1}),_b=_a[0],count=_b.count,amount=_b.amount,dispatch=_a[1],drdoHandlers=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.a)(dispatch,actionCreators),_c=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.t)({drdoHandlers:drdoHandlers,undoHandlers:{add:drdoHandlers.subtract,subtract:drdoHandlers.add,updateAmount:Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.e)(drdoHandlers.updateAmount)}}),undoables=_c.undoables,undo=_c.undo,redo=_c.redo,history=_c.history,timeTravel=_c.timeTravel,switchToBranch=_c.switchToBranch,add=undoables.add,subtract=undoables.subtract,updateAmount=undoables.updateAmount;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.d},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.e},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.b},"count  =  ",count),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.a},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label",null,"amount = ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_number_input__WEBPACK_IMPORTED_MODULE_5__.a,{value:amount,onChange:function(value){return updateAmount({from:amount,to:value})}})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{disabled:!amount,onClick:function(){return add()}},"add"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{disabled:!amount,onClick:function(){return subtract()}},"subtract")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_branch_nav__WEBPACK_IMPORTED_MODULE_6__.a,{history:history,switchToBranch:switchToBranch,undo:undo,redo:redo})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_action_list__WEBPACK_IMPORTED_MODULE_4__.a,{history:history,timeTravel:timeTravel,switchToBranch:switchToBranch}))}},374:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="```typescript\nimport React, { FC, useReducer } from 'react';\nimport {\n  useUndoableEffects,\n  PayloadFromTo,\n  makeUpdater,\n  makeFTHandler,\n  invertFTHandler,\n  makeReducer,\n  bindActionCreators,\n} from 'use-flexible-undo';\nimport { merge, addUpdater, subtractUpdater } from '../examples-util';\nimport { rootStyle, topUIStyle, countStyle, actionsStyle } from '../styles';\nimport { ActionList } from '../components/action-list';\nimport { NumberInput } from '../components/number-input';\nimport { BranchNav } from '../components/branch-nav';\n\ntype Nullber = number | null;\n\ninterface State {\n  count: number;\n  amount: Nullber;\n}\n\ninterface PayloadByType {\n  add: void;\n  subtract: void;\n  updateAmount: PayloadFromTo<Nullber>;\n}\n\nconst countUpdater = makeUpdater(\n  (state: State) => state.count,\n  count => merge({ count })\n)(() => state => state.amount || 0);\n\nconst { reducer, actionCreators } = makeReducer<State, PayloadByType>({\n  add: countUpdater(addUpdater),\n  subtract: countUpdater(subtractUpdater),\n  updateAmount: makeFTHandler(amount => merge({ amount })),\n});\n\nexport const BindActionCreatorsExample: FC = () => {\n  const [{ count, amount }, dispatch] = useReducer(reducer, {\n    count: 0,\n    amount: 1,\n  });\n\n  const drdoHandlers = bindActionCreators(dispatch, actionCreators);\n\n  const {\n    undoables,\n    undo,\n    redo,\n    history,\n    timeTravel,\n    switchToBranch,\n  } = useUndoableEffects({\n    drdoHandlers,\n    undoHandlers: {\n      add: drdoHandlers.subtract,\n      subtract: drdoHandlers.add,\n      updateAmount: invertFTHandler(drdoHandlers.updateAmount),\n    },\n  });\n\n  const { add, subtract, updateAmount } = undoables;\n\n  return (\n    <div className={rootStyle}>\n      <div className={topUIStyle}>\n        <div className={countStyle}>count &nbsp;= &nbsp;{count}</div>\n        <div className={actionsStyle}>\n          <label>\n            amount =&nbsp;\n            <NumberInput\n              value={amount}\n              onChange={value =>\n                updateAmount({\n                  from: amount,\n                  to: value,\n                })\n              }\n            />\n          </label>\n          <button disabled={!amount} onClick={() => add()}>\n            add\n          </button>\n          <button disabled={!amount} onClick={() => subtract()}>\n            subtract\n          </button>\n        </div>\n        <BranchNav\n          history={history}\n          switchToBranch={switchToBranch}\n          undo={undo}\n          redo={redo}\n        />\n      </div>\n      <ActionList\n        history={history}\n        timeTravel={timeTravel}\n        switchToBranch={switchToBranch}\n      />\n    </div>\n  );\n};\n```\n"},375:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return UseBindActionCreatorsExample}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),_examples_util__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),_styles__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1),_components_action_list__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6),_components_number_input__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(7),_components_branch_nav__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(5),countUpdater=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.p)((function(state){return state.count}),(function(count){return Object(_examples_util__WEBPACK_IMPORTED_MODULE_2__.c)({count:count})}))((function(){return function(state){return state.amount||0}})),_a=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.i)({add:countUpdater(_examples_util__WEBPACK_IMPORTED_MODULE_2__.a),subtract:countUpdater(_examples_util__WEBPACK_IMPORTED_MODULE_2__.e),updateAmount:Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.g)((function(amount){return Object(_examples_util__WEBPACK_IMPORTED_MODULE_2__.c)({amount:amount})}))}),reducer=_a.reducer,actionCreators=_a.actionCreators,UseBindActionCreatorsExample=function(){var _a=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.q)({reducer:reducer,initialState:{count:0,amount:1},actionCreators:actionCreators}),_b=_a[0],count=_b.count,amount=_b.amount,drdoHandlers=_a[1],_c=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.t)({drdoHandlers:drdoHandlers,undoHandlers:{add:drdoHandlers.subtract,subtract:drdoHandlers.add,updateAmount:Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.e)(drdoHandlers.updateAmount)}}),undoables=_c.undoables,undo=_c.undo,redo=_c.redo,history=_c.history,timeTravel=_c.timeTravel,switchToBranch=_c.switchToBranch,add=undoables.add,subtract=undoables.subtract,updateAmount=undoables.updateAmount;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.d},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.e},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.b},"count  =  ",count),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.a},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label",null,"amount = ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_number_input__WEBPACK_IMPORTED_MODULE_5__.a,{value:amount,onChange:function(value){return updateAmount({from:amount,to:value})}})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{disabled:!amount,onClick:function(){return add()}},"add"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{disabled:!amount,onClick:function(){return subtract()}},"subtract")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_branch_nav__WEBPACK_IMPORTED_MODULE_6__.a,{history:history,switchToBranch:switchToBranch,undo:undo,redo:redo})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_action_list__WEBPACK_IMPORTED_MODULE_4__.a,{history:history,timeTravel:timeTravel,switchToBranch:switchToBranch}))}},376:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="```typescript\nimport React, { FC } from 'react';\nimport {\n  useUndoableEffects,\n  PayloadFromTo,\n  makeUpdater,\n  makeFTHandler,\n  invertFTHandler,\n  makeReducer,\n  useBindActionCreators,\n} from 'use-flexible-undo';\nimport { merge, addUpdater, subtractUpdater } from '../examples-util';\nimport { rootStyle, topUIStyle, countStyle, actionsStyle } from '../styles';\nimport { ActionList } from '../components/action-list';\nimport { NumberInput } from '../components/number-input';\nimport { BranchNav } from '../components/branch-nav';\n\ntype Nullber = number | null;\n\ninterface State {\n  count: number;\n  amount: Nullber;\n}\n\ninterface PayloadByType {\n  add: void;\n  subtract: void;\n  updateAmount: PayloadFromTo<Nullber>;\n}\n\nconst countUpdater = makeUpdater(\n  (state: State) => state.count,\n  count => merge({ count })\n)(() => state => state.amount || 0);\n\nconst { reducer, actionCreators } = makeReducer<State, PayloadByType>({\n  add: countUpdater(addUpdater),\n  subtract: countUpdater(subtractUpdater),\n  updateAmount: makeFTHandler(amount => merge({ amount })),\n});\n\nexport const UseBindActionCreatorsExample: FC = () => {\n  const [{ count, amount }, drdoHandlers] = useBindActionCreators({\n    reducer,\n    initialState: {\n      count: 0,\n      amount: 1,\n    },\n    actionCreators,\n  });\n\n  const {\n    undoables,\n    undo,\n    redo,\n    history,\n    timeTravel,\n    switchToBranch,\n  } = useUndoableEffects({\n    drdoHandlers,\n    undoHandlers: {\n      add: drdoHandlers.subtract,\n      subtract: drdoHandlers.add,\n      updateAmount: invertFTHandler(drdoHandlers.updateAmount),\n    },\n  });\n\n  const { add, subtract, updateAmount } = undoables;\n\n  return (\n    <div className={rootStyle}>\n      <div className={topUIStyle}>\n        <div className={countStyle}>count &nbsp;= &nbsp;{count}</div>\n        <div className={actionsStyle}>\n          <label>\n            amount =&nbsp;\n            <NumberInput\n              value={amount}\n              onChange={value =>\n                updateAmount({\n                  from: amount,\n                  to: value,\n                })\n              }\n            />\n          </label>\n          <button disabled={!amount} onClick={() => add()}>\n            add\n          </button>\n          <button disabled={!amount} onClick={() => subtract()}>\n            subtract\n          </button>\n        </div>\n        <BranchNav\n          history={history}\n          switchToBranch={switchToBranch}\n          undo={undo}\n          redo={redo}\n        />\n      </div>\n      <ActionList\n        history={history}\n        timeTravel={timeTravel}\n        switchToBranch={switchToBranch}\n      />\n    </div>\n  );\n};\n```\n"},377:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return UnducerAndMakeUndoableUpdaterExample}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(9),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),use_flexible_undo__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2),_examples_util__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(3),_components_action_list__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6),_styles__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(1),_components_number_input__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(7),_components_branch_nav__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(5),undoableAddUpdater=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_2__.n)((function(state){return state.count}),(function(count){return Object(_examples_util__WEBPACK_IMPORTED_MODULE_3__.c)({count:count})}))((function(_){return function(state){return state.amount||0}}))(_examples_util__WEBPACK_IMPORTED_MODULE_3__.a,_examples_util__WEBPACK_IMPORTED_MODULE_3__.e),unducer=function(prevState,action){var _a,isUndo=null===(_a=action.meta)||void 0===_a?void 0:_a.isUndo;switch(action.type){case"add":return isUndo?undoableAddUpdater.undo()(prevState):undoableAddUpdater.drdo()(prevState);case"subtract":return isUndo?undoableAddUpdater.drdo()(prevState):undoableAddUpdater.undo()(prevState);case"updateAmount":var _b=action.payload,from=_b.from,to=_b.to;return Object(tslib__WEBPACK_IMPORTED_MODULE_0__.a)(Object(tslib__WEBPACK_IMPORTED_MODULE_0__.a)({},prevState),{amount:isUndo?from:to});default:return prevState}},makeHandlers=function(fn){return{drdo:fn(!1),undo:fn(!0)}},UnducerAndMakeUndoableUpdaterExample=function(){var _a=Object(react__WEBPACK_IMPORTED_MODULE_1__.useReducer)(unducer,{count:0,amount:1}),_b=_a[0],count=_b.count,amount=_b.amount,dispatch=_a[1],_c=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_2__.t)({handlers:{add:makeHandlers((function(isUndo){return function(){return dispatch({type:"add",meta:{isUndo:isUndo}})}})),subtract:makeHandlers((function(isUndo){return function(){return dispatch({type:"subtract",meta:{isUndo:isUndo}})}})),updateAmount:makeHandlers((function(isUndo){return function(payload){return dispatch({type:"updateAmount",payload:payload,meta:{isUndo:isUndo}})}}))}}),undoables=_c.undoables,undo=_c.undo,redo=_c.redo,history=_c.history,timeTravel=_c.timeTravel,switchToBranch=_c.switchToBranch,add=undoables.add,subtract=undoables.subtract,updateAmount=undoables.updateAmount;return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_5__.d},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_5__.e},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_5__.b},"count  =  ",count),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_5__.a},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("label",null,"amount = ",react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_number_input__WEBPACK_IMPORTED_MODULE_6__.a,{value:amount,onChange:function(value){return updateAmount({from:amount,to:value})}})),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("button",{disabled:!amount,onClick:function(){return add()}},"add"),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("button",{disabled:!amount,onClick:function(){return subtract()}},"subtract")),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_branch_nav__WEBPACK_IMPORTED_MODULE_7__.a,{history:history,switchToBranch:switchToBranch,undo:undo,redo:redo})),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_action_list__WEBPACK_IMPORTED_MODULE_4__.a,{history:history,timeTravel:timeTravel,switchToBranch:switchToBranch}))}},378:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a='### Reducer & makeUndoableUpdater - Example\n\nIn this example "count" and "amount" are combined in a single state object. We manually create a reducer, in which "amount" is updated, and retrieved from the previous state in order to update "count". The dispatch function which is returned from useReducer is called manually from the do/redo & undo handlers for "add", "subtract" and "updateAmount".\n'},379:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="### Reducer & makeUndoableUpdater - Readme & Code\n\nThe utility **makeUndoableUpdater** is similar to **makeUndoableSetter** which was explained in the previous chapter about \"dependent state\". The difference is that it does not take the initial state setter function, and consequently it does not set the state, but returns do/redo & undo state updater functions that you can use in a reducer. Again this may not be a one-size-fits-all solution. Feel free to write your own solution, for example using lenses and other functional utilities.\n\nIn this example you can see that manually writing a reducer and calling dispatch from the handlers involves writing a lot of repetitive code. We could optimize the code a bit by leaving out the \"subtract\" case from the reducer, and simply using the inverse of the \"add\" handler for the \"subtract\" handler (e.g. using the **invertHandlers** util which is explained in the first chapter). But this would only bring us so far. In the next examples we look at some utilities for removing more repetitive code.\n\n```typescript\nimport React, { FC, useReducer } from 'react';\nimport {\n  useUndoableEffects,\n  PayloadFromTo,\n  Unducer,\n  makeUndoableUpdater,\n} from 'use-flexible-undo';\nimport { merge, addUpdater, subtractUpdater } from '../examples-util';\nimport { ActionList } from '../components/action-list';\nimport { rootStyle, topUIStyle, countStyle, actionsStyle } from '../styles';\nimport { NumberInput } from '../components/number-input';\nimport { BranchNav } from '../components/branch-nav';\n\ntype Nullber = number | null;\n\ninterface State {\n  count: number;\n  amount: Nullber;\n}\n\ninterface PayloadByType {\n  add: void;\n  subtract: void;\n  updateAmount: PayloadFromTo<Nullber>;\n}\n\nconst selectAmount = (_: void) => (state: State) => state.amount || 0;\n\nconst undoableAddUpdater = makeUndoableUpdater(\n  (state: State) => state.count,\n  count => merge({ count })\n)(selectAmount)(addUpdater, subtractUpdater);\n\nconst unducer: Unducer<State, PayloadByType> = (prevState, action) => {\n  const isUndo = action.meta?.isUndo;\n  switch (action.type) {\n    case 'add':\n      return isUndo\n        ? undoableAddUpdater.undo()(prevState)\n        : undoableAddUpdater.drdo()(prevState);\n    case 'subtract':\n      return isUndo\n        ? undoableAddUpdater.drdo()(prevState)\n        : undoableAddUpdater.undo()(prevState);\n    case 'updateAmount':\n      const { from, to } = action.payload;\n      return { ...prevState, amount: isUndo ? from : to };\n    default:\n      return prevState;\n  }\n};\n\nconst makeHandlers = <R extends unknown>(fn: (isUndo: boolean) => R) => ({\n  drdo: fn(false),\n  undo: fn(true),\n});\n\nexport const UnducerAndMakeUndoableUpdaterExample: FC = () => {\n  const [{ count, amount }, dispatch] = useReducer(unducer, {\n    count: 0,\n    amount: 1,\n  });\n\n  const makeAddHandler = (isUndo: boolean) => () =>\n    dispatch({ type: 'add', meta: { isUndo } });\n\n  const makeSubtractHandler = (isUndo: boolean) => () =>\n    dispatch({ type: 'subtract', meta: { isUndo } });\n\n  const makeUpdateAmountHandler = (isUndo: boolean) => (\n    payload: PayloadFromTo<Nullber>\n  ) => dispatch({ type: 'updateAmount', payload, meta: { isUndo } });\n\n  const {\n    undoables,\n    undo,\n    redo,\n    history,\n    timeTravel,\n    switchToBranch,\n  } = useUndoableEffects<PayloadByType>({\n    handlers: {\n      add: makeHandlers(makeAddHandler),\n      subtract: makeHandlers(makeSubtractHandler),\n      updateAmount: makeHandlers(makeUpdateAmountHandler),\n    },\n  });\n\n  const { add, subtract, updateAmount } = undoables;\n\n  return (\n    <div className={rootStyle}>\n      <div className={topUIStyle}>\n        <div className={countStyle}>count &nbsp;= &nbsp;{count}</div>\n        <div className={actionsStyle}>\n          <label>\n            amount =&nbsp;\n            <NumberInput\n              value={amount}\n              onChange={value =>\n                updateAmount({\n                  from: amount,\n                  to: value,\n                })\n              }\n            />\n          </label>\n          <button disabled={!amount} onClick={() => add()}>\n            add\n          </button>\n          <button disabled={!amount} onClick={() => subtract()}>\n            subtract\n          </button>\n        </div>\n        <BranchNav\n          history={history}\n          switchToBranch={switchToBranch}\n          undo={undo}\n          redo={redo}\n        />\n      </div>\n      <ActionList\n        history={history}\n        timeTravel={timeTravel}\n        switchToBranch={switchToBranch}\n      />\n    </div>\n  );\n};\n```\n"},380:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return BindUndoableActionCreatorsExample}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),_examples_util__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),_styles__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1),_components_number_input__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(7),_components_branch_nav__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(5),_components_action_list__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(6),undoableAddUpdater=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.n)((function(state){return state.count}),(function(count){return Object(_examples_util__WEBPACK_IMPORTED_MODULE_2__.c)({count:count})}))((function(_){return function(state){return state.amount||0}}))(_examples_util__WEBPACK_IMPORTED_MODULE_2__.a,_examples_util__WEBPACK_IMPORTED_MODULE_2__.e),_a=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.o)({add:undoableAddUpdater,subtract:Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.f)(undoableAddUpdater),updateAmount:Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.j)((function(amount){return Object(_examples_util__WEBPACK_IMPORTED_MODULE_2__.c)({amount:amount})}))}),unducer=_a.unducer,actionCreators=_a.actionCreators,BindUndoableActionCreatorsExample=function(){var _a=Object(react__WEBPACK_IMPORTED_MODULE_0__.useReducer)(unducer,{count:0,amount:1}),_b=_a[0],count=_b.count,amount=_b.amount,dispatch=_a[1],handlers=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.c)(dispatch,actionCreators),_c=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.t)({handlers:handlers}),undoables=_c.undoables,undo=_c.undo,redo=_c.redo,history=_c.history,timeTravel=_c.timeTravel,switchToBranch=_c.switchToBranch,add=undoables.add,subtract=undoables.subtract,updateAmount=undoables.updateAmount;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.d},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.e},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.b},"count  =  ",count),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.a},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label",null,"amount = ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_number_input__WEBPACK_IMPORTED_MODULE_4__.a,{value:amount,onChange:function(value){return updateAmount({from:amount,to:value})}})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{disabled:!amount,onClick:function(){return add()}},"add"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{disabled:!amount,onClick:function(){return subtract()}},"subtract")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_branch_nav__WEBPACK_IMPORTED_MODULE_5__.a,{history:history,switchToBranch:switchToBranch,undo:undo,redo:redo})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_action_list__WEBPACK_IMPORTED_MODULE_6__.a,{history:history,timeTravel:timeTravel,switchToBranch:switchToBranch}))}},381:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="### makeUnducer & bindUndoableActionCreators - Example\n\nThis example is equivalent to the previous example, except that we use the utility **makeUnducer** to construct the reducer, and the utility **bindUndoableActionCreators** to construct the do/redo & undo handlers.\n"},382:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="### makeUnducer & bindUndoableActionCreators - Readme & Code\n\nThe utility **makeUnducer** takes an object with do/redo + undo state updater functions by action type. It returns an object with a reducer and do/redo + undo action creators by action type. The reducer can be passed to useReducer.\n\nThe utility **bindUndoableActionCreators** takes the dispatch function (returned by useReducer) and an object with do/redo + undo action creators by action type, and returns an object with do/redo + undo handers by action type. These handlers can be passed to **useUndoableEffects**.\n\n```typescript\nimport React, { FC, useReducer } from 'react';\nimport {\n  useUndoableEffects,\n  makeUnducer,\n  PayloadFromTo,\n  invertHandlers,\n  makeUndoableFTHandler,\n  bindUndoableActionCreators,\n  makeUndoableUpdater,\n} from 'use-flexible-undo';\nimport { merge, addUpdater, subtractUpdater } from '../examples-util';\nimport { topUIStyle, rootStyle, countStyle, actionsStyle } from '../styles';\nimport { NumberInput } from '../components/number-input';\nimport { BranchNav } from '../components/branch-nav';\nimport { ActionList } from '../components/action-list';\n\ntype Nullber = number | null;\n\ninterface State {\n  count: number;\n  amount: Nullber;\n}\n\ninterface PayloadByType {\n  add: void;\n  subtract: void;\n  updateAmount: PayloadFromTo<Nullber>;\n}\n\nconst selectAmount = (_: void) => (state: State) => state.amount || 0;\n\nconst undoableAddUpdater = makeUndoableUpdater(\n  (state: State) => state.count,\n  count => merge({ count })\n)(selectAmount)(addUpdater, subtractUpdater);\n\nconst { unducer, actionCreators } = makeUnducer<State, PayloadByType>({\n  add: undoableAddUpdater,\n  subtract: invertHandlers(undoableAddUpdater),\n  updateAmount: makeUndoableFTHandler(amount => merge({ amount })),\n});\n\nexport const BindUndoableActionCreatorsExample: FC = () => {\n  const [{ count, amount }, dispatch] = useReducer(unducer, {\n    count: 0,\n    amount: 1,\n  });\n\n  const handlers = bindUndoableActionCreators(dispatch, actionCreators);\n\n  const {\n    undoables,\n    undo,\n    redo,\n    history,\n    timeTravel,\n    switchToBranch,\n  } = useUndoableEffects({\n    handlers,\n  });\n\n  const { add, subtract, updateAmount } = undoables;\n\n  return (\n    <div className={rootStyle}>\n      <div className={topUIStyle}>\n        <div className={countStyle}>count &nbsp;= &nbsp;{count}</div>\n        <div className={actionsStyle}>\n          <label>\n            amount =&nbsp;\n            <NumberInput\n              value={amount}\n              onChange={value =>\n                updateAmount({\n                  from: amount,\n                  to: value,\n                })\n              }\n            />\n          </label>\n          <button disabled={!amount} onClick={() => add()}>\n            add\n          </button>\n          <button disabled={!amount} onClick={() => subtract()}>\n            subtract\n          </button>\n        </div>\n        <BranchNav\n          history={history}\n          switchToBranch={switchToBranch}\n          undo={undo}\n          redo={redo}\n        />\n      </div>\n      <ActionList\n        history={history}\n        timeTravel={timeTravel}\n        switchToBranch={switchToBranch}\n      />\n    </div>\n  );\n};\n```\n"},383:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return BindSeparateActionCreatorsExample}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),_examples_util__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),_styles__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1),_components_action_list__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6),_components_number_input__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(7),_components_branch_nav__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(5),countUpdater=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.p)((function(state){return state.count}),(function(count){return Object(_examples_util__WEBPACK_IMPORTED_MODULE_2__.c)({count:count})}))((function(){return function(state){return state.amount||0}})),_a=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.i)({add:countUpdater(_examples_util__WEBPACK_IMPORTED_MODULE_2__.a),subtract:countUpdater(_examples_util__WEBPACK_IMPORTED_MODULE_2__.e),updateAmount:Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.g)((function(amount){return Object(_examples_util__WEBPACK_IMPORTED_MODULE_2__.c)({amount:amount})}))}),reducer=_a.reducer,actionCreators=_a.actionCreators,BindSeparateActionCreatorsExample=function(){var _a=Object(react__WEBPACK_IMPORTED_MODULE_0__.useReducer)(reducer,{count:0,amount:1}),_b=_a[0],count=_b.count,amount=_b.amount,dispatch=_a[1],handlers=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.b)(dispatch,actionCreators,{add:actionCreators.subtract,subtract:actionCreators.add,updateAmount:Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.e)(actionCreators.updateAmount)}),_c=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.t)({handlers:handlers}),undoables=_c.undoables,undo=_c.undo,redo=_c.redo,history=_c.history,timeTravel=_c.timeTravel,switchToBranch=_c.switchToBranch,add=undoables.add,subtract=undoables.subtract,updateAmount=undoables.updateAmount;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.d},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.e},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.b},"count  =  ",count),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.a},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label",null,"amount = ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_number_input__WEBPACK_IMPORTED_MODULE_5__.a,{value:amount,onChange:function(value){return updateAmount({from:amount,to:value})}})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{disabled:!amount,onClick:function(){return add()}},"add"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{disabled:!amount,onClick:function(){return subtract()}},"subtract")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_branch_nav__WEBPACK_IMPORTED_MODULE_6__.a,{history:history,switchToBranch:switchToBranch,undo:undo,redo:redo})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_action_list__WEBPACK_IMPORTED_MODULE_4__.a,{history:history,timeTravel:timeTravel,switchToBranch:switchToBranch}))}},384:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="```typescript\nimport React, { FC, useReducer } from 'react';\nimport {\n  useUndoableEffects,\n  PayloadFromTo,\n  makeUpdater,\n  makeFTHandler,\n  invertFTHandler,\n  makeReducer,\n  bindSeparateActionCreators,\n} from 'use-flexible-undo';\nimport { merge, addUpdater, subtractUpdater } from '../examples-util';\nimport { rootStyle, topUIStyle, countStyle, actionsStyle } from '../styles';\nimport { ActionList } from '../components/action-list';\nimport { NumberInput } from '../components/number-input';\nimport { BranchNav } from '../components/branch-nav';\n\ntype Nullber = number | null;\n\ninterface State {\n  count: number;\n  amount: Nullber;\n}\n\ninterface PayloadByType {\n  add: void;\n  subtract: void;\n  updateAmount: PayloadFromTo<Nullber>;\n}\n\nconst countUpdater = makeUpdater(\n  (state: State) => state.count,\n  count => merge({ count })\n)(() => state => state.amount || 0);\n\nconst { reducer, actionCreators } = makeReducer<State, PayloadByType>({\n  add: countUpdater(addUpdater),\n  subtract: countUpdater(subtractUpdater),\n  updateAmount: makeFTHandler(amount => merge({ amount })),\n});\n\nexport const BindSeparateActionCreatorsExample: FC = () => {\n  const [{ count, amount }, dispatch] = useReducer(reducer, {\n    count: 0,\n    amount: 1,\n  });\n\n  const handlers = bindSeparateActionCreators(dispatch, actionCreators, {\n    add: actionCreators.subtract,\n    subtract: actionCreators.add,\n    updateAmount: invertFTHandler(actionCreators.updateAmount),\n  });\n\n  const {\n    undoables,\n    undo,\n    redo,\n    history,\n    timeTravel,\n    switchToBranch,\n  } = useUndoableEffects({\n    handlers,\n  });\n\n  const { add, subtract, updateAmount } = undoables;\n\n  return (\n    <div className={rootStyle}>\n      <div className={topUIStyle}>\n        <div className={countStyle}>count &nbsp;= &nbsp;{count}</div>\n        <div className={actionsStyle}>\n          <label>\n            amount =&nbsp;\n            <NumberInput\n              value={amount}\n              onChange={value =>\n                updateAmount({\n                  from: amount,\n                  to: value,\n                })\n              }\n            />\n          </label>\n          <button disabled={!amount} onClick={() => add()}>\n            add\n          </button>\n          <button disabled={!amount} onClick={() => subtract()}>\n            subtract\n          </button>\n        </div>\n        <BranchNav\n          history={history}\n          switchToBranch={switchToBranch}\n          undo={undo}\n          redo={redo}\n        />\n      </div>\n      <ActionList\n        history={history}\n        timeTravel={timeTravel}\n        switchToBranch={switchToBranch}\n      />\n    </div>\n  );\n};\n```\n"},385:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return UseBindUndoableActionCreatorsExample}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),_examples_util__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),_styles__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1),_components_number_input__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(7),_components_branch_nav__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(5),_components_action_list__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(6),undoableAddUpdater=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.n)((function(state){return state.count}),(function(count){return Object(_examples_util__WEBPACK_IMPORTED_MODULE_2__.c)({count:count})}))((function(_){return function(state){return state.amount||0}}))(_examples_util__WEBPACK_IMPORTED_MODULE_2__.a,_examples_util__WEBPACK_IMPORTED_MODULE_2__.e),_a=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.o)({add:undoableAddUpdater,subtract:Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.f)(undoableAddUpdater),updateAmount:Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.j)((function(amount){return Object(_examples_util__WEBPACK_IMPORTED_MODULE_2__.c)({amount:amount})}))}),unducer=_a.unducer,actionCreators=_a.actionCreators,UseBindUndoableActionCreatorsExample=function(){var _a=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.s)({unducer:unducer,initialState:{count:0,amount:1},actionCreators:actionCreators}),_b=_a[0],count=_b.count,amount=_b.amount,handlers=_a[1],_c=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.t)({handlers:handlers}),undoables=_c.undoables,undo=_c.undo,redo=_c.redo,history=_c.history,timeTravel=_c.timeTravel,switchToBranch=_c.switchToBranch,add=undoables.add,subtract=undoables.subtract,updateAmount=undoables.updateAmount;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.d},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.e},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.b},"count  =  ",count),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.a},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label",null,"amount = ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_number_input__WEBPACK_IMPORTED_MODULE_4__.a,{value:amount,onChange:function(value){return updateAmount({from:amount,to:value})}})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{disabled:!amount,onClick:function(){return add()}},"add"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{disabled:!amount,onClick:function(){return subtract()}},"subtract")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_branch_nav__WEBPACK_IMPORTED_MODULE_5__.a,{history:history,switchToBranch:switchToBranch,undo:undo,redo:redo})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_action_list__WEBPACK_IMPORTED_MODULE_6__.a,{history:history,timeTravel:timeTravel,switchToBranch:switchToBranch}))}},386:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="### useBoundUnducer - Example\n\nThis example is equivalent to the previous example, except that we use the hook **useBoundUnducer** to construct our do/redo & undo handlers.\n"},387:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="### useBoundUnducer - Readme & Code\n\nThe hook **useBoundUnducer** is a basic wrapper for useReducer and bindUndoableActionCreators. It takes a reducer, the initial state and an object with do/redo + undo action creators by action type. It returns (in a tuple) the current state and an object with do/redo + undo handlers by action type. This handlers object is memoized inside the hook, and can be passed to **useUndoableEffects**.\n\n```typescript\nimport React, { FC } from 'react';\nimport {\n  useUndoableEffects,\n  makeUnducer,\n  PayloadFromTo,\n  makeUndoableFTHandler,\n  invertHandlers,\n  makeUndoableUpdater,\n  useBindUndoableActionCreators,\n} from 'use-flexible-undo';\nimport { merge, addUpdater, subtractUpdater } from '../examples-util';\nimport { topUIStyle, rootStyle, countStyle, actionsStyle } from '../styles';\nimport { NumberInput } from '../components/number-input';\nimport { BranchNav } from '../components/branch-nav';\nimport { ActionList } from '../components/action-list';\n\ntype Nullber = number | null;\n\ninterface State {\n  count: number;\n  amount: Nullber;\n}\n\ninterface PayloadByType {\n  add: void;\n  subtract: void;\n  updateAmount: PayloadFromTo<Nullber>;\n}\n\nconst selectAmount = (_: void) => (state: State) => state.amount || 0;\n\nconst undoableAddUpdater = makeUndoableUpdater(\n  (state: State) => state.count,\n  count => merge({ count })\n)(selectAmount)(addUpdater, subtractUpdater);\n\nconst { unducer, actionCreators } = makeUnducer<State, PayloadByType>({\n  add: undoableAddUpdater,\n  subtract: invertHandlers(undoableAddUpdater),\n  updateAmount: makeUndoableFTHandler(amount => merge({ amount })),\n});\n\nexport const useBindUndoableActionCreatorsExample: FC = () => {\n  const [{ count, amount }, handlers] = useBindUndoableActionCreators({\n    unducer,\n    initialState: {\n      count: 0,\n      amount: 1,\n    },\n    actionCreators,\n  });\n\n  const {\n    undoables,\n    undo,\n    redo,\n    history,\n    timeTravel,\n    switchToBranch,\n  } = useUndoableEffects({\n    handlers,\n  });\n\n  const { add, subtract, updateAmount } = undoables;\n\n  return (\n    <div className={rootStyle}>\n      <div className={topUIStyle}>\n        <div className={countStyle}>count &nbsp;= &nbsp;{count}</div>\n        <div className={actionsStyle}>\n          <label>\n            amount =&nbsp;\n            <NumberInput\n              value={amount}\n              onChange={value =>\n                updateAmount({\n                  from: amount,\n                  to: value,\n                })\n              }\n            />\n          </label>\n          <button disabled={!amount} onClick={() => add()}>\n            add\n          </button>\n          <button disabled={!amount} onClick={() => subtract()}>\n            subtract\n          </button>\n        </div>\n        <BranchNav\n          history={history}\n          switchToBranch={switchToBranch}\n          undo={undo}\n          redo={redo}\n        />\n      </div>\n      <ActionList\n        history={history}\n        timeTravel={timeTravel}\n        switchToBranch={switchToBranch}\n      />\n    </div>\n  );\n};\n```\n"},388:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return UseBindSeparateActionCreatorsExample}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),_examples_util__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),_styles__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1),_components_action_list__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6),_components_number_input__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(7),_components_branch_nav__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(5),countUpdater=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.p)((function(state){return state.count}),(function(count){return Object(_examples_util__WEBPACK_IMPORTED_MODULE_2__.c)({count:count})}))((function(){return function(state){return state.amount||0}})),_a=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.i)({add:countUpdater(_examples_util__WEBPACK_IMPORTED_MODULE_2__.a),subtract:countUpdater(_examples_util__WEBPACK_IMPORTED_MODULE_2__.e),updateAmount:Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.g)((function(amount){return Object(_examples_util__WEBPACK_IMPORTED_MODULE_2__.c)({amount:amount})}))}),reducer=_a.reducer,actionCreators=_a.actionCreators,UseBindSeparateActionCreatorsExample=function(){var _a=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.r)({reducer:reducer,initialState:{count:0,amount:1},drdoActionCreators:actionCreators,undoActionCreators:{add:actionCreators.subtract,subtract:actionCreators.add,updateAmount:Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.e)(actionCreators.updateAmount)}}),_b=_a[0],count=_b.count,amount=_b.amount,handlers=_a[1],_c=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.t)({handlers:handlers}),undoables=_c.undoables,undo=_c.undo,redo=_c.redo,history=_c.history,timeTravel=_c.timeTravel,switchToBranch=_c.switchToBranch,add=undoables.add,subtract=undoables.subtract,updateAmount=undoables.updateAmount;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.d},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.e},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.b},"count  =  ",count),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.a},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label",null,"amount = ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_number_input__WEBPACK_IMPORTED_MODULE_5__.a,{value:amount,onChange:function(value){return updateAmount({from:amount,to:value})}})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{disabled:!amount,onClick:function(){return add()}},"add"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{disabled:!amount,onClick:function(){return subtract()}},"subtract")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_branch_nav__WEBPACK_IMPORTED_MODULE_6__.a,{history:history,switchToBranch:switchToBranch,undo:undo,redo:redo})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_action_list__WEBPACK_IMPORTED_MODULE_4__.a,{history:history,timeTravel:timeTravel,switchToBranch:switchToBranch}))}},389:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="```typescript\nimport React, { FC } from 'react';\nimport {\n  useUndoableEffects,\n  PayloadFromTo,\n  makeUpdater,\n  makeReducer,\n  invertFTHandler,\n  makeFTHandler,\n  useBindSeparateActionCreators,\n} from 'use-flexible-undo';\nimport { merge, addUpdater, subtractUpdater } from '../examples-util';\nimport { rootStyle, topUIStyle, countStyle, actionsStyle } from '../styles';\nimport { ActionList } from '../components/action-list';\nimport { NumberInput } from '../components/number-input';\nimport { BranchNav } from '../components/branch-nav';\n\ntype Nullber = number | null;\n\ninterface State {\n  count: number;\n  amount: Nullber;\n}\n\ninterface PayloadByType {\n  add: void;\n  subtract: void;\n  updateAmount: PayloadFromTo<Nullber>;\n}\n\nconst countUpdater = makeUpdater(\n  (state: State) => state.count,\n  count => merge({ count })\n)(() => state => state.amount || 0);\n\nconst { reducer, actionCreators } = makeReducer<State, PayloadByType>({\n  add: countUpdater(addUpdater),\n  subtract: countUpdater(subtractUpdater),\n  updateAmount: makeFTHandler(amount => merge({ amount })),\n});\n\nexport const UseBindSeparateActionCreatorsExample: FC = () => {\n  const [{ count, amount }, handlers] = useBindSeparateActionCreators({\n    reducer,\n    initialState: {\n      count: 0,\n      amount: 1,\n    },\n    drdoActionCreators: actionCreators,\n    undoActionCreators: {\n      add: actionCreators.subtract,\n      subtract: actionCreators.add,\n      updateAmount: invertFTHandler(actionCreators.updateAmount),\n    },\n  });\n\n  const {\n    undoables,\n    undo,\n    redo,\n    history,\n    timeTravel,\n    switchToBranch,\n  } = useUndoableEffects({\n    handlers,\n  });\n\n  const { add, subtract, updateAmount } = undoables;\n\n  return (\n    <div className={rootStyle}>\n      <div className={topUIStyle}>\n        <div className={countStyle}>count &nbsp;= &nbsp;{count}</div>\n        <div className={actionsStyle}>\n          <label>\n            amount =&nbsp;\n            <NumberInput\n              value={amount}\n              onChange={value =>\n                updateAmount({\n                  from: amount,\n                  to: value,\n                })\n              }\n            />\n          </label>\n          <button disabled={!amount} onClick={() => add()}>\n            add\n          </button>\n          <button disabled={!amount} onClick={() => subtract()}>\n            subtract\n          </button>\n        </div>\n        <BranchNav\n          history={history}\n          switchToBranch={switchToBranch}\n          undo={undo}\n          redo={redo}\n        />\n      </div>\n      <ActionList\n        history={history}\n        timeTravel={timeTravel}\n        switchToBranch={switchToBranch}\n      />\n    </div>\n  );\n};\n```\n"},39:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return useInterval})),__webpack_require__.d(__webpack_exports__,"b",(function(){return getLastItem})),__webpack_require__.d(__webpack_exports__,"a",(function(){return formatTime}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),useInterval=function(callback,delay){var savedCallback=Object(react__WEBPACK_IMPORTED_MODULE_0__.useRef)(callback);Object(react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){savedCallback.current=callback}),[callback]),Object(react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){if(null!==delay){var id_1=setInterval((function tick(){savedCallback.current()}),delay);return function(){return clearInterval(id_1)}}}),[delay])},getLastItem=function(array){return array[array.length-1]},formatTime=function(created,now){var diffSecs=(now.getTime()-created.getTime())/1e3;if(diffSecs<5)return"a moment ago";if(diffSecs<57.5)return 5*Math.round(diffSecs/5)+" seconds ago";var diffMinutes=diffSecs/60;if(diffMinutes<60){var d=Math.round(diffMinutes);return d+" minute"+getPluralString(d)+" ago"}var diffHours=Math.round(diffMinutes/60);return diffHours+" hour"+getPluralString(diffHours)+" ago"},getPluralString=function(amount){return 1===amount?"":"s"}},390:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ReducerWithPreviousStateAndPayloadExample}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),_examples_util__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),_styles__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1),_components_number_input__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(7),_components_branch_nav__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(5),_components_action_list__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(6),undoableAddHandler=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.n)((function(state){return state.count}),(function(count){return Object(_examples_util__WEBPACK_IMPORTED_MODULE_2__.c)({count:count})}))((function(shouldDouble){return function(_a){var amount=_a.amount;return amount?shouldDouble?2*amount:amount:0}}))(_examples_util__WEBPACK_IMPORTED_MODULE_2__.a,_examples_util__WEBPACK_IMPORTED_MODULE_2__.e),_a=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.o)({add:undoableAddHandler,subtract:Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.f)(undoableAddHandler),updateAmount:Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.j)((function(amount){return Object(_examples_util__WEBPACK_IMPORTED_MODULE_2__.c)({amount:amount})}))}),unducer=_a.unducer,actionCreators=_a.actionCreators,ReducerWithPreviousStateAndPayloadExample=function(){var _a=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.s)({unducer:unducer,initialState:{count:0,amount:1},actionCreators:actionCreators}),_b=_a[0],count=_b.count,amount=_b.amount,handlers=_a[1],_c=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.t)({handlers:handlers}),undoables=_c.undoables,undo=_c.undo,redo=_c.redo,history=_c.history,timeTravel=_c.timeTravel,switchToBranch=_c.switchToBranch,add=undoables.add,subtract=undoables.subtract,updateAmount=undoables.updateAmount;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.d},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.e},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.b},"count  =  ",count),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.a},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label",null,"amount = ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_number_input__WEBPACK_IMPORTED_MODULE_4__.a,{value:amount,onChange:function(value){return updateAmount({from:amount,to:value})}})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{disabled:!amount,onClick:function(){return add(!1)}},"add"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{disabled:!amount,onClick:function(){return add(!0)}},"add x 2"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{disabled:!amount,onClick:function(){return subtract(!1)}},"subtract")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_branch_nav__WEBPACK_IMPORTED_MODULE_5__.a,{history:history,switchToBranch:switchToBranch,undo:undo,redo:redo})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_action_list__WEBPACK_IMPORTED_MODULE_6__.a,{history:history,timeTravel:timeTravel,switchToBranch:switchToBranch}))}},391:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a='### useBoundUnducer with previous state and payload - Example\n\nWe here use a combination of the previous "amount" state and a (static) boolean action payload for updating the "count" state. This is equivalent to the example in the previous chapter, except that we here use a reducer instead of useState.\n'},392:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="### useBoundUnducer with previous state and payload - Readme & Code\n\nYou are free to obtain your state dependencies from the previous state, or from the action payload, or from a combination of the two. In this somewhat contrived :) example \"shouldDouble\" is not part of state (there is a dedicated button for \"add x 2\"), hence we simply pass a static boolean value as the action payload.\n\n```typescript\nimport React, { FC } from 'react';\nimport {\n  useUndoableEffects,\n  makeUnducer,\n  PayloadFromTo,\n  invertHandlers,\n  makeUndoableFTHandler,\n  makeUndoableUpdater,\n  useBindUndoableActionCreators,\n} from 'use-flexible-undo';\nimport { merge, addUpdater, subtractUpdater } from '../examples-util';\nimport { topUIStyle, rootStyle, countStyle, actionsStyle } from '../styles';\nimport { NumberInput } from '../components/number-input';\nimport { BranchNav } from '../components/branch-nav';\nimport { ActionList } from '../components/action-list';\n\ntype Nullber = number | null;\n\ninterface State {\n  count: number;\n  amount: Nullber;\n}\n\ninterface PayloadByType {\n  add: boolean;\n  subtract: boolean;\n  updateAmount: PayloadFromTo<Nullber>;\n}\n\nconst selectAmount = (shouldDouble: boolean) => ({ amount }: State) =>\n  amount ? (shouldDouble ? amount * 2 : amount) : 0;\n\nconst undoableAddHandler = makeUndoableUpdater(\n  (state: State) => state.count,\n  count => merge({ count })\n)(selectAmount)(addUpdater, subtractUpdater);\n\nconst { unducer, actionCreators } = makeUnducer<State, PayloadByType>({\n  add: undoableAddHandler,\n  subtract: invertHandlers(undoableAddHandler),\n  updateAmount: makeUndoableFTHandler(amount => merge({ amount })),\n});\n\nexport const ReducerWithPreviousStateAndPayloadExample: FC = () => {\n  const [{ count, amount }, handlers] = useBindUndoableActionCreators({\n    unducer,\n    initialState: {\n      count: 0,\n      amount: 1,\n    },\n    actionCreators,\n  });\n\n  const {\n    undoables,\n    undo,\n    redo,\n    history,\n    timeTravel,\n    switchToBranch,\n  } = useUndoableEffects({\n    handlers,\n  });\n\n  const { add, subtract, updateAmount } = undoables;\n\n  return (\n    <div className={rootStyle}>\n      <div className={topUIStyle}>\n        <div className={countStyle}>count &nbsp;= &nbsp;{count}</div>\n        <div className={actionsStyle}>\n          <label>\n            amount =&nbsp;\n            <NumberInput\n              value={amount}\n              onChange={value =>\n                updateAmount({\n                  from: amount,\n                  to: value,\n                })\n              }\n            />\n          </label>\n          <button disabled={!amount} onClick={() => add(false)}>\n            add\n          </button>\n          <button disabled={!amount} onClick={() => add(true)}>\n            add x 2\n          </button>\n          <button disabled={!amount} onClick={() => subtract(false)}>\n            subtract\n          </button>\n        </div>\n        <BranchNav\n          history={history}\n          switchToBranch={switchToBranch}\n          undo={undo}\n          redo={redo}\n        />\n      </div>\n      <ActionList\n        history={history}\n        timeTravel={timeTravel}\n        switchToBranch={switchToBranch}\n      />\n    </div>\n  );\n};\n```\n"},393:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ReducerAndUseStateExample}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(9),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),use_flexible_undo__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2),_examples_util__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(3),_styles__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1),_components_number_input__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(7),_components_branch_nav__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(5),_components_action_list__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(6),undoableAddUpdater=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_2__.n)((function(state){return state.count}),(function(count){return Object(_examples_util__WEBPACK_IMPORTED_MODULE_3__.c)({count:count})}))((function(amount){return function(){return amount}}))(_examples_util__WEBPACK_IMPORTED_MODULE_3__.a,_examples_util__WEBPACK_IMPORTED_MODULE_3__.e),_a=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_2__.o)({add:undoableAddUpdater,subtract:Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_2__.f)(undoableAddUpdater)}),unducer=_a.unducer,actionCreators=_a.actionCreators,ReducerAndUseStateExample=function(){var _a=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_2__.s)({unducer:unducer,initialState:{count:0},actionCreators:actionCreators}),count=_a[0].count,handlers=_a[1],_b=Object(react__WEBPACK_IMPORTED_MODULE_1__.useState)(1),amount=_b[0],setAmount=_b[1],_c=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_2__.t)({handlers:Object(tslib__WEBPACK_IMPORTED_MODULE_0__.a)(Object(tslib__WEBPACK_IMPORTED_MODULE_0__.a)({},handlers),{updateAmount:Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_2__.j)(setAmount)})}),undoables=_c.undoables,undo=_c.undo,redo=_c.redo,history=_c.history,timeTravel=_c.timeTravel,switchToBranch=_c.switchToBranch,add=undoables.add,subtract=undoables.subtract,updateAmount=undoables.updateAmount;return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_4__.d},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_4__.e},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_4__.b},"count  =  ",count),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_4__.a},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("label",null,"amount = ",react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_number_input__WEBPACK_IMPORTED_MODULE_5__.a,{value:amount,onChange:function(value){return updateAmount({from:amount,to:value})}})),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("button",{disabled:!amount,onClick:function(){return amount&&add(amount)}},"add"),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("button",{disabled:!amount,onClick:function(){return amount&&subtract(amount)}},"subtract")),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_branch_nav__WEBPACK_IMPORTED_MODULE_6__.a,{history:history,switchToBranch:switchToBranch,undo:undo,redo:redo})),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_action_list__WEBPACK_IMPORTED_MODULE_7__.a,{history:history,timeTravel:timeTravel,switchToBranch:switchToBranch}))}},394:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="### useBoundUnducer and useState - Example\n\nIn this example we use both useState and useReducer (wrapped by useBoundUnducer).\n"},395:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="### useBoundUnducer and useState - Readme & Code\n\nJust as you can use the results of separate calls to useState inside you do/redo & undo handlers, you can also combine separate calls to useState and useReducer (in this example wrapped by useBoundUnducer). It may not necessarily be a good idea, but you can.\n\n```typescript\nimport React, { FC, useState } from 'react';\nimport {\n  useUndoableEffects,\n  makeUnducer,\n  makeUndoableFTHandler,\n  invertHandlers,\n  makeUndoableUpdater,\n  useBindUndoableActionCreators,\n} from 'use-flexible-undo';\nimport { merge, addUpdater, subtractUpdater } from '../examples-util';\nimport { topUIStyle, rootStyle, countStyle, actionsStyle } from '../styles';\nimport { NumberInput } from '../components/number-input';\nimport { BranchNav } from '../components/branch-nav';\nimport { ActionList } from '../components/action-list';\n\ninterface State {\n  count: number;\n}\n\ninterface PBT_Reducer {\n  add: number;\n  subtract: number;\n}\n\nconst selectAmount = (amount: number) => () => amount;\n\nconst undoableAddUpdater = makeUndoableUpdater(\n  (state: State) => state.count,\n  count => merge({ count })\n)(selectAmount)(addUpdater, subtractUpdater);\n\nconst { unducer, actionCreators } = makeUnducer<State, PBT_Reducer>({\n  add: undoableAddUpdater,\n  subtract: invertHandlers(undoableAddUpdater),\n});\n\nexport const ReducerAndUseStateExample: FC = () => {\n  const [{ count }, handlers] = useBindUndoableActionCreators({\n    unducer,\n    initialState: { count: 0 },\n    actionCreators,\n  });\n  const [amount, setAmount] = useState<number | null>(1);\n\n  const {\n    undoables,\n    undo,\n    redo,\n    history,\n    timeTravel,\n    switchToBranch,\n  } = useUndoableEffects({\n    handlers: {\n      ...handlers,\n      updateAmount: makeUndoableFTHandler(setAmount),\n    },\n  });\n\n  const { add, subtract, updateAmount } = undoables;\n\n  return (\n    <div className={rootStyle}>\n      <div className={topUIStyle}>\n        <div className={countStyle}>count &nbsp;= &nbsp;{count}</div>\n        <div className={actionsStyle}>\n          <label>\n            amount =&nbsp;\n            <NumberInput\n              value={amount}\n              onChange={value =>\n                updateAmount({\n                  from: amount,\n                  to: value,\n                })\n              }\n            />\n          </label>\n          <button disabled={!amount} onClick={() => amount && add(amount)}>\n            add\n          </button>\n          <button disabled={!amount} onClick={() => amount && subtract(amount)}>\n            subtract\n          </button>\n        </div>\n        <BranchNav\n          history={history}\n          switchToBranch={switchToBranch}\n          undo={undo}\n          redo={redo}\n        />\n      </div>\n      <ActionList\n        history={history}\n        timeTravel={timeTravel}\n        switchToBranch={switchToBranch}\n      />\n    </div>\n  );\n};\n```\n"},396:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return TimeTravelByIdExample}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),_examples_util__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),_styles__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1),_components_number_input__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(7),TimeTravelByIdExample=function(){var _a=Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(0),count=_a[0],setCount=_a[1],_b=Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(1),amount=_b[0],setAmount=_b[1],undoableAddHandler=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.k)(setCount)(_examples_util__WEBPACK_IMPORTED_MODULE_2__.a,_examples_util__WEBPACK_IMPORTED_MODULE_2__.e),_c=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.t)({handlers:{add:undoableAddHandler,subtract:Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.f)(undoableAddHandler),updateAmount:Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.j)(setAmount)},options:{clearFutureOnDo:!0}}),undoables=_c.undoables,canUndo=_c.canUndo,undo=_c.undo,canRedo=_c.canRedo,redo=_c.redo,history=_c.history,timeTravelById=_c.timeTravelById,add=undoables.add,subtract=undoables.subtract,updateAmount=undoables.updateAmount,branches=history.branches,currentBranchId=history.currentBranchId,currentPosition=history.currentPosition,stack=branches[currentBranchId].stack;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.d},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.e},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.b},"count  =  ",count),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.a},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label",null,"amount = ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_number_input__WEBPACK_IMPORTED_MODULE_4__.a,{value:amount,onChange:function(value){return updateAmount({from:amount,to:value})}})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{disabled:!amount,onClick:function(){return amount&&add(amount)}},"add"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{disabled:!amount,onClick:function(){return amount&&subtract(amount)}},"subtract")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.a},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{disabled:!canUndo,onClick:undo},"undo"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{disabled:!canRedo,onClick:redo},"redo"))),stack.slice().reverse().map((function(_a){var id=_a.id,type=_a.type,payload=_a.payload;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{key:id,onClick:function(){return timeTravelById(id)},className:Object(_styles__WEBPACK_IMPORTED_MODULE_3__.c)({active:id===currentPosition.actionId})},JSON.stringify({type:type,payload:payload}))})))}},397:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return TimeTravelByIndexExample}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),_examples_util__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),_styles__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1),_components_number_input__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(7),TimeTravelByIndexExample=function(){var _a=Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(0),count=_a[0],setCount=_a[1],_b=Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(1),amount=_b[0],setAmount=_b[1],undoableAddHandler=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.k)(setCount)(_examples_util__WEBPACK_IMPORTED_MODULE_2__.a,_examples_util__WEBPACK_IMPORTED_MODULE_2__.e),_c=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.t)({handlers:{add:undoableAddHandler,subtract:Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.f)(undoableAddHandler),updateAmount:Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.j)(setAmount)},options:{clearFutureOnDo:!0}}),undoables=_c.undoables,canUndo=_c.canUndo,undo=_c.undo,canRedo=_c.canRedo,redo=_c.redo,history=_c.history,timeTravel=_c.timeTravel,add=undoables.add,subtract=undoables.subtract,updateAmount=undoables.updateAmount,branches=history.branches,currentBranchId=history.currentBranchId,currentPosition=history.currentPosition,stack=branches[currentBranchId].stack;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.d},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.e},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.b},"count  =  ",count),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.a},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label",null,"amount = ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_number_input__WEBPACK_IMPORTED_MODULE_4__.a,{value:amount,onChange:function(value){return updateAmount({from:amount,to:value})}})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{disabled:!amount,onClick:function(){return amount&&add(amount)}},"add"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{disabled:!amount,onClick:function(){return amount&&subtract(amount)}},"subtract")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.a},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{disabled:!canUndo,onClick:undo},"undo"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{disabled:!canRedo,onClick:redo},"redo"))),stack.slice().reverse().map((function(_a,index){var id=_a.id,type=_a.type,payload=_a.payload;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{key:id,onClick:function(){return timeTravel(stack.length-1-index)},className:Object(_styles__WEBPACK_IMPORTED_MODULE_3__.c)({active:id===currentPosition.actionId})},JSON.stringify({type:type,payload:payload}))})))}},398:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return SwitchToBranchExample}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),_examples_util__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),_styles__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1),_components_number_input__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(7),_components_util__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(39),SwitchToBranchExample=function(){var _a=Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(0),count=_a[0],setCount=_a[1],_b=Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(1),amount=_b[0],setAmount=_b[1],undoableAddHandler=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.k)(setCount)(_examples_util__WEBPACK_IMPORTED_MODULE_2__.a,_examples_util__WEBPACK_IMPORTED_MODULE_2__.e),_c=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.t)({handlers:{add:undoableAddHandler,subtract:Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.f)(undoableAddHandler),updateAmount:Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.j)(setAmount)},options:{clearFutureOnDo:!1}}),undoables=_c.undoables,canUndo=_c.canUndo,undo=_c.undo,canRedo=_c.canRedo,redo=_c.redo,history=_c.history,timeTravel=_c.timeTravel,switchToBranch=_c.switchToBranch,add=undoables.add,subtract=undoables.subtract,updateAmount=undoables.updateAmount,branches=history.branches,currentBranchId=history.currentBranchId,currentPosition=history.currentPosition,stack=branches[currentBranchId].stack,branchList=Object.values(branches).sort((function(a,b){return Object(_components_util__WEBPACK_IMPORTED_MODULE_5__.b)(b.stack).created.getTime()-Object(_components_util__WEBPACK_IMPORTED_MODULE_5__.b)(a.stack).created.getTime()}));return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.d},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.e},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.b},"count  =  ",count),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.a},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label",null,"amount = ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_number_input__WEBPACK_IMPORTED_MODULE_4__.a,{value:amount,onChange:function(value){return updateAmount({from:amount,to:value})}})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{disabled:!amount,onClick:function(){return amount&&add(amount)}},"add"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{disabled:!amount,onClick:function(){return amount&&subtract(amount)}},"subtract")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.a},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("select",{value:currentBranchId,onChange:function(e){return switchToBranch(e.target.value,"HEAD_OF_BRANCH")}},branchList.map((function(b){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option",{key:b.id,value:b.id},"Branch ",b.number)}))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{disabled:!canUndo,onClick:undo},"undo"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{disabled:!canRedo,onClick:redo},"redo"))),stack.slice().reverse().map((function(_a,index){var id=_a.id,type=_a.type,payload=_a.payload;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{key:id,onClick:function(){return timeTravel(stack.length-1-index)},className:Object(_styles__WEBPACK_IMPORTED_MODULE_3__.c)({active:id===currentPosition.actionId})},JSON.stringify({type:type,payload:payload}))})))}},399:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DescribeActionsSwitch}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),_styles__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1),_components_number_input__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(7),_components_branch_nav__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(5),_components_action_list__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(6),describeAction=function(action){switch(action.type){case"add":return"Increase count by "+action.payload;case"subtract":return"Decrease count by "+action.payload;case"updateAmount":var _a=action.payload;return"Update amount from "+_a.from+" to "+_a.to;case"start":return"Start"}},DescribeActionsSwitch=function(){var _a=Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(0),count=_a[0],setCount=_a[1],_b=Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(1),amount=_b[0],setAmount=_b[1],undoableAddHandler=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.k)(setCount)((function(amount){return function(prev){return prev+amount}}),(function(amount){return function(prev){return prev-amount}})),_c=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.t)({handlers:{add:undoableAddHandler,subtract:Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.f)(undoableAddHandler),updateAmount:Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.j)(setAmount)}}),undoables=_c.undoables,undo=_c.undo,redo=_c.redo,history=_c.history,timeTravel=_c.timeTravel,switchToBranch=_c.switchToBranch,add=undoables.add,subtract=undoables.subtract,updateAmount=undoables.updateAmount;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_2__.d},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_2__.e},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_2__.b},"count  =  ",count),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_2__.a},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label",null,"amount = ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_number_input__WEBPACK_IMPORTED_MODULE_3__.a,{value:amount,onChange:function(value){return updateAmount({from:amount,to:value})}})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{disabled:!amount,onClick:function(){return amount&&add(amount)}},"add"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{disabled:!amount,onClick:function(){return amount&&subtract(amount)}},"subtract")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_branch_nav__WEBPACK_IMPORTED_MODULE_4__.a,{history:history,switchToBranch:switchToBranch,undo:undo,redo:redo})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_action_list__WEBPACK_IMPORTED_MODULE_5__.a,{history:history,timeTravel:timeTravel,switchToBranch:switchToBranch,describeAction:describeAction}))}},400:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DescribeActionsMap}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),_styles__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1),_components_number_input__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(7),_components_branch_nav__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(5),_components_action_list__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(6),payloadDescribers={add:function(amount){return"Add "+amount+" to count"},subtract:function(amount){return"Subtract "+amount+" from count"},updateAmount:function(_a){return"Update amount from "+_a.from+" to "+_a.to},start:function(){return"Start"}},describeAction=function(action){return payloadDescribers[action.type](action.payload)},DescribeActionsMap=function(){var _a=Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(0),count=_a[0],setCount=_a[1],_b=Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(1),amount=_b[0],setAmount=_b[1],undoableAddHandler=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.k)(setCount)((function(amount){return function(prev){return prev+amount}}),(function(amount){return function(prev){return prev-amount}})),_c=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.t)({handlers:{add:undoableAddHandler,subtract:Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.f)(undoableAddHandler),updateAmount:Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.j)(setAmount)}}),undoables=_c.undoables,undo=_c.undo,redo=_c.redo,history=_c.history,timeTravel=_c.timeTravel,switchToBranch=_c.switchToBranch,add=undoables.add,subtract=undoables.subtract,updateAmount=undoables.updateAmount;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_2__.d},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_2__.e},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_2__.b},"count  =  ",count),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_2__.a},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label",null,"amount = ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_number_input__WEBPACK_IMPORTED_MODULE_3__.a,{value:amount,onChange:function(value){return updateAmount({from:amount,to:value})}})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{disabled:!amount,onClick:function(){return amount&&add(amount)}},"add"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{disabled:!amount,onClick:function(){return amount&&subtract(amount)}},"subtract")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_branch_nav__WEBPACK_IMPORTED_MODULE_4__.a,{history:history,switchToBranch:switchToBranch,undo:undo,redo:redo})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_action_list__WEBPACK_IMPORTED_MODULE_5__.a,{history:history,timeTravel:timeTravel,switchToBranch:switchToBranch,describeAction:describeAction}))}},401:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DescriptionInPayloadExample}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),_styles__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1),_components_number_input__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(7),_components_branch_nav__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(5),_components_action_list__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(6),payloadDescribers={updateCount:function(_a){var from=_a.from,to=_a.to;return _a.userAction+" "+Math.abs(to-from)+" to count"},updateAmount:function(_a){return"Update amount from "+_a.from+" to "+_a.to},start:function(){return"Start"}},describeAction=function(action){return payloadDescribers[action.type](action.payload)},DescriptionInPayloadExample=function(){var _a=Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(0),count=_a[0],setCount=_a[1],_b=Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(1),amount=_b[0],setAmount=_b[1],_c=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.t)({handlers:{updateCount:Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.j)(setCount),updateAmount:Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.j)(setAmount)}}),undoables=_c.undoables,undo=_c.undo,redo=_c.redo,history=_c.history,timeTravel=_c.timeTravel,switchToBranch=_c.switchToBranch,updateCount=undoables.updateCount,updateAmount=undoables.updateAmount;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_2__.d},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_2__.e},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_2__.b},"count  =  ",count),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_2__.a},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label",null,"amount = ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_number_input__WEBPACK_IMPORTED_MODULE_3__.a,{value:amount,onChange:function(value){return updateAmount({from:amount,to:value})}})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{disabled:!amount,onClick:function(){return amount&&updateCount({from:count,to:count+amount,userAction:"Add"})}},"add"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{disabled:!amount,onClick:function(){return amount&&updateCount({from:count,to:count-amount,userAction:"Subtract"})}},"subtract")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_branch_nav__WEBPACK_IMPORTED_MODULE_4__.a,{history:history,switchToBranch:switchToBranch,undo:undo,redo:redo})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_action_list__WEBPACK_IMPORTED_MODULE_5__.a,{history:history,timeTravel:timeTravel,switchToBranch:switchToBranch,describeAction:describeAction}))}},402:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return MemoizationExample}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),_styles__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1),_components_number_input__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(7),_components_branch_nav__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(5),_components_action_list__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(6),MemoizationExample=function(){var _a=Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(0),count=_a[0],setCount=_a[1],_b=Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(1),amount=_b[0],setAmount=_b[1],handlers=Object(react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){var undoableAddHandler=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.k)(setCount)((function(amount){return function(prev){return prev+amount}}),(function(amount){return function(prev){return prev-amount}}));return{add:undoableAddHandler,subtract:Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.f)(undoableAddHandler),updateAmount:Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.j)(setAmount)}}),[]),_c=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.t)({handlers:handlers,options:{clearFutureOnDo:!1}}),undoables=_c.undoables,undo=_c.undo,redo=_c.redo,history=_c.history,timeTravel=_c.timeTravel,switchToBranch=_c.switchToBranch;Object(react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){console.log("--- INIT memoization example ---")}),[]),Object(react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){console.log("component render")})),Object(react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){console.log("undoables changed")}),[undoables]);var add=undoables.add,subtract=undoables.subtract,updateAmount=undoables.updateAmount;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_2__.d},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_2__.e},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_2__.b},"count  =  ",count),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_2__.a},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label",null,"amount = ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_number_input__WEBPACK_IMPORTED_MODULE_3__.a,{value:amount,onChange:function(value){return updateAmount({from:amount,to:value})}})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{disabled:!amount,onClick:function(){return amount&&add(amount)}},"add"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{disabled:!amount,onClick:function(){return amount&&subtract(amount)}},"subtract")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_branch_nav__WEBPACK_IMPORTED_MODULE_4__.a,{history:history,switchToBranch:switchToBranch,undo:undo,redo:redo})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_action_list__WEBPACK_IMPORTED_MODULE_5__.a,{history:history,timeTravel:timeTravel,switchToBranch:switchToBranch}))}},403:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a='### Memoization - Example\n\nIn this example the **handlers** object is memoized before passing it to **useUndoableEffects**, so that the **undoables** (the undoable functions returned by the hook) are not recreated on every render. In the actions panel 👉 (and the browser console) the message "undoables changed" should only be logged when opening this example, and not during subsequent updates.\n'},404:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="### Memoization - Readme & Code\n\nThe hook **useUndoableEffects** converts the do/redo and undo handlers to undoable functions. This conversion will happen every render if the **handlers** object reference is not stable (e.g. if you create the object inline). If you want to avoid this, in order to improve performance and/or if you want the **undoables** object returned by the hook to be referentially stable, then you can memoize the **handlers** object with React's **useMemo**.\n\nWrapping the handlers in useMemo has the additional benefit that if you erroneously create a direct dependency on state in your handlers, you will notice this because eslint-plugin-react-hooks will ask you to add the dependency to the dependency array. Instead of doing that you should fix it by moving the dependency to the action payload or the previous state. See [this story](./?path=/story/useundoableeffects-dependent-state--don-t-do-this) for more explanation.\n\nIt is _not_ necessary to memoize the **options** object. If your options are constant (i.e. if the user can not change them through the UI) you can define them outside of the function component, but that will require additional typing if you use TypeScript.\n\n```typescript\nimport React, { FC, useState, useEffect, useMemo } from 'react';\nimport {\n  useUndoableEffects,\n  makeUndoableHandler,\n  invertHandlers,\n  makeUndoableFTHandler,\n} from 'use-flexible-undo';\n\nimport { rootStyle, topUIStyle, countStyle, actionsStyle } from '../styles';\nimport { NumberInput } from '../components/number-input';\nimport { BranchNav } from '../components/branch-nav';\nimport { ActionList } from '../components/action-list';\n\nexport const MemoizationExample: FC = () => {\n  const [count, setCount] = useState(0);\n  const [amount, setAmount] = useState<number | null>(1);\n\n  const handlers = useMemo(() => {\n    const undoableAddHandler = makeUndoableHandler(setCount)(\n      amount => prev => prev + amount,\n      amount => prev => prev - amount\n    );\n    return {\n      add: undoableAddHandler,\n      subtract: invertHandlers(undoableAddHandler),\n      updateAmount: makeUndoableFTHandler(setAmount),\n    };\n  }, []);\n\n  const {\n    undoables,\n    undo,\n    redo,\n    history,\n    timeTravel,\n    switchToBranch,\n  } = useUndoableEffects({\n    handlers,\n    options: {\n      // options do not need to be memoized / extracted\n      clearFutureOnDo: false,\n    },\n  });\n\n  useEffect(() => {\n    console.log('--- INIT memoization example ---');\n  }, []);\n\n  useEffect(() => {\n    console.log('component render');\n  });\n\n  // Just for checking that memoization works.\n  // Effect should only run once instead of every render.\n  useEffect(() => {\n    console.log('undoables changed');\n  }, [undoables]);\n\n  const { add, subtract, updateAmount } = undoables;\n\n  return (\n    <div className={rootStyle}>\n      <div className={topUIStyle}>\n        <div className={countStyle}>count &nbsp;= &nbsp;{count}</div>\n        <div className={actionsStyle}>\n          <label>\n            amount =&nbsp;\n            <NumberInput\n              value={amount}\n              onChange={value =>\n                updateAmount({\n                  from: amount,\n                  to: value,\n                })\n              }\n            />\n          </label>\n          <button disabled={!amount} onClick={() => amount && add(amount)}>\n            add\n          </button>\n          <button disabled={!amount} onClick={() => amount && subtract(amount)}>\n            subtract\n          </button>\n        </div>\n        <BranchNav\n          history={history}\n          switchToBranch={switchToBranch}\n          undo={undo}\n          redo={redo}\n        />\n      </div>\n      <ActionList\n        history={history}\n        timeTravel={timeTravel}\n        switchToBranch={switchToBranch}\n      />\n    </div>\n  );\n};\n```\n"},405:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return HistoryChangeExample}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),_examples_util__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),_styles__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1),_components_action_list__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6),_components_number_input__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(7),_components_branch_nav__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(5),HistoryChangeExample=function(){var _a=Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(0),count=_a[0],setCount=_a[1],_b=Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(1),amount=_b[0],setAmount=_b[1],undoableAddHandler=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.k)(setCount)(_examples_util__WEBPACK_IMPORTED_MODULE_2__.a,_examples_util__WEBPACK_IMPORTED_MODULE_2__.e),_c=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.t)({handlers:{add:undoableAddHandler,subtract:Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.f)(undoableAddHandler),updateAmount:Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.j)(setAmount)}}),undoables=_c.undoables,undo=_c.undo,redo=_c.redo,history=_c.history,timeTravel=_c.timeTravel,switchToBranch=_c.switchToBranch,add=undoables.add,subtract=undoables.subtract,updateAmount=undoables.updateAmount,prevHistoryRef=Object(react__WEBPACK_IMPORTED_MODULE_0__.useRef)(history);Object(react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){console.log("--- INIT 'logging history state changes' example ---")}),[]),Object(react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){console.log("history change",{from:prevHistoryRef.current,to:history}),prevHistoryRef.current=history}),[history]);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.d},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.e},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.b},"count  =  ",count),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.a},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label",null,"amount = ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_number_input__WEBPACK_IMPORTED_MODULE_5__.a,{value:amount,onChange:function(value){return updateAmount({from:amount,to:value})}})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{disabled:!amount,onClick:function(){return amount&&add(amount)}},"add"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{disabled:!amount,onClick:function(){return amount&&subtract(amount)}},"subtract")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_branch_nav__WEBPACK_IMPORTED_MODULE_6__.a,{history:history,switchToBranch:switchToBranch,undo:undo,redo:redo})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_action_list__WEBPACK_IMPORTED_MODULE_4__.a,{history:history,timeTravel:function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];console.log("timeTravel to index",args[0]),timeTravel.apply(void 0,args)},switchToBranch:switchToBranch}))}},406:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="### Logging history state changes - Readme & Code\n\nIn the current implementation **useUndoableEffects** takes no callbacks. If you want to respond to (upcoming) state changes you can either wrap one or more of the functions (undo, redo, timeTravel, switchToBranch) that the hook returns, or you can watch for changes in the history state by means of useEffect or useLayoutEffect.\n\n```typescript\nimport React, { FC, useState, useRef, useEffect, useCallback } from 'react';\nimport {\n  useUndoableEffects,\n  makeUndoableFTHandler,\n  makeUndoableHandler,\n  invertHandlers,\n} from 'use-flexible-undo';\nimport { addUpdater, subtractUpdater } from '../examples-util';\nimport { rootStyle, topUIStyle, countStyle, actionsStyle } from '../styles';\nimport { ActionList } from '../components/action-list';\nimport { NumberInput } from '../components/number-input';\nimport { BranchNav } from '../components/branch-nav';\n\nexport const HistoryChangeExample: FC = () => {\n  const [count, setCount] = useState(0);\n  const [amount, setAmount] = useState<number | null>(1);\n\n  const undoableAddHandler = makeUndoableHandler(setCount)(\n    addUpdater,\n    subtractUpdater\n  );\n\n  const {\n    undoables,\n    undo,\n    redo,\n    history,\n    timeTravel,\n    switchToBranch,\n  } = useUndoableEffects({\n    handlers: {\n      add: undoableAddHandler,\n      subtract: invertHandlers(undoableAddHandler),\n      updateAmount: makeUndoableFTHandler(setAmount),\n    },\n  });\n\n  const { add, subtract, updateAmount } = undoables;\n\n  const prevHistoryRef = useRef(history);\n\n  useEffect(() => {\n    console.log(\"--- INIT 'logging history state changes' example ---\");\n  }, []);\n\n  useEffect(() => {\n    console.log('history change', {\n      from: prevHistoryRef.current,\n      to: history,\n    });\n    prevHistoryRef.current = history;\n  }, [history]);\n\n  // You can wrap this in useCallback if you need:\n  const timeTravelWithLog = (...args: Parameters<typeof timeTravel>) => {\n    console.log('timeTravel to index', args[0]);\n    timeTravel(...args);\n  };\n\n  return (\n    <div className={rootStyle}>\n      <div className={topUIStyle}>\n        <div className={countStyle}>count &nbsp;= &nbsp;{count}</div>\n        <div className={actionsStyle}>\n          <label>\n            amount =&nbsp;\n            <NumberInput\n              value={amount}\n              onChange={value =>\n                updateAmount({\n                  from: amount,\n                  to: value,\n                })\n              }\n            />\n          </label>\n          <button disabled={!amount} onClick={() => amount && add(amount)}>\n            add\n          </button>\n          <button disabled={!amount} onClick={() => amount && subtract(amount)}>\n            subtract\n          </button>\n        </div>\n        <BranchNav\n          history={history}\n          switchToBranch={switchToBranch}\n          undo={undo}\n          redo={redo}\n        />\n      </div>\n      <ActionList\n        history={history}\n        timeTravel={timeTravelWithLog}\n        switchToBranch={switchToBranch}\n      />\n    </div>\n  );\n};\n```\n"},407:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="### Logging history state changes - Example\n\nIn this example we log the history state and the previous history state on every change. We also wrap the timeTravel function and log the arguments on each call. You can see the output in the actions panel 👉 (and the browser console).\n"},408:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return InitialHistoryExample}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),_examples_util__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),_styles__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1),_components_action_list__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6),_components_number_input__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(7),_components_branch_nav__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(5),_reviver__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(96),initialHistory=JSON.parse('{\n    "currentBranchId": "06913f31-a94c-4c26-951c-41076f5318eb",\n    "currentPosition": {\n      "actionId": "c3c2a14b-afe6-4d90-9dc6-6cf46e017ba3",\n      "globalIndex": 0\n    },\n    "branches": { \n      "06913f31-a94c-4c26-951c-41076f5318eb": {\n        "id": "06913f31-a94c-4c26-951c-41076f5318eb",\n        "number": 1,\n        "created": "2020-09-05T00:02:09.484Z",\n        "stack": [\n          {\n            "type": "start",\n            "created": "2020-09-05T00:02:09.484Z",\n            "id": "c3c2a14b-afe6-4d90-9dc6-6cf46e017ba3"\n          },\n          {\n            "type": "add",\n            "payload": 1,\n            "created": "2020-09-05T00:02:14.500Z",\n            "id": "69f6dcce-4f3f-4db6-a52b-dc35f5ebc51d"\n          },\n          { \n            "type": "updateAmount",\n            "payload": { "from": 1, "to": 2},\n            "created": "2020-09-05T00:02:15.375Z",\n            "id": "4e9ec882-c72b-4615-b9ce-d8c368e4af40" \n          },\n          { \n            "type": "add",\n            "payload": 2,\n            "created": "2020-09-05T00:02:15.895Z",\n            "id": "100eb7c5-9522-4319-b0cb-d27e18043974"\n          },\n          { \n            "type": "updateAmount",\n            "payload": { "from": 2, "to": 3 },\n            "created": "2020-09-05T00:02:16.554Z",\n            "id": "504b5aed-5909-48b1-bd69-874844c478c2"\n          },\n          {\n            "type": "add",\n            "payload": 3,\n            "created": "2020-09-05T00:02:17.335Z",\n            "id": "c49926b7-0174-4cbd-a3a1-353704e93160"\n          }\n        ]\n      }\n    }\n  }',_reviver__WEBPACK_IMPORTED_MODULE_7__.a),InitialHistoryExample=function(){var _a=Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(0),count=_a[0],setCount=_a[1],_b=Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(1),amount=_b[0],setAmount=_b[1],undoableAddHandler=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.k)(setCount)(_examples_util__WEBPACK_IMPORTED_MODULE_2__.a,_examples_util__WEBPACK_IMPORTED_MODULE_2__.e),_c=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.t)({handlers:{add:undoableAddHandler,subtract:Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.f)(undoableAddHandler),updateAmount:Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.j)(setAmount)},initialHistory:initialHistory}),undoables=_c.undoables,undo=_c.undo,redo=_c.redo,history=_c.history,timeTravel=_c.timeTravel,switchToBranch=_c.switchToBranch,add=undoables.add,subtract=undoables.subtract,updateAmount=undoables.updateAmount;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.d},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.e},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.b},"count  =  ",count),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.a},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label",null,"amount = ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_number_input__WEBPACK_IMPORTED_MODULE_5__.a,{value:amount,onChange:function(value){return updateAmount({from:amount,to:value})}})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{disabled:!amount,onClick:function(){return amount&&add(amount)}},"add"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{disabled:!amount,onClick:function(){return amount&&subtract(amount)}},"subtract")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_branch_nav__WEBPACK_IMPORTED_MODULE_6__.a,{history:history,switchToBranch:switchToBranch,undo:undo,redo:redo})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_action_list__WEBPACK_IMPORTED_MODULE_4__.a,{history:history,timeTravel:timeTravel,switchToBranch:switchToBranch}))}},409:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="### initialHistory parsed - Example\n\nIn this example the history state is initialized from a JSON string which is parsed and passed as the **initialHistory** prop.\n"},410:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a='### initialHistory parsed - Readme & Code\n\nYou can use the **initialHistory** prop to initialize the history state with static data. Here the data is a snapshot created using JSON.stringify. See the next example for how to construct the data manually in TypeScript.\n\n```typescript\nimport React, { FC, useState } from \'react\';\nimport {\n  useUndoableEffects,\n  makeUndoableFTHandler,\n  makeUndoableHandler,\n  invertHandlers,\n} from \'use-flexible-undo\';\nimport { addUpdater, subtractUpdater } from \'../examples-util\';\nimport { rootStyle, topUIStyle, countStyle, actionsStyle } from \'../styles\';\nimport { ActionList } from \'../components/action-list\';\nimport { NumberInput } from \'../components/number-input\';\nimport { BranchNav } from \'../components/branch-nav\';\nimport { reviver } from \'./reviver\';\n\nconst initialHistory = JSON.parse(\n  `{\n    "currentBranchId": "06913f31-a94c-4c26-951c-41076f5318eb",\n    "currentPosition": {\n      "actionId": "c3c2a14b-afe6-4d90-9dc6-6cf46e017ba3",\n      "globalIndex": 0\n    },\n    "branches": { \n      "06913f31-a94c-4c26-951c-41076f5318eb": {\n        "id": "06913f31-a94c-4c26-951c-41076f5318eb",\n        "number": 1,\n        "created": "2020-09-05T00:02:09.484Z",\n        "stack": [\n          {\n            "type": "start",\n            "created": "2020-09-05T00:02:09.484Z",\n            "id": "c3c2a14b-afe6-4d90-9dc6-6cf46e017ba3"\n          },\n          {\n            "type": "add",\n            "payload": 1,\n            "created": "2020-09-05T00:02:14.500Z",\n            "id": "69f6dcce-4f3f-4db6-a52b-dc35f5ebc51d"\n          },\n          { \n            "type": "updateAmount",\n            "payload": { "from": 1, "to": 2},\n            "created": "2020-09-05T00:02:15.375Z",\n            "id": "4e9ec882-c72b-4615-b9ce-d8c368e4af40" \n          },\n          { \n            "type": "add",\n            "payload": 2,\n            "created": "2020-09-05T00:02:15.895Z",\n            "id": "100eb7c5-9522-4319-b0cb-d27e18043974"\n          },\n          { \n            "type": "updateAmount",\n            "payload": { "from": 2, "to": 3 },\n            "created": "2020-09-05T00:02:16.554Z",\n            "id": "504b5aed-5909-48b1-bd69-874844c478c2"\n          },\n          {\n            "type": "add",\n            "payload": 3,\n            "created": "2020-09-05T00:02:17.335Z",\n            "id": "c49926b7-0174-4cbd-a3a1-353704e93160"\n          }\n        ]\n      }\n    }\n  }`,\n  reviver\n);\n\nexport const InitialHistoryExample: FC = () => {\n  const [count, setCount] = useState(0);\n  const [amount, setAmount] = useState<number | null>(1);\n\n  const undoableAddHandler = makeUndoableHandler(setCount)(\n    addUpdater,\n    subtractUpdater\n  );\n\n  const {\n    undoables,\n    undo,\n    redo,\n    history,\n    timeTravel,\n    switchToBranch,\n  } = useUndoableEffects({\n    handlers: {\n      add: undoableAddHandler,\n      subtract: invertHandlers(undoableAddHandler),\n      updateAmount: makeUndoableFTHandler(setAmount),\n    },\n    initialHistory,\n  });\n\n  const { add, subtract, updateAmount } = undoables;\n\n  return (\n    <div className={rootStyle}>\n      <div className={topUIStyle}>\n        <div className={countStyle}>count &nbsp;= &nbsp;{count}</div>\n        <div className={actionsStyle}>\n          <label>\n            amount =&nbsp;\n            <NumberInput\n              value={amount}\n              onChange={value =>\n                updateAmount({\n                  from: amount,\n                  to: value,\n                })\n              }\n            />\n          </label>\n          <button disabled={!amount} onClick={() => amount && add(amount)}>\n            add\n          </button>\n          <button disabled={!amount} onClick={() => amount && subtract(amount)}>\n            subtract\n          </button>\n        </div>\n        <BranchNav\n          history={history}\n          switchToBranch={switchToBranch}\n          undo={undo}\n          redo={redo}\n        />\n      </div>\n      <ActionList\n        history={history}\n        timeTravel={timeTravel}\n        switchToBranch={switchToBranch}\n      />\n    </div>\n  );\n};\n```\n'},411:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return InitialHistoryTypedExample}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),_examples_util__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),_styles__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1),_components_action_list__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6),_components_number_input__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(7),_components_branch_nav__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(5),initialHistory={currentBranchId:"06913f31-a94c-4c26-951c-41076f5318eb",currentPosition:{actionId:"c3c2a14b-afe6-4d90-9dc6-6cf46e017ba3",globalIndex:0},branches:{"06913f31-a94c-4c26-951c-41076f5318eb":{id:"06913f31-a94c-4c26-951c-41076f5318eb",number:1,created:new Date("2020-09-05T00:02:09.484Z"),stack:[{type:"start",created:new Date("2020-09-05T00:02:09.484Z"),id:"c3c2a14b-afe6-4d90-9dc6-6cf46e017ba3"},{type:"add",payload:1,created:new Date("2020-09-05T00:02:14.500Z"),id:"69f6dcce-4f3f-4db6-a52b-dc35f5ebc51d"},{type:"updateAmount",payload:{from:1,to:2},created:new Date("2020-09-05T00:02:15.375Z"),id:"4e9ec882-c72b-4615-b9ce-d8c368e4af40"},{type:"add",payload:2,created:new Date("2020-09-05T00:02:15.895Z"),id:"100eb7c5-9522-4319-b0cb-d27e18043974"},{type:"updateAmount",payload:{from:2,to:3},created:new Date("2020-09-05T00:02:16.554Z"),id:"504b5aed-5909-48b1-bd69-874844c478c2"},{type:"add",payload:3,created:new Date("2020-09-05T00:02:17.335Z"),id:"c49926b7-0174-4cbd-a3a1-353704e93160"}]}}},InitialHistoryTypedExample=function(){var _a=Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(0),count=_a[0],setCount=_a[1],_b=Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(1),amount=_b[0],setAmount=_b[1],undoableAddHandler=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.k)(setCount)(_examples_util__WEBPACK_IMPORTED_MODULE_2__.a,_examples_util__WEBPACK_IMPORTED_MODULE_2__.e),_c=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.t)({handlers:{add:undoableAddHandler,subtract:Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.f)(undoableAddHandler),updateAmount:Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.j)(setAmount)},initialHistory:initialHistory}),undoables=_c.undoables,undo=_c.undo,redo=_c.redo,history=_c.history,timeTravel=_c.timeTravel,switchToBranch=_c.switchToBranch,add=undoables.add,subtract=undoables.subtract,updateAmount=undoables.updateAmount;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.d},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.e},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.b},"count  =  ",count),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.a},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label",null,"amount = ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_number_input__WEBPACK_IMPORTED_MODULE_5__.a,{value:amount,onChange:function(value){return updateAmount({from:amount,to:value})}})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{disabled:!amount,onClick:function(){return amount&&add(amount)}},"add"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{disabled:!amount,onClick:function(){return amount&&subtract(amount)}},"subtract")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_branch_nav__WEBPACK_IMPORTED_MODULE_6__.a,{history:history,switchToBranch:switchToBranch,undo:undo,redo:redo})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_action_list__WEBPACK_IMPORTED_MODULE_4__.a,{history:history,timeTravel:timeTravel,switchToBranch:switchToBranch}))}},412:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="### initialHistory typed - Example\n\nIn this example the history state is manualy created in TypeScript and passed to the **initialHistory** prop.\n"},413:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="### initialHistory typed - Readme & Code\n\nIf you want to construct the initial history state manually (e.g. for a static example like we have here) then you can use the generic **History** type which needs as type argument a record of payload by type. Make sure that you add an initial action with type \"start\" at index 0 of the current branch. This initial action cannot be undone but can be clicked in the history UI to undo the first user action (which is at index 1). The text \"start\" has no function at all (it's just the index 0 that matters) but it is the only action type that is automatically defined for you and this is currently not customizable. Of course you do not need to use the text literally in the UI.\n\n```typescript\nimport React, { FC, useState } from 'react';\nimport {\n  useUndoableEffects,\n  makeUndoableFTHandler,\n  makeUndoableHandler,\n  invertHandlers,\n  History,\n} from 'use-flexible-undo';\nimport { addUpdater, subtractUpdater } from '../examples-util';\nimport { rootStyle, topUIStyle, countStyle, actionsStyle } from '../styles';\nimport { ActionList } from '../components/action-list';\nimport { NumberInput } from '../components/number-input';\nimport { BranchNav } from '../components/branch-nav';\n\ntype nullber = number | null;\n\n// action Payload By action Type\ninterface PBT {\n  add: number;\n  subtract: number;\n  updateAmount: {\n    from: nullber;\n    to: nullber;\n  };\n}\n\nconst initialHistory: History<PBT> = {\n  currentBranchId: '06913f31-a94c-4c26-951c-41076f5318eb',\n  currentPosition: {\n    actionId: 'c3c2a14b-afe6-4d90-9dc6-6cf46e017ba3',\n    globalIndex: 0,\n  },\n  branches: {\n    '06913f31-a94c-4c26-951c-41076f5318eb': {\n      id: '06913f31-a94c-4c26-951c-41076f5318eb',\n      number: 1,\n      created: new Date('2020-09-05T00:02:09.484Z'),\n      stack: [\n        {\n          type: 'start',\n          created: new Date('2020-09-05T00:02:09.484Z'),\n          id: 'c3c2a14b-afe6-4d90-9dc6-6cf46e017ba3',\n        },\n        {\n          type: 'add',\n          payload: 1,\n          created: new Date('2020-09-05T00:02:14.500Z'),\n          id: '69f6dcce-4f3f-4db6-a52b-dc35f5ebc51d',\n        },\n        {\n          type: 'updateAmount',\n          payload: { from: 1, to: 2 },\n          created: new Date('2020-09-05T00:02:15.375Z'),\n          id: '4e9ec882-c72b-4615-b9ce-d8c368e4af40',\n        },\n        {\n          type: 'add',\n          payload: 2,\n          created: new Date('2020-09-05T00:02:15.895Z'),\n          id: '100eb7c5-9522-4319-b0cb-d27e18043974',\n        },\n        {\n          type: 'updateAmount',\n          payload: { from: 2, to: 3 },\n          created: new Date('2020-09-05T00:02:16.554Z'),\n          id: '504b5aed-5909-48b1-bd69-874844c478c2',\n        },\n        {\n          type: 'add',\n          payload: 3,\n          created: new Date('2020-09-05T00:02:17.335Z'),\n          id: 'c49926b7-0174-4cbd-a3a1-353704e93160',\n        },\n      ],\n    },\n  },\n};\n\nexport const InitialHistoryTypedExample: FC = () => {\n  const [count, setCount] = useState(0);\n  const [amount, setAmount] = useState<number | null>(1);\n\n  const undoableAddHandler = makeUndoableHandler(setCount)(\n    addUpdater,\n    subtractUpdater\n  );\n\n  const {\n    undoables,\n    undo,\n    redo,\n    history,\n    timeTravel,\n    switchToBranch,\n  } = useUndoableEffects({\n    handlers: {\n      add: undoableAddHandler,\n      subtract: invertHandlers(undoableAddHandler),\n      updateAmount: makeUndoableFTHandler(setAmount),\n    },\n    initialHistory,\n  });\n\n  const { add, subtract, updateAmount } = undoables;\n\n  return (\n    <div className={rootStyle}>\n      <div className={topUIStyle}>\n        <div className={countStyle}>count &nbsp;= &nbsp;{count}</div>\n        <div className={actionsStyle}>\n          <label>\n            amount =&nbsp;\n            <NumberInput\n              value={amount}\n              onChange={value =>\n                updateAmount({\n                  from: amount,\n                  to: value,\n                })\n              }\n            />\n          </label>\n          <button disabled={!amount} onClick={() => amount && add(amount)}>\n            add\n          </button>\n          <button disabled={!amount} onClick={() => amount && subtract(amount)}>\n            subtract\n          </button>\n        </div>\n        <BranchNav\n          history={history}\n          switchToBranch={switchToBranch}\n          undo={undo}\n          redo={redo}\n        />\n      </div>\n      <ActionList\n        history={history}\n        timeTravel={timeTravel}\n        switchToBranch={switchToBranch}\n      />\n    </div>\n  );\n};\n```\n"},414:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return LocalStorageExample}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),_examples_util__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),_styles__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1),_components_action_list__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6),_components_number_input__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(7),_components_branch_nav__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(5),_reviver__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(96),LocalStorageExample=function(){var _a=Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(0),count=_a[0],setCount=_a[1],_b=Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(1),amount=_b[0],setAmount=_b[1],undoableAddHandler=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.k)(setCount)(_examples_util__WEBPACK_IMPORTED_MODULE_2__.a,_examples_util__WEBPACK_IMPORTED_MODULE_2__.e),_c=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.t)({handlers:{add:undoableAddHandler,subtract:Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.f)(undoableAddHandler),updateAmount:Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.j)(setAmount)}}),undoables=_c.undoables,undo=_c.undo,redo=_c.redo,history=_c.history,timeTravel=_c.timeTravel,switchToBranch=_c.switchToBranch,setHistory=_c.setHistory,add=undoables.add,subtract=undoables.subtract,updateAmount=undoables.updateAmount;return Object(react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){console.log("--- INIT localStorage example ---"),console.log("Load app state and history state from localStorage");try{var data=localStorage.getItem("ufu-local-storage-example");if(data){var parsed=JSON.parse(data,_reviver__WEBPACK_IMPORTED_MODULE_7__.a);setHistory(parsed.history),setCount(parsed.count),setAmount(parsed.amount)}}catch(error){console.log(error)}}),[]),Object(react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){console.log("Save app state and history state to localStorage");try{localStorage.setItem("ufu-local-storage-example",JSON.stringify({count:count,amount:amount,history:history}))}catch(error){console.log(error)}}),[amount,count,history]),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.d},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.e},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.b},"count  =  ",count),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.a},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label",null,"amount = ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_number_input__WEBPACK_IMPORTED_MODULE_5__.a,{value:amount,onChange:function(value){return updateAmount({from:amount,to:value})}})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{disabled:!amount,onClick:function(){return amount&&add(amount)}},"add"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{disabled:!amount,onClick:function(){return amount&&subtract(amount)}},"subtract")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_branch_nav__WEBPACK_IMPORTED_MODULE_6__.a,{history:history,switchToBranch:switchToBranch,undo:undo,redo:redo})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_action_list__WEBPACK_IMPORTED_MODULE_4__.a,{history:history,timeTravel:timeTravel,switchToBranch:switchToBranch}))}},415:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="### setHistory from localStorage - Example\n\nIn this example we load the application state and the history state from localStorage after the first render of the component. Then we restore the application state using setCount and setAmount, and the history state using **setHistory** which is returned by the hook. Also we save all state to localStorage on every state change.\n\nMake some changes and refresh the page (or switch back and forth between examples) to see that the state persists.\n"},416:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="### setHistory from localStorage - Readme & Code\n\nYou can use the **setHistory** function which is returned by the hook to dynamically restore (or update) the history state. Make sure to restore your application state as well to keep the state in sync. Alternatively you can recreate your application state from the history state (see next example), but that requires your initial application state to be constant inbetween save and load.\n\nWhen your application state grows and you find it incovenient to access and update each slice of application state individually when saving and loading, you can opt to create a combined state object with useState (in this case combining \"count\" and \"amount\"). If you also want to integrate the history state then take a look at **useUndoableReducer**.\n\n```typescript\nimport React, { FC, useState, useEffect } from 'react';\nimport {\n  useUndoableEffects,\n  makeUndoableFTHandler,\n  makeUndoableHandler,\n  invertHandlers,\n} from 'use-flexible-undo';\nimport { addUpdater, subtractUpdater } from '../examples-util';\nimport { rootStyle, topUIStyle, countStyle, actionsStyle } from '../styles';\nimport { ActionList } from '../components/action-list';\nimport { NumberInput } from '../components/number-input';\nimport { BranchNav } from '../components/branch-nav';\nimport { reviver } from './reviver';\n\nconst localStorageKey = 'ufu-local-storage-example';\n\nexport const LocalStorageExample: FC = () => {\n  const [count, setCount] = useState(0);\n  const [amount, setAmount] = useState<number | null>(1);\n\n  const undoableAddHandler = makeUndoableHandler(setCount)(\n    addUpdater,\n    subtractUpdater\n  );\n\n  const {\n    undoables,\n    undo,\n    redo,\n    history,\n    timeTravel,\n    switchToBranch,\n    setHistory,\n  } = useUndoableEffects({\n    handlers: {\n      add: undoableAddHandler,\n      subtract: invertHandlers(undoableAddHandler),\n      updateAmount: makeUndoableFTHandler(setAmount),\n    },\n  });\n\n  const { add, subtract, updateAmount } = undoables;\n\n  // LOAD ON STARTUP\n  useEffect(() => {\n    console.log('--- INIT localStorage example ---');\n    console.log('Load app state and history state from localStorage');\n    try {\n      const data = localStorage.getItem(localStorageKey);\n      if (data) {\n        const parsed = JSON.parse(data, reviver);\n        setHistory(parsed.history);\n        setCount(parsed.count);\n        setAmount(parsed.amount);\n      }\n    } catch (error) {\n      console.log(error);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  // AUTO SAVE ON CHANGE\n  useEffect(() => {\n    console.log('Save app state and history state to localStorage');\n    try {\n      localStorage.setItem(\n        localStorageKey,\n        JSON.stringify({\n          count,\n          amount,\n          history,\n        })\n      );\n    } catch (error) {\n      console.log(error);\n    }\n  }, [amount, count, history]);\n\n  return (\n    <div className={rootStyle}>\n      <div className={topUIStyle}>\n        <div className={countStyle}>count &nbsp;= &nbsp;{count}</div>\n        <div className={actionsStyle}>\n          <label>\n            amount =&nbsp;\n            <NumberInput\n              value={amount}\n              onChange={value =>\n                updateAmount({\n                  from: amount,\n                  to: value,\n                })\n              }\n            />\n          </label>\n          <button disabled={!amount} onClick={() => amount && add(amount)}>\n            add\n          </button>\n          <button disabled={!amount} onClick={() => amount && subtract(amount)}>\n            subtract\n          </button>\n        </div>\n        <BranchNav\n          history={history}\n          switchToBranch={switchToBranch}\n          undo={undo}\n          redo={redo}\n        />\n      </div>\n      <ActionList\n        history={history}\n        timeTravel={timeTravel}\n        switchToBranch={switchToBranch}\n      />\n    </div>\n  );\n};\n```\n"},417:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return RestoreStateFromHistoryExample}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),_examples_util__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),_styles__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1),_components_action_list__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6),_components_number_input__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(7),_components_branch_nav__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(5),_reviver__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(96),RestoreStateFromHistoryExample=function(){var _a=Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(0),count=_a[0],setCount=_a[1],_b=Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(1),amount=_b[0],setAmount=_b[1],undoableAddHandler=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.k)(setCount)(_examples_util__WEBPACK_IMPORTED_MODULE_2__.a,_examples_util__WEBPACK_IMPORTED_MODULE_2__.e),_c=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.t)({handlers:{add:undoableAddHandler,subtract:Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.f)(undoableAddHandler),updateAmount:Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.j)(setAmount)}}),undoables=_c.undoables,undo=_c.undo,redo=_c.redo,history=_c.history,timeTravel=_c.timeTravel,switchToBranch=_c.switchToBranch,setHistory=_c.setHistory,add=undoables.add,subtract=undoables.subtract,updateAmount=undoables.updateAmount;return Object(react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){console.log("--- INIT restore state example ---"),console.log("load history state from localStorage");try{var data=localStorage.getItem("ufu-revive-state-example");if(data){var hist=JSON.parse(data,_reviver__WEBPACK_IMPORTED_MODULE_7__.a),indexToRestore=hist.currentPosition.globalIndex;hist.currentPosition.globalIndex=0,setHistory(hist),console.log("restore application state from history"),timeTravel(indexToRestore)}}catch(error){console.log(error)}}),[]),Object(react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){try{console.log("save history state to localStorage"),localStorage.setItem("ufu-revive-state-example",JSON.stringify(history))}catch(error){console.log(error)}}),[history]),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.d},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.e},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.b},"count  =  ",count),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.a},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label",null,"amount = ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_number_input__WEBPACK_IMPORTED_MODULE_5__.a,{value:amount,onChange:function(value){return updateAmount({from:amount,to:value})}})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{disabled:!amount,onClick:function(){return amount&&add(amount)}},"add"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{disabled:!amount,onClick:function(){return amount&&subtract(amount)}},"subtract")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_branch_nav__WEBPACK_IMPORTED_MODULE_6__.a,{history:history,switchToBranch:switchToBranch,undo:undo,redo:redo})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_action_list__WEBPACK_IMPORTED_MODULE_4__.a,{history:history,timeTravel:timeTravel,switchToBranch:switchToBranch}))}},418:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="### Restoring state from history - Readme & Code\n\nPerhaps not very practical, but nice as a proof-of-concept: You can rebuild your application state from your history state. You will however only get the same result if your initial application state remains constant between saving and loading. On the other hand, you can also change the initial state on purpose if you want to explore different outcomes 😬.\n\n```typescript\nimport React, { FC, useState, useEffect } from 'react';\nimport {\n  useUndoableEffects,\n  makeUndoableFTHandler,\n  makeUndoableHandler,\n  invertHandlers,\n} from 'use-flexible-undo';\nimport { addUpdater, subtractUpdater } from '../examples-util';\nimport { rootStyle, topUIStyle, countStyle, actionsStyle } from '../styles';\nimport { ActionList } from '../components/action-list';\nimport { NumberInput } from '../components/number-input';\nimport { BranchNav } from '../components/branch-nav';\nimport { reviver } from './reviver';\n\nconst localStorageKey = 'ufu-revive-state-example';\n\nexport const RestoreStateFromHistoryExample: FC = () => {\n  const [count, setCount] = useState(0);\n  const [amount, setAmount] = useState<number | null>(1);\n\n  const undoableAddHandler = makeUndoableHandler(setCount)(\n    addUpdater,\n    subtractUpdater\n  );\n\n  const {\n    undoables,\n    undo,\n    redo,\n    history,\n    timeTravel,\n    switchToBranch,\n    setHistory,\n  } = useUndoableEffects({\n    handlers: {\n      add: undoableAddHandler,\n      subtract: invertHandlers(undoableAddHandler),\n      updateAmount: makeUndoableFTHandler(setAmount),\n    },\n  });\n\n  const { add, subtract, updateAmount } = undoables;\n\n  // LOAD ON STARTUP\n  useEffect(() => {\n    console.log('--- INIT restore state example ---');\n    console.log('load history state from localStorage');\n    try {\n      const data = localStorage.getItem(localStorageKey);\n      if (data) {\n        const hist: typeof history = JSON.parse(data, reviver);\n        // backup the index:\n        const indexToRestore = hist.currentPosition.globalIndex;\n        // reset the index to zero:\n        hist.currentPosition.globalIndex = 0;\n        setHistory(hist);\n        console.log('restore application state from history');\n        // This will only give you the same results if the you\n        // keep the initial application state (count, amount)\n        // constant inbetween save and load:\n        timeTravel(indexToRestore);\n      }\n    } catch (error) {\n      console.log(error);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  // AUTO SAVE ON CHANGE\n  useEffect(() => {\n    try {\n      console.log('save history state to localStorage');\n      // For the sake of this example we do not save the application\n      // state (count, amount), only the history state.\n      localStorage.setItem(localStorageKey, JSON.stringify(history));\n    } catch (error) {\n      console.log(error);\n    }\n  }, [history]);\n\n  return (\n    <div className={rootStyle}>\n      <div className={topUIStyle}>\n        <div className={countStyle}>count &nbsp;= &nbsp;{count}</div>\n        <div className={actionsStyle}>\n          <label>\n            amount =&nbsp;\n            <NumberInput\n              value={amount}\n              onChange={value =>\n                updateAmount({\n                  from: amount,\n                  to: value,\n                })\n              }\n            />\n          </label>\n          <button disabled={!amount} onClick={() => amount && add(amount)}>\n            add\n          </button>\n          <button disabled={!amount} onClick={() => amount && subtract(amount)}>\n            subtract\n          </button>\n        </div>\n        <BranchNav\n          history={history}\n          switchToBranch={switchToBranch}\n          undo={undo}\n          redo={redo}\n        />\n      </div>\n      <ActionList\n        history={history}\n        timeTravel={timeTravel}\n        switchToBranch={switchToBranch}\n      />\n    </div>\n  );\n};\n```\n"},419:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="### Restoring state from history - Example\n\nIn this example we load the history state from localStorage after the first render of the component. Then we make a backup of the current action index of the history state and change the original index to zero. Then we restore the modified history state using **setHistory** and restore the application state by **timeTravel**ling to the backed up index. Also we save the history state to localStorage on every state change.\n\nMake some changes and refresh the page (or switch back and forth between examples) to see that both the application state and history state persist, even though we only save the history state.\n"},420:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return UseUndoableUnducerExample}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),_examples_util__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),_styles__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1),_components_number_input__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(7),_components_action_list__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(6),_components_branch_nav__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(5),undoableAddUpdater=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.n)((function(state){return state.count}),(function(count){return Object(_examples_util__WEBPACK_IMPORTED_MODULE_2__.c)({count:count})}))((function(_){return function(state){return state.amount||0}}))(_examples_util__WEBPACK_IMPORTED_MODULE_2__.a,_examples_util__WEBPACK_IMPORTED_MODULE_2__.e),_a=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.o)({add:undoableAddUpdater,subtract:Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.f)(undoableAddUpdater),updateAmount:Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.j)((function(amount){return Object(_examples_util__WEBPACK_IMPORTED_MODULE_2__.c)({amount:amount})}))}),unducer=_a.unducer,actionCreators=_a.actionCreators,undoableReducer=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.l)(unducer),UseUndoableUnducerExample=function(){var _a=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.u)({undoableReducer:undoableReducer,initialState:{count:0,amount:1},actionCreators:actionCreators}),state=_a.state,history=_a.history,undoables=_a.undoables,undo=_a.undo,redo=_a.redo,timeTravel=_a.timeTravel,switchToBranch=_a.switchToBranch,count=state.count,amount=state.amount,add=undoables.add,subtract=undoables.subtract,updateAmount=undoables.updateAmount;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.d},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.e},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.b},"count  =  ",count),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.a},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label",null,"amount = ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_number_input__WEBPACK_IMPORTED_MODULE_4__.a,{value:amount,onChange:function(value){return updateAmount({from:amount,to:value})}})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{disabled:!amount,onClick:function(){return add()}},"add"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{disabled:!amount,onClick:function(){return subtract()}},"subtract")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_branch_nav__WEBPACK_IMPORTED_MODULE_6__.a,{history:history,switchToBranch:switchToBranch,undo:undo,redo:redo})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_action_list__WEBPACK_IMPORTED_MODULE_5__.a,{history:history,timeTravel:timeTravel,switchToBranch:switchToBranch}))}},421:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="```typescript\nimport React, { FC } from 'react';\nimport {\n  makeUnducer,\n  PayloadFromTo,\n  invertHandlers,\n  makeUndoableFTHandler,\n  makeUndoableUpdater,\n  makeUndoableReducer,\n  useUndoableReducer,\n} from 'use-flexible-undo';\nimport { merge, addUpdater, subtractUpdater } from '../examples-util';\nimport { topUIStyle, rootStyle, countStyle, actionsStyle } from '../styles';\nimport { NumberInput } from '../components/number-input';\nimport { ActionList } from '../components/action-list';\nimport { BranchNav } from '../components/branch-nav';\n\ntype Nullber = number | null;\n\ninterface State {\n  count: number;\n  amount: Nullber;\n}\n\ninterface PayloadByType {\n  add: void;\n  subtract: void;\n  updateAmount: PayloadFromTo<Nullber>;\n}\n\nconst selectAmount = (_: void) => (state: State) => state.amount || 0;\n\nconst undoableAddUpdater = makeUndoableUpdater(\n  (state: State) => state.count,\n  count => merge({ count })\n)(selectAmount)(addUpdater, subtractUpdater);\n\nconst { unducer, actionCreators } = makeUnducer<State, PayloadByType>({\n  add: undoableAddUpdater,\n  subtract: invertHandlers(undoableAddUpdater),\n  updateAmount: makeUndoableFTHandler(amount => merge({ amount })),\n});\n\nconst undoableReducer = makeUndoableReducer(unducer);\n\nexport const UseUndoableUnducerExample: FC = () => {\n  const {\n    state,\n    history,\n    undoables,\n    undo,\n    redo,\n    timeTravel,\n    switchToBranch,\n  } = useUndoableReducer({\n    reducer: undoableReducer,\n    initialState: {\n      count: 0,\n      amount: 1,\n    },\n    actionCreators,\n  });\n\n  const { count, amount } = state;\n\n  const { add, subtract, updateAmount } = undoables;\n\n  return (\n    <div className={rootStyle}>\n      <div className={topUIStyle}>\n        <div className={countStyle}>count &nbsp;= &nbsp;{count}</div>\n        <div className={actionsStyle}>\n          <label>\n            amount =&nbsp;\n            <NumberInput\n              value={amount}\n              onChange={value =>\n                updateAmount({\n                  from: amount,\n                  to: value,\n                })\n              }\n            />\n          </label>\n          <button disabled={!amount} onClick={() => add()}>\n            add\n          </button>\n          <button disabled={!amount} onClick={() => subtract()}>\n            subtract\n          </button>\n        </div>\n        <BranchNav\n          history={history}\n          switchToBranch={switchToBranch}\n          undo={undo}\n          redo={redo}\n        />\n      </div>\n      <ActionList\n        history={history}\n        timeTravel={timeTravel}\n        switchToBranch={switchToBranch}\n      />\n    </div>\n  );\n};\n```\n"},422:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return UseUndoableReducerExample}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),_examples_util__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),_styles__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1),_components_number_input__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(7),_components_action_list__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(6),_components_branch_nav__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(5),countUpdater=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.p)((function(state){return state.count}),(function(count){return Object(_examples_util__WEBPACK_IMPORTED_MODULE_2__.c)({count:count})}))((function(){return function(state){return state.amount||0}})),_a=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.i)({add:countUpdater(_examples_util__WEBPACK_IMPORTED_MODULE_2__.a),subtract:countUpdater(_examples_util__WEBPACK_IMPORTED_MODULE_2__.e),updateAmount:Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.g)((function(amount){return Object(_examples_util__WEBPACK_IMPORTED_MODULE_2__.c)({amount:amount})}))}),reducer=_a.reducer,actionCreators=_a.actionCreators,undoableReducer=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.l)(reducer,{add:actionCreators.subtract,subtract:actionCreators.add,updateAmount:Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.e)(actionCreators.updateAmount)}),UseUndoableReducerExample=function(){var _a=Object(use_flexible_undo__WEBPACK_IMPORTED_MODULE_1__.u)({undoableReducer:undoableReducer,initialState:{count:0,amount:1},actionCreators:actionCreators}),state=_a.state,history=_a.history,undoables=_a.undoables,undo=_a.undo,redo=_a.redo,timeTravel=_a.timeTravel,switchToBranch=_a.switchToBranch,count=state.count,amount=state.amount,add=undoables.add,subtract=undoables.subtract,updateAmount=undoables.updateAmount;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.d},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.e},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.b},"count  =  ",count),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles__WEBPACK_IMPORTED_MODULE_3__.a},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label",null,"amount = ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_number_input__WEBPACK_IMPORTED_MODULE_4__.a,{value:amount,onChange:function(value){return updateAmount({from:amount,to:value})}})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{disabled:!amount,onClick:function(){return add()}},"add"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{disabled:!amount,onClick:function(){return subtract()}},"subtract")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_branch_nav__WEBPACK_IMPORTED_MODULE_6__.a,{history:history,switchToBranch:switchToBranch,undo:undo,redo:redo})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_action_list__WEBPACK_IMPORTED_MODULE_5__.a,{history:history,timeTravel:timeTravel,switchToBranch:switchToBranch}))}},423:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="```typescript\nimport React, { FC } from 'react';\nimport {\n  PayloadFromTo,\n  makeUpdater,\n  makeFTHandler,\n  invertFTHandler,\n  makeReducer,\n  makeUndoableReducer,\n  useUndoableReducer,\n} from 'use-flexible-undo';\nimport { merge, addUpdater, subtractUpdater } from '../examples-util';\nimport { topUIStyle, rootStyle, countStyle, actionsStyle } from '../styles';\nimport { NumberInput } from '../components/number-input';\nimport { ActionList } from '../components/action-list';\nimport { BranchNav } from '../components/branch-nav';\n\ntype Nullber = number | null;\n\ninterface State {\n  count: number;\n  amount: Nullber;\n}\n\ninterface PayloadByType {\n  add: void;\n  subtract: void;\n  updateAmount: PayloadFromTo<Nullber>;\n}\n\nconst countUpdater = makeUpdater(\n  (state: State) => state.count,\n  count => merge({ count })\n)(() => state => state.amount || 0);\n\nconst { reducer, actionCreators } = makeReducer<State, PayloadByType>({\n  add: countUpdater(addUpdater),\n  subtract: countUpdater(subtractUpdater),\n  updateAmount: makeFTHandler(amount => merge({ amount })),\n});\n\nconst undoableReducer = makeUndoableReducer(reducer, {\n  add: actionCreators.subtract,\n  subtract: actionCreators.add,\n  updateAmount: invertFTHandler(actionCreators.updateAmount),\n});\n\nexport const UseUndoableReducerExample: FC = () => {\n  const {\n    state,\n    history,\n    undoables,\n    undo,\n    redo,\n    timeTravel,\n    switchToBranch,\n  } = useUndoableReducer({\n    reducer: undoableReducer,\n    initialState: {\n      count: 0,\n      amount: 1,\n    },\n    actionCreators,\n  });\n\n  const { count, amount } = state;\n\n  const { add, subtract, updateAmount } = undoables;\n\n  return (\n    <div className={rootStyle}>\n      <div className={topUIStyle}>\n        <div className={countStyle}>count &nbsp;= &nbsp;{count}</div>\n        <div className={actionsStyle}>\n          <label>\n            amount =&nbsp;\n            <NumberInput\n              value={amount}\n              onChange={value =>\n                updateAmount({\n                  from: amount,\n                  to: value,\n                })\n              }\n            />\n          </label>\n          <button disabled={!amount} onClick={() => add()}>\n            add\n          </button>\n          <button disabled={!amount} onClick={() => subtract()}>\n            subtract\n          </button>\n        </div>\n        <BranchNav\n          history={history}\n          switchToBranch={switchToBranch}\n          undo={undo}\n          redo={redo}\n        />\n      </div>\n      <ActionList\n        history={history}\n        timeTravel={timeTravel}\n        switchToBranch={switchToBranch}\n      />\n    </div>\n  );\n};\n```\n"},426:function(module,exports,__webpack_require__){__webpack_require__(427),__webpack_require__(579),module.exports=__webpack_require__(580)},46:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return merge})),__webpack_require__.d(__webpack_exports__,"d",(function(){return mergeDeepC})),__webpack_require__.d(__webpack_exports__,"c",(function(){return mergeDeep})),__webpack_require__.d(__webpack_exports__,"a",(function(){return mapFilterObj}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(9),ramda__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(154),merge=function(partial){return function(state){return Object(tslib__WEBPACK_IMPORTED_MODULE_0__.a)(Object(tslib__WEBPACK_IMPORTED_MODULE_0__.a)({},state),partial)}},mergeDeepC=function(deepPartial){return Object(ramda__WEBPACK_IMPORTED_MODULE_1__.a)(deepPartial)},mergeDeep=function(deepPartial,state){return Object(ramda__WEBPACK_IMPORTED_MODULE_1__.a)(deepPartial,state)},mapObjMap=function(updater){return function(objMap){return Object.fromEntries(Object.entries(objMap).map((function(_a){var k=_a[0],v=_a[1];return[k,updater(v)]})))}},mapFilterObj=function(selector,updater,obj){return mapObjMap((function(v){return selector(v)?updater(v):v}))(obj)}},493:function(module,exports){},5:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return BranchNav}));var templateObject_1,templateObject_2,templateObject_3,tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(9),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),_emotion_styled__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(53),_reach_listbox__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(97),_primer_octicons_react__WEBPACK_IMPORTED_MODULE_5__=(__webpack_require__(853),__webpack_require__(117)),_util__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(39),_src_helpers__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(73),BranchNav=function(_a){var history=_a.history,switchToBranch=_a.switchToBranch,undo=_a.undo,redo=_a.redo,_b=Object(react__WEBPACK_IMPORTED_MODULE_1__.useState)(new Date),now=_b[0],setNow=_b[1];Object(_util__WEBPACK_IMPORTED_MODULE_6__.c)((function(){return setNow(new Date)}),5e3);var branchList=Object.values(history.branches).sort((function(a,b){return Object(_util__WEBPACK_IMPORTED_MODULE_6__.b)(b.stack).created.getTime()-Object(_util__WEBPACK_IMPORTED_MODULE_6__.b)(a.stack).created.getTime()})),currentBranch=Object(_src_helpers__WEBPACK_IMPORTED_MODULE_7__.a)(history),canUndo=Object(_src_helpers__WEBPACK_IMPORTED_MODULE_7__.e)(history),canRedo=Object(_src_helpers__WEBPACK_IMPORTED_MODULE_7__.d)(history);return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{style:{marginBottom:"20px",paddingTop:"20px",borderTop:"1px solid #ddd",display:"flex"}},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ListboxStyled,{disabled:1===branchList.length,value:currentBranch.id,onChange:function(id){return id!==currentBranch.id&&switchToBranch(id,"HEAD_OF_BRANCH")}},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_reach_listbox__WEBPACK_IMPORTED_MODULE_3__.a,{arrow:react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_primer_octicons_react__WEBPACK_IMPORTED_MODULE_5__.c,{size:16})}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_reach_listbox__WEBPACK_IMPORTED_MODULE_3__.e,{style:{padding:0,border:0,outline:"none",zIndex:2}},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ListboxListStyled,null,branchList.map((function(b){return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ListboxOptionStyled,{key:b.id,value:b.id,label:"branch "+b.number},"branch "+b.number+" (size "+(b.parent?b.parent.position.globalIndex+b.stack.length+1:b.stack.length)+", last-modified "+Object(_util__WEBPACK_IMPORTED_MODULE_6__.a)(Object(_util__WEBPACK_IMPORTED_MODULE_6__.b)(b.stack).created,now)+")")}))))),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("button",{disabled:!canUndo,onClick:function(){return undo()}},"undo",react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span",{style:{display:"inline-block",marginLeft:"8px",transform:"rotate(-90deg) scale(1.5)",opacity:.5}},"⎌")),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("button",{disabled:!canRedo,onClick:function(){return redo()}},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span",{style:{display:"inline-block",marginRight:"8px",transform:"rotate(90deg) scale(1.5)",opacity:.5}},"⎌"),"redo"))},ListboxStyled=Object(_emotion_styled__WEBPACK_IMPORTED_MODULE_2__.a)(_reach_listbox__WEBPACK_IMPORTED_MODULE_3__.b)(templateObject_1||(templateObject_1=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)(["\n  display: inline-block;\n  margin-right: 10px;\n  [data-reach-listbox-button] {\n    background: white;\n    padding: 4px 8px;\n    font-size: 14px;\n    height: 19px;\n    min-width: 183px;\n    border-radius: 2px;\n    cursor: pointer;\n    &[aria-disabled] {\n      cursor: default;\n    }\n    &:focus {\n      outline: 1px solid #48a7f6;\n    }\n    &:hover {\n      background: #f7f8fa;\n    }\n  }\n"],["\n  display: inline-block;\n  margin-right: 10px;\n  [data-reach-listbox-button] {\n    background: white;\n    padding: 4px 8px;\n    font-size: 14px;\n    height: 19px;\n    min-width: 183px;\n    border-radius: 2px;\n    cursor: pointer;\n    &[aria-disabled] {\n      cursor: default;\n    }\n    &:focus {\n      outline: 1px solid #48a7f6;\n    }\n    &:hover {\n      background: #f7f8fa;\n    }\n  }\n"]))),ListboxListStyled=Object(_emotion_styled__WEBPACK_IMPORTED_MODULE_2__.a)(_reach_listbox__WEBPACK_IMPORTED_MODULE_3__.c)(templateObject_2||(templateObject_2=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)(["\n  padding: 0;\n  border: 1px solid #48a7f6;\n  box-shadow: 0 1px 5px 0 rgba(0, 0, 0, 0.1);\n"],["\n  padding: 0;\n  border: 1px solid #48a7f6;\n  box-shadow: 0 1px 5px 0 rgba(0, 0, 0, 0.1);\n"]))),ListboxOptionStyled=Object(_emotion_styled__WEBPACK_IMPORTED_MODULE_2__.a)(_reach_listbox__WEBPACK_IMPORTED_MODULE_3__.d)(templateObject_3||(templateObject_3=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)(["\n  font-family: Verdana, sans-serif;\n  font-size: 14px;\n  cursor: pointer;\n  padding: 8px 16px;\n  border: 0;\n  &[aria-selected='true'] {\n    background: #f7f8fa;\n    color: black;\n  }\n  &[data-current] {\n    color: white;\n    background: #48a7f6;\n    font-weight: normal;\n    cursor: default;\n  }\n"],["\n  font-family: Verdana, sans-serif;\n  font-size: 14px;\n  cursor: pointer;\n  padding: 8px 16px;\n  border: 0;\n  &[aria-selected='true'] {\n    background: #f7f8fa;\n    color: black;\n  }\n  &[data-current] {\n    color: white;\n    background: #48a7f6;\n    font-weight: normal;\n    cursor: default;\n  }\n"])))},580:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(26),storybook_readme__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(330);__webpack_require__(831);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.addDecorator)(storybook_readme__WEBPACK_IMPORTED_MODULE_1__.addReadme),Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.configure)((function loadStories(){__webpack_require__(848)}),module)}.call(this,__webpack_require__(79)(module))},6:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ActionList}));var templateObject_1,templateObject_2,templateObject_3,templateObject_4,templateObject_5,tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(9),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),_emotion_styled__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(53),_reach_menu_button__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(119),_primer_octicons_react__WEBPACK_IMPORTED_MODULE_5__=(__webpack_require__(855),__webpack_require__(117)),_src_helpers__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(73),_util__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(39),ActionList=function(_a){var history=_a.history,timeTravel=_a.timeTravel,switchToBranch=_a.switchToBranch,describeAction=_a.describeAction,_b=Object(react__WEBPACK_IMPORTED_MODULE_1__.useState)(new Date),now=_b[0],setNow=_b[1];Object(_util__WEBPACK_IMPORTED_MODULE_7__.c)((function(){return setNow(new Date)}),5e3);var currentBranch=Object(_src_helpers__WEBPACK_IMPORTED_MODULE_6__.a)(history),stack=currentBranch.stack,currentIndex=Object(_src_helpers__WEBPACK_IMPORTED_MODULE_6__.b)(history),connections=Object(_src_helpers__WEBPACK_IMPORTED_MODULE_6__.c)(currentBranch.id,!0)(history);return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{style:{position:"relative",marginTop:"10px",paddingBottom:"20px",width:"100%",overflow:"auto"}},stack.slice().reverse().map((function(action,index){return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(StackItem,{key:action.id,action:action,isCurrent:history.currentPosition.actionId===action.id,timeTravel:function(){timeTravel(stack.length-1-index)},now:now,describeAction:describeAction,connections:connections.filter((function(c){return c.position.actionId===action.id})),switchToBranch:switchToBranch})})),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Indicator,{style:{top:2+32*(stack.length-currentIndex-1)+"px"}},"⮕"))},Indicator=_emotion_styled__WEBPACK_IMPORTED_MODULE_2__.a.div(templateObject_1||(templateObject_1=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)(["\n  height: 32px;\n  display: flex;\n  align-items: center;\n  color: #48a7f6;\n  font-size: 16px;\n  opacity: 0.8;\n  position: absolute;\n  left: 30px;\n  border-radius: 50%;\n  transition: all 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);\n"],["\n  height: 32px;\n  display: flex;\n  align-items: center;\n  color: #48a7f6;\n  font-size: 16px;\n  opacity: 0.8;\n  position: absolute;\n  left: 30px;\n  border-radius: 50%;\n  transition: all 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);\n"]))),StackItem=function(_a){var action=_a.action,isCurrent=_a.isCurrent,now=_a.now,describeAction=_a.describeAction,connections=_a.connections,timeTravel=_a.timeTravel,switchToBranch=_a.switchToBranch,created=action.created,type=action.type,payload=action.payload;return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(StackItemRoot,null,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{style:{color:"#48a7f6",padding:"8px 0",flex:"0 0 52px"}},connections.length>0?react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_reach_menu_button__WEBPACK_IMPORTED_MODULE_3__.a,null,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_reach_menu_button__WEBPACK_IMPORTED_MODULE_3__.b,null,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_primer_octicons_react__WEBPACK_IMPORTED_MODULE_5__.b,{size:16})),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(MenuListStyled,null,connections.map((function(c){return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(MenuItemStyled,{key:c.branches[0].id,onSelect:function(){return switchToBranch(c.branches[0].id,"LAST_COMMON_ACTION")}},"Switch to branch "+c.branches.map((function(b){return b.number})).join(", ").replace(/,(?=[^,]*$)/," and"))})))):react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span",{style:{color:"#bbb",marginLeft:"1px",display:"inline-block"}},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_primer_octicons_react__WEBPACK_IMPORTED_MODULE_5__.a,{size:10,verticalAlign:"middle"}))),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(StackItemContent,{isCurrent:isCurrent,onClick:timeTravel},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"time",style:{minWidth:"120px"}},Object(_util__WEBPACK_IMPORTED_MODULE_7__.a)(created,now)),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"description",style:{flex:1,whiteSpace:"nowrap"}},describeAction?describeAction(action):JSON.stringify({type:type,payload:payload}))))},StackItemRoot=_emotion_styled__WEBPACK_IMPORTED_MODULE_2__.a.div(templateObject_2||(templateObject_2=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)(["\n  display: flex;\n  height: 32px;\n  box-sizing: border-box;\n  [data-reach-menu-button] {\n    display: flex;\n    color: #48a7f6;\n    background: transparent;\n    border: none;\n    padding: 2px;\n    cursor: pointer;\n    &:focus {\n      outline: none;\n    }\n    &:hover {\n      background: #f7f8fa;\n    }\n    &[aria-expanded='true'] {\n      color: white;\n      background: #48a7f6;\n    }\n  }\n"],["\n  display: flex;\n  height: 32px;\n  box-sizing: border-box;\n  [data-reach-menu-button] {\n    display: flex;\n    color: #48a7f6;\n    background: transparent;\n    border: none;\n    padding: 2px;\n    cursor: pointer;\n    &:focus {\n      outline: none;\n    }\n    &:hover {\n      background: #f7f8fa;\n    }\n    &[aria-expanded='true'] {\n      color: white;\n      background: #48a7f6;\n    }\n  }\n"]))),MenuListStyled=Object(_emotion_styled__WEBPACK_IMPORTED_MODULE_2__.a)(_reach_menu_button__WEBPACK_IMPORTED_MODULE_3__.d)(templateObject_3||(templateObject_3=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)(["\n  padding: 0;\n  border: 1px solid #48a7f6;\n  box-shadow: 0 1px 5px 0 rgba(0, 0, 0, 0.1);\n"],["\n  padding: 0;\n  border: 1px solid #48a7f6;\n  box-shadow: 0 1px 5px 0 rgba(0, 0, 0, 0.1);\n"]))),MenuItemStyled=Object(_emotion_styled__WEBPACK_IMPORTED_MODULE_2__.a)(_reach_menu_button__WEBPACK_IMPORTED_MODULE_3__.c)(templateObject_4||(templateObject_4=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)(["\n  font-family: Verdana, sans-serif;\n  padding: 8px 16px;\n  &[data-selected] {\n    background: #f7f8fa;\n    color: black;\n  }\n"],["\n  font-family: Verdana, sans-serif;\n  padding: 8px 16px;\n  &[data-selected] {\n    background: #f7f8fa;\n    color: black;\n  }\n"]))),StackItemContent=_emotion_styled__WEBPACK_IMPORTED_MODULE_2__.a.div(templateObject_5||(templateObject_5=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)(["\n  padding: 8px;\n  display: flex;\n  &:hover {\n    background: #f7f8fa;\n  }\n  cursor: pointer;\n  .time {\n    color: ",";\n  }\n  ","\n"],["\n  padding: 8px;\n  display: flex;\n  &:hover {\n    background: #f7f8fa;\n  }\n  cursor: pointer;\n  .time {\n    color: ",";\n  }\n  ","\n"])),(function(_a){return _a.isCurrent?"#48a7f6":"#BBB"}),(function(_a){return _a.isCurrent&&"\n    color: #48a7f6;\n    cursor: default;\n    "}))},7:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return NumberInput}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),NumberInput=function(_a){var v=_a.value,onChange=_a.onChange;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input",{type:"number",value:null===v?"":v,onChange:function(_a){var value=_a.target.value;return onChange(""===value?null:Number(value))}})}},73:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return getCurrentBranch})),__webpack_require__.d(__webpack_exports__,"b",(function(){return getCurrentIndex})),__webpack_require__.d(__webpack_exports__,"e",(function(){return isUndoPossible})),__webpack_require__.d(__webpack_exports__,"d",(function(){return isRedoPossible})),__webpack_require__.d(__webpack_exports__,"c",(function(){return getSideBranches}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(9),getCurrentBranch=(__webpack_require__(46),__webpack_require__(74),function(prev){return prev.branches[prev.currentBranchId]}),getCurrentIndex=function(prev){return prev.currentPosition.globalIndex},isUndoPossible=function(history){return getCurrentIndex(history)>0},isRedoPossible=function(history){return getCurrentIndex(history)<getCurrentBranch(history).stack.length-1},getSideBranches=function(branchId,flatten){return function(history){return Object.values(history.branches).filter((function(b){var _a;return(null===(_a=b.parent)||void 0===_a?void 0:_a.branchId)===branchId})).map((function(b){var flattenedBranches=flatten?getSideBranches(b.id,!0)(history).flatMap((function(con){return con.branches})):[];return{position:b.parent.position,branches:Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)([b],flattenedBranches)}}))}}},848:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(849),__webpack_require__(857),__webpack_require__(858),__webpack_require__(859),__webpack_require__(860),__webpack_require__(861)},849:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(26),_intro__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(331),_intro_intro_md__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(332),_intro_md__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(333),_delta_payload__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(334),_delta_payload_intro_md__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(336),_delta_payload_md__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(337),_make_handler__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(338),_make_handler_intro_md__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(339),_make_handler_md__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(340),_make_undoable_handler__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(341),_make_undoable_handler_intro_md__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(342),_make_undoable_handler_md__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(343),_make_handler_separate__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(344),_make_handler_separate_intro_md__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(345),_make_handler_separate_md__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(346),_from_to_payload__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(347),_from_to_payload_intro_md__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(348),_from_to_payload_md__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(349),_make_undoable_from_to_handler__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(350),_make_undoable_from_to_handler_intro_md__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(351),_make_undoable_from_to_handler_md__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(352),_invert_from_to_handler__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(353),_invert_from_to_handler_intro_md__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(354),_invert_from_to_handler_md__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(355);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("useUndoableEffects/payload & handlers",module).addParameters({options:{theme:{}}}).add("intro",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_intro__WEBPACK_IMPORTED_MODULE_2__.a,null)}),{readme:{content:_intro_intro_md__WEBPACK_IMPORTED_MODULE_3__.a,sidebar:_intro_md__WEBPACK_IMPORTED_MODULE_4__.a}}).add("state delta as payload",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_delta_payload__WEBPACK_IMPORTED_MODULE_5__.a,null)}),{readme:{content:_delta_payload_intro_md__WEBPACK_IMPORTED_MODULE_6__.a,sidebar:_delta_payload_md__WEBPACK_IMPORTED_MODULE_7__.a}}).add("makeHandler & combineHandlers",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_make_handler__WEBPACK_IMPORTED_MODULE_8__.a,null)}),{readme:{content:_make_handler_intro_md__WEBPACK_IMPORTED_MODULE_9__.a,sidebar:_make_handler_md__WEBPACK_IMPORTED_MODULE_10__.a}}).add("makeUndoableHandler & invertHandlers",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_make_undoable_handler__WEBPACK_IMPORTED_MODULE_11__.a,null)}),{readme:{content:_make_undoable_handler_intro_md__WEBPACK_IMPORTED_MODULE_12__.a,sidebar:_make_undoable_handler_md__WEBPACK_IMPORTED_MODULE_13__.a}}).add("separate drdoHandlers and undoHandlers",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_make_handler_separate__WEBPACK_IMPORTED_MODULE_14__.a,null)}),{readme:{content:_make_handler_separate_intro_md__WEBPACK_IMPORTED_MODULE_15__.a,sidebar:_make_handler_separate_md__WEBPACK_IMPORTED_MODULE_16__.a}}).add("from- and to-state as payload",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_from_to_payload__WEBPACK_IMPORTED_MODULE_17__.a,null)}),{readme:{content:_from_to_payload_intro_md__WEBPACK_IMPORTED_MODULE_18__.a,sidebar:_from_to_payload_md__WEBPACK_IMPORTED_MODULE_19__.a}}).add("makeUndoableFTHandler & wrapFTHandler",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_make_undoable_from_to_handler__WEBPACK_IMPORTED_MODULE_20__.a,null)}),{readme:{content:_make_undoable_from_to_handler_intro_md__WEBPACK_IMPORTED_MODULE_21__.a,sidebar:_make_undoable_from_to_handler_md__WEBPACK_IMPORTED_MODULE_22__.a}}).add("makeFTHandler & invertFTHandler",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_invert_from_to_handler__WEBPACK_IMPORTED_MODULE_23__.a,null)}),{readme:{content:_invert_from_to_handler_intro_md__WEBPACK_IMPORTED_MODULE_24__.a,sidebar:_invert_from_to_handler_md__WEBPACK_IMPORTED_MODULE_25__.a}})}).call(this,__webpack_require__(79)(module))},857:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(26),_dependent_state_wrong__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(356),_dependent_state_wrong_intro_md__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(357),_dependent_state_wrong_md__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(358),_dependency_in_payload__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(359),_dependency_in_payload_intro_md__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(360),_dependency_in_payload_md__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(361),_dependency_in_previous_state__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(362),_dependency_in_previous_state_intro_md__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(363),_dependency_in_previous_state_md__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(364),_make_undoable_setter__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(365),_make_undoable_setter_intro_md__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(366),_make_undoable_setter_md__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(367),_previous_state_and_payload__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(368),_previous_state_and_payload_intro_md__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(369),_previous_state_and_payload_md__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(370);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("useUndoableEffects/dependent state",module).addParameters({options:{theme:{}}}).add("don't do this",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_dependent_state_wrong__WEBPACK_IMPORTED_MODULE_2__.a,null)}),{readme:{content:_dependent_state_wrong_intro_md__WEBPACK_IMPORTED_MODULE_3__.a,sidebar:_dependent_state_wrong_md__WEBPACK_IMPORTED_MODULE_4__.a}}).add("dependency in payload",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_dependency_in_payload__WEBPACK_IMPORTED_MODULE_5__.a,null)}),{readme:{content:_dependency_in_payload_intro_md__WEBPACK_IMPORTED_MODULE_6__.a,sidebar:_dependency_in_payload_md__WEBPACK_IMPORTED_MODULE_7__.a}}).add("dependency in previous state",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_dependency_in_previous_state__WEBPACK_IMPORTED_MODULE_8__.a,null)}),{readme:{content:_dependency_in_previous_state_intro_md__WEBPACK_IMPORTED_MODULE_9__.a,sidebar:_dependency_in_previous_state_md__WEBPACK_IMPORTED_MODULE_10__.a}}).add("makeUndoableSetter",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_make_undoable_setter__WEBPACK_IMPORTED_MODULE_11__.a,null)}),{readme:{content:_make_undoable_setter_intro_md__WEBPACK_IMPORTED_MODULE_12__.a,sidebar:_make_undoable_setter_md__WEBPACK_IMPORTED_MODULE_13__.a}}).add("previous state and payload",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_previous_state_and_payload__WEBPACK_IMPORTED_MODULE_14__.a,null)}),{readme:{content:_previous_state_and_payload_intro_md__WEBPACK_IMPORTED_MODULE_15__.a,sidebar:_previous_state_and_payload_md__WEBPACK_IMPORTED_MODULE_16__.a}})}).call(this,__webpack_require__(79)(module))},858:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(26),_use_reducer__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(371),_use_reducer_md__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(372),_bind_action_creators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(373),_bind_action_creators_md__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(374),_use_bind_action_creators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(375),_use_bind_action_creators_md__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(376),_use_unducer__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(377),_use_unducer_intro_md__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(378),_use_unducer_md__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(379),_bind_undoable_action_creators__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(380),_bind_undoable_action_creators_intro_md__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(381),_bind_undoable_action_creators_md__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(382),_bind_separate_action_creators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(383),_bind_separate_action_creators_md__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(384),_use_bound_unducer__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(385),_use_bound_unducer_intro_md__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(386),_use_bound_unducer_md__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(387),_use_bound_unducer_with_sep_action_creators__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(388),_use_bound_unducer_with_sep_action_creators_md__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(389),_reducer_with_previous_state_and_payload__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(390),_reducer_with_previous_state_and_payload_intro_md__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(391),_reducer_with_previous_state_and_payload_md__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(392),_reducer_and_use_state__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(393),_reducer_and_use_state_intro_md__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(394),_reducer_and_use_state_md__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(395);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("useUndoableEffects/combination with a reducer",module).addParameters({options:{theme:{}}}).add("reducer & makeUpdater",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_use_reducer__WEBPACK_IMPORTED_MODULE_2__.a,null)}),{readme:{sidebar:_use_reducer_md__WEBPACK_IMPORTED_MODULE_3__.a}}).add("makeReducer & bindActionCreators",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_bind_action_creators__WEBPACK_IMPORTED_MODULE_4__.a,null)}),{readme:{sidebar:_bind_action_creators_md__WEBPACK_IMPORTED_MODULE_5__.a}}).add("useBindActionCreators",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_use_bind_action_creators__WEBPACK_IMPORTED_MODULE_6__.a,null)}),{readme:{sidebar:_use_bind_action_creators_md__WEBPACK_IMPORTED_MODULE_7__.a}}).add("bindSeparateActionCreators",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_bind_separate_action_creators__WEBPACK_IMPORTED_MODULE_14__.a,null)}),{readme:{sidebar:_bind_separate_action_creators_md__WEBPACK_IMPORTED_MODULE_15__.a}}).add("useBindSeparateActionCreators",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_use_bound_unducer_with_sep_action_creators__WEBPACK_IMPORTED_MODULE_19__.a,null)}),{readme:{sidebar:_use_bound_unducer_with_sep_action_creators_md__WEBPACK_IMPORTED_MODULE_20__.a}}).add("unducer & makeUndoableUpdater",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_use_unducer__WEBPACK_IMPORTED_MODULE_8__.a,null)}),{readme:{content:_use_unducer_intro_md__WEBPACK_IMPORTED_MODULE_9__.a,sidebar:_use_unducer_md__WEBPACK_IMPORTED_MODULE_10__.a}}).add("makeUnducer & bindUndoableActionCreators",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_bind_undoable_action_creators__WEBPACK_IMPORTED_MODULE_11__.a,null)}),{readme:{content:_bind_undoable_action_creators_intro_md__WEBPACK_IMPORTED_MODULE_12__.a,sidebar:_bind_undoable_action_creators_md__WEBPACK_IMPORTED_MODULE_13__.a}}).add("useBindUndoableActionCreators",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_use_bound_unducer__WEBPACK_IMPORTED_MODULE_16__.a,null)}),{readme:{content:_use_bound_unducer_intro_md__WEBPACK_IMPORTED_MODULE_17__.a,sidebar:_use_bound_unducer_md__WEBPACK_IMPORTED_MODULE_18__.a}}).add("previous state and payload",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_reducer_with_previous_state_and_payload__WEBPACK_IMPORTED_MODULE_21__.a,null)}),{readme:{content:_reducer_with_previous_state_and_payload_intro_md__WEBPACK_IMPORTED_MODULE_22__.a,sidebar:_reducer_with_previous_state_and_payload_md__WEBPACK_IMPORTED_MODULE_23__.a}}).add("reducer and useState",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_reducer_and_use_state__WEBPACK_IMPORTED_MODULE_24__.a,null)}),{readme:{content:_reducer_and_use_state_intro_md__WEBPACK_IMPORTED_MODULE_25__.a,sidebar:_reducer_and_use_state_md__WEBPACK_IMPORTED_MODULE_26__.a}})}).call(this,__webpack_require__(79)(module))},859:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(26),_time_travel_by_id__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(396),_time_travel_by_index__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(397),_switch_to_branch__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(398),_describe_actions_switch__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(399),_describe_actions_map__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(400),_description_in_payload__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(401);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("useUndoableEffects/time travel",module).addParameters({options:{theme:{}}}).add("time travel by id",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_time_travel_by_id__WEBPACK_IMPORTED_MODULE_2__.a,null)}),{readme:{}}).add("time travel by index",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_time_travel_by_index__WEBPACK_IMPORTED_MODULE_3__.a,null)}),{readme:{}}).add("switch branch",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_switch_to_branch__WEBPACK_IMPORTED_MODULE_4__.a,null)}),{readme:{}}).add("describe-actions-switch",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_describe_actions_switch__WEBPACK_IMPORTED_MODULE_5__.a,null)}),{readme:{}}).add("describe-actions-map",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_describe_actions_map__WEBPACK_IMPORTED_MODULE_6__.a,null)}),{readme:{}}).add("description-in-payload",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_description_in_payload__WEBPACK_IMPORTED_MODULE_7__.a,null)}),{readme:{}})}).call(this,__webpack_require__(79)(module))},860:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(26),_memoization__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(402),_memoization_intro_md__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(403),_memoization_md__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(404),_other_history_change__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(405),_other_history_change_md__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(406),_other_history_change_intro_md__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(407),_initial_history__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(408),_initial_history_intro_md__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(409),_initial_history_md__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(410),_initial_history_typed__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(411),_initial_history_typed_intro_md__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(412),_initial_history_typed_md__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(413),_local_storage__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(414),_local_storage_intro_md__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(415),_local_storage_md__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(416),_revive_state__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(417),_revive_state_md__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(418),_revive_state_intro_md__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(419);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("useUndoableEffects/memoization, logging & persistence",module).addParameters({options:{theme:{}}}).add("memoization",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_memoization__WEBPACK_IMPORTED_MODULE_2__.a,null)}),{readme:{content:_memoization_intro_md__WEBPACK_IMPORTED_MODULE_3__.a,sidebar:_memoization_md__WEBPACK_IMPORTED_MODULE_4__.a}}).add("logging history state changes",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_other_history_change__WEBPACK_IMPORTED_MODULE_5__.a,null)}),{readme:{content:_other_history_change_intro_md__WEBPACK_IMPORTED_MODULE_7__.a,sidebar:_other_history_change_md__WEBPACK_IMPORTED_MODULE_6__.a}}).add("initialHistory parsed",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_initial_history__WEBPACK_IMPORTED_MODULE_8__.a,null)}),{readme:{content:_initial_history_intro_md__WEBPACK_IMPORTED_MODULE_9__.a,sidebar:_initial_history_md__WEBPACK_IMPORTED_MODULE_10__.a}}).add("initialHistory typed",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_initial_history_typed__WEBPACK_IMPORTED_MODULE_11__.a,null)}),{readme:{content:_initial_history_typed_intro_md__WEBPACK_IMPORTED_MODULE_12__.a,sidebar:_initial_history_typed_md__WEBPACK_IMPORTED_MODULE_13__.a}}).add("setHistory from localStorage",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_local_storage__WEBPACK_IMPORTED_MODULE_14__.a,null)}),{readme:{content:_local_storage_intro_md__WEBPACK_IMPORTED_MODULE_15__.a,sidebar:_local_storage_md__WEBPACK_IMPORTED_MODULE_16__.a}}).add("restore application state from history",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_revive_state__WEBPACK_IMPORTED_MODULE_17__.a,null)}),{readme:{content:_revive_state_intro_md__WEBPACK_IMPORTED_MODULE_19__.a,sidebar:_revive_state_md__WEBPACK_IMPORTED_MODULE_18__.a}})}).call(this,__webpack_require__(79)(module))},861:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(26),_use_undoable_unducer__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(420),_use_undoable_unducer_md__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(421),_use_undoable_reducer__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(422),_use_undoable_reducer_md__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(423);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("useUndoableReducer",module).addParameters({options:{theme:{}}}).add("useUndoableUnducer",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_use_undoable_unducer__WEBPACK_IMPORTED_MODULE_2__.a,null)}),{readme:{sidebar:_use_undoable_unducer_md__WEBPACK_IMPORTED_MODULE_3__.a}}).add("useUndoableReducer",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_use_undoable_reducer__WEBPACK_IMPORTED_MODULE_4__.a,null)}),{readme:{sidebar:_use_undoable_reducer_md__WEBPACK_IMPORTED_MODULE_5__.a}})}).call(this,__webpack_require__(79)(module))},96:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return reviver}));var dateFormat=/^\d\d\d\d-\d\d-\d\dT\d\d:\d\d:\d\d.\d\d\dZ$/,reviver=function(_,value){return"string"==typeof value&&dateFormat.test(value)?new Date(value):value}}},[[426,1,2]]]);
//# sourceMappingURL=main.278d0976001d9e7a190b.bundle.js.map